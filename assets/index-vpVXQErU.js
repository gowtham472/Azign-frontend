(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function d0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yp={exports:{}},Ml={},vp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function uP(){if(Q_)return De;Q_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function A(q,Z,ve){this.props=q,this.context=Z,this.refs=x,this.updater=ve||I}A.prototype.isReactComponent={},A.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=A.prototype;function j(q,Z,ve){this.props=q,this.context=Z,this.refs=x,this.updater=ve||I}var L=j.prototype=new b;L.constructor=j,C(L,A.prototype),L.isPureReactComponent=!0;var Q=Array.isArray,z=Object.prototype.hasOwnProperty,re={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(q,Z,ve){var ke,be={},Me=null,$e=null;if(Z!=null)for(ke in Z.ref!==void 0&&($e=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)z.call(Z,ke)&&!D.hasOwnProperty(ke)&&(be[ke]=Z[ke]);var qe=arguments.length-2;if(qe===1)be.children=ve;else if(1<qe){for(var Ye=Array(qe),kt=0;kt<qe;kt++)Ye[kt]=arguments[kt+2];be.children=Ye}if(q&&q.defaultProps)for(ke in qe=q.defaultProps,qe)be[ke]===void 0&&(be[ke]=qe[ke]);return{$$typeof:t,type:q,key:Me,ref:$e,props:be,_owner:re.current}}function k(q,Z){return{$$typeof:t,type:q.type,key:Z,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ve){return Z[ve]})}var $=/\/+/g;function V(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):Z.toString(36)}function Xe(q,Z,ve,ke,be){var Me=typeof q;(Me==="undefined"||Me==="boolean")&&(q=null);var $e=!1;if(q===null)$e=!0;else switch(Me){case"string":case"number":$e=!0;break;case"object":switch(q.$$typeof){case t:case e:$e=!0}}if($e)return $e=q,be=be($e),q=ke===""?"."+V($e,0):ke,Q(be)?(ve="",q!=null&&(ve=q.replace($,"$&/")+"/"),Xe(be,Z,ve,"",function(kt){return kt})):be!=null&&(M(be)&&(be=k(be,ve+(!be.key||$e&&$e.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+q)),Z.push(be)),1;if($e=0,ke=ke===""?".":ke+":",Q(q))for(var qe=0;qe<q.length;qe++){Me=q[qe];var Ye=ke+V(Me,qe);$e+=Xe(Me,Z,ve,Ye,be)}else if(Ye=E(q),typeof Ye=="function")for(q=Ye.call(q),qe=0;!(Me=q.next()).done;)Me=Me.value,Ye=ke+V(Me,qe++),$e+=Xe(Me,Z,ve,Ye,be);else if(Me==="object")throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return $e}function yt(q,Z,ve){if(q==null)return q;var ke=[],be=0;return Xe(q,ke,"","",function(Me){return Z.call(ve,Me,be++)}),ke}function vt(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(ve){(q._status===0||q._status===-1)&&(q._status=1,q._result=ve)},function(ve){(q._status===0||q._status===-1)&&(q._status=2,q._result=ve)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var Se={current:null},se={transition:null},ye={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:se,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:yt,forEach:function(q,Z,ve){yt(q,function(){Z.apply(this,arguments)},ve)},count:function(q){var Z=0;return yt(q,function(){Z++}),Z},toArray:function(q){return yt(q,function(Z){return Z})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},De.Component=A,De.Fragment=n,De.Profiler=s,De.PureComponent=j,De.StrictMode=r,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=le,De.cloneElement=function(q,Z,ve){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ke=C({},q.props),be=q.key,Me=q.ref,$e=q._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,$e=re.current),Z.key!==void 0&&(be=""+Z.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(Ye in Z)z.call(Z,Ye)&&!D.hasOwnProperty(Ye)&&(ke[Ye]=Z[Ye]===void 0&&qe!==void 0?qe[Ye]:Z[Ye])}var Ye=arguments.length-2;if(Ye===1)ke.children=ve;else if(1<Ye){qe=Array(Ye);for(var kt=0;kt<Ye;kt++)qe[kt]=arguments[kt+2];ke.children=qe}return{$$typeof:t,type:q.type,key:be,ref:Me,props:ke,_owner:$e}},De.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},De.createElement=R,De.createFactory=function(q){var Z=R.bind(null,q);return Z.type=q,Z},De.createRef=function(){return{current:null}},De.forwardRef=function(q){return{$$typeof:c,render:q}},De.isValidElement=M,De.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:vt}},De.memo=function(q,Z){return{$$typeof:p,type:q,compare:Z===void 0?null:Z}},De.startTransition=function(q){var Z=se.transition;se.transition={};try{q()}finally{se.transition=Z}},De.unstable_act=le,De.useCallback=function(q,Z){return Se.current.useCallback(q,Z)},De.useContext=function(q){return Se.current.useContext(q)},De.useDebugValue=function(){},De.useDeferredValue=function(q){return Se.current.useDeferredValue(q)},De.useEffect=function(q,Z){return Se.current.useEffect(q,Z)},De.useId=function(){return Se.current.useId()},De.useImperativeHandle=function(q,Z,ve){return Se.current.useImperativeHandle(q,Z,ve)},De.useInsertionEffect=function(q,Z){return Se.current.useInsertionEffect(q,Z)},De.useLayoutEffect=function(q,Z){return Se.current.useLayoutEffect(q,Z)},De.useMemo=function(q,Z){return Se.current.useMemo(q,Z)},De.useReducer=function(q,Z,ve){return Se.current.useReducer(q,Z,ve)},De.useRef=function(q){return Se.current.useRef(q)},De.useState=function(q){return Se.current.useState(q)},De.useSyncExternalStore=function(q,Z,ve){return Se.current.useSyncExternalStore(q,Z,ve)},De.useTransition=function(){return Se.current.useTransition()},De.version="18.3.1",De}var X_;function rg(){return X_||(X_=1,vp.exports=uP()),vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function cP(){if(Y_)return Ml;Y_=1;var t=rg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,_={},E=null,I=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(I=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:c,key:E,ref:I,props:_,_owner:s.current}}return Ml.Fragment=n,Ml.jsx=l,Ml.jsxs=l,Ml}var J_;function dP(){return J_||(J_=1,yp.exports=cP()),yp.exports}var S=dP(),O=rg();const ze=d0(O);var od={},_p={exports:{}},vn={},wp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function hP(){return Z_||(Z_=1,function(t){function e(se,ye){var le=se.length;se.push(ye);e:for(;0<le;){var q=le-1>>>1,Z=se[q];if(0<s(Z,ye))se[q]=ye,se[le]=Z,le=q;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ye=se[0],le=se.pop();if(le!==ye){se[0]=le;e:for(var q=0,Z=se.length,ve=Z>>>1;q<ve;){var ke=2*(q+1)-1,be=se[ke],Me=ke+1,$e=se[Me];if(0>s(be,le))Me<Z&&0>s($e,be)?(se[q]=$e,se[Me]=le,q=Me):(se[q]=be,se[ke]=le,q=ke);else if(Me<Z&&0>s($e,le))se[q]=$e,se[Me]=le,q=Me;else break e}}return ye}function s(se,ye){var le=se.sortIndex-ye.sortIndex;return le!==0?le:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,E=3,I=!1,C=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(se){for(var ye=n(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=se)r(p),ye.sortIndex=ye.expirationTime,e(h,ye);else break;ye=n(p)}}function Q(se){if(x=!1,L(se),!C)if(n(h)!==null)C=!0,vt(z);else{var ye=n(p);ye!==null&&Se(Q,ye.startTime-se)}}function z(se,ye){C=!1,x&&(x=!1,b(R),R=-1),I=!0;var le=E;try{for(L(ye),_=n(h);_!==null&&(!(_.expirationTime>ye)||se&&!U());){var q=_.callback;if(typeof q=="function"){_.callback=null,E=_.priorityLevel;var Z=q(_.expirationTime<=ye);ye=t.unstable_now(),typeof Z=="function"?_.callback=Z:_===n(h)&&r(h),L(ye)}else r(h);_=n(h)}if(_!==null)var ve=!0;else{var ke=n(p);ke!==null&&Se(Q,ke.startTime-ye),ve=!1}return ve}finally{_=null,E=le,I=!1}}var re=!1,D=null,R=-1,k=5,M=-1;function U(){return!(t.unstable_now()-M<k)}function $(){if(D!==null){var se=t.unstable_now();M=se;var ye=!0;try{ye=D(!0,se)}finally{ye?V():(re=!1,D=null)}}else re=!1}var V;if(typeof j=="function")V=function(){j($)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,yt=Xe.port2;Xe.port1.onmessage=$,V=function(){yt.postMessage(null)}}else V=function(){A($,0)};function vt(se){D=se,re||(re=!0,V())}function Se(se,ye){R=A(function(){se(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){C||I||(C=!0,vt(z))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(se){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var le=E;E=ye;try{return se()}finally{E=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=E;E=se;try{return ye()}finally{E=le}},t.unstable_scheduleCallback=function(se,ye,le){var q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?q+le:q):le=q,se){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,se={id:g++,callback:ye,priorityLevel:se,startTime:le,expirationTime:Z,sortIndex:-1},le>q?(se.sortIndex=le,e(p,se),n(h)===null&&se===n(p)&&(x?(b(R),R=-1):x=!0,Se(Q,le-q))):(se.sortIndex=Z,e(h,se),C||I||(C=!0,vt(z))),se},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(se){var ye=E;return function(){var le=E;E=ye;try{return se.apply(this,arguments)}finally{E=le}}}}(Ep)),Ep}var ew;function fP(){return ew||(ew=1,wp.exports=hP()),wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function pP(){if(tw)return vn;tw=1;var t=rg(),e=fP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return h.call(_,i)?!0:h.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function I(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,f){if(o===null||typeof o>"u"||I(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,f,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(b,j);A[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(b,j);A[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(b,j);A[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,o,u,f){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,m,f)&&(u=null),f||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),re=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,q;function Z(i){if(q===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+i}var ve=!1;function ke(i,o){if(!i||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){f=G}i.call(o.prototype)}else{try{throw Error()}catch(G){f=G}i()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=f.stack.split(`
`),T=m.length-1,N=v.length-1;1<=T&&0<=N&&m[T]!==v[N];)N--;for(;1<=T&&0<=N;T--,N--)if(m[T]!==v[N]){if(T!==1||N!==1)do if(T--,N--,0>N||m[T]!==v[N]){var F=`
`+m[T].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=T&&0<=N);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function be(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case re:return"Portal";case k:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case Xe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case yt:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case vt:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function $e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function qe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(i){var o=Ye(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){f=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Lr(i){i._valueTracker||(i._valueTracker=kt(i))}function ho(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ye(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ms(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function fo(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=qe(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $a(i,o){o=o.checked,o!=null&&L(i,"checked",o,!1)}function qa(i,o){$a(i,o);var u=qe(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?po(i,o.type,u):o.hasOwnProperty("defaultValue")&&po(i,o.type,qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Hu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function po(i,o,u){(o!=="number"||vi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Mr=Array.isArray;function jr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+qe(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ha(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function mo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Mr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:qe(u)}}function go(i,o){var u=qe(o.value),f=qe(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Wa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function St(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?St(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Fr,Ka=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Fr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function _i(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ys=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(i){ys.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),gs[o]=gs[i]})});function Ga(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||gs.hasOwnProperty(i)&&gs[i]?(""+o).trim():o+"px"}function Qa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ga(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Xa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(i,o){if(o){if(Xa[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ja(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function yo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vo=null,bn=null,gr=null;function _o(i){if(i=Tl(i)){if(typeof vo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Ec(o),vo(i.stateNode,i.type,o))}}function yr(i){bn?gr?gr.push(i):gr=[i]:bn=i}function Za(){if(bn){var i=bn,o=gr;if(gr=bn=null,_o(i),o)for(i=0;i<o.length;i++)_o(o[i])}}function _s(i,o){return i(o)}function el(){}var Ur=!1;function tl(i,o,u){if(Ur)return i(o,u);Ur=!0;try{return _s(i,o,u)}finally{Ur=!1,(bn!==null||gr!==null)&&(el(),Za())}}function ft(i,o){var u=i.stateNode;if(u===null)return null;var f=Ec(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var wo=!1;if(c)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{wo=!1}function ws(i,o,u,f,m,v,T,N,F){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ne){this.onError(ne)}}var Es=!1,Eo=null,Gn=!1,nl=null,qh={onError:function(i){Es=!0,Eo=i}};function To(i,o,u,f,m,v,T,N,F){Es=!1,Eo=null,ws.apply(qh,arguments)}function Wu(i,o,u,f,m,v,T,N,F){if(To.apply(this,arguments),Es){if(Es){var G=Eo;Es=!1,Eo=null}else throw Error(n(198));Gn||(Gn=!0,nl=G)}}function Qn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ts(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xn(i){if(Qn(i)!==i)throw Error(n(188))}function Ku(i){var o=i.alternate;if(!o){if(o=Qn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Xn(m),i;if(v===f)return Xn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var T=!1,N=m.child;N;){if(N===u){T=!0,u=m,f=v;break}if(N===f){T=!0,f=m,u=v;break}N=N.sibling}if(!T){for(N=v.child;N;){if(N===u){T=!0,u=v,f=m;break}if(N===f){T=!0,f=v,u=m;break}N=N.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function rl(i){return i=Ku(i),i!==null?So(i):null}function So(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=So(i);if(o!==null)return o;i=i.sibling}return null}var Io=e.unstable_scheduleCallback,il=e.unstable_cancelCallback,Gu=e.unstable_shouldYield,Hh=e.unstable_requestPaint,Je=e.unstable_now,Qu=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,wi=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,sl=e.unstable_LowPriority,Xu=e.unstable_IdlePriority,Is=null,En=null;function Yu(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Is,i,void 0,(i.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Zu,ol=Math.log,Ju=Math.LN2;function Zu(i){return i>>>=0,i===0?32:31-(ol(i)/Ju|0)|0}var Co=64,Ao=4194304;function Ei(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Cs(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,T=u&268435455;if(T!==0){var N=T&~m;N!==0?f=Ei(N):(v&=T,v!==0&&(f=Ei(v)))}else T=u&~m,T!==0?f=Ei(T):v!==0&&(f=Ei(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-sn(o),m=1<<u,f|=i[u],o&=~m;return f}function Wh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-sn(v),N=1<<T,F=m[T];F===-1?(!(N&u)||N&f)&&(m[T]=Wh(N,o)):F<=o&&(i.expiredLanes|=N),v&=~N}}function Tn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function As(){var i=Co;return Co<<=1,!(Co&4194240)&&(Co=64),i}function Ti(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Si(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-sn(o),i[o]=u}function Qe(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-sn(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function Ii(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-sn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Ve=0;function Ci(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ec,Ro,tc,nc,rc,al=!1,vr=[],jt=null,Yn=null,Jn=null,Ai=new Map,Nn=new Map,_r=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(i,o){switch(i){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ai.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(o.pointerId)}}function dn(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Tl(o),o!==null&&Ro(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Gh(i,o,u,f,m){switch(o){case"focusin":return jt=dn(jt,i,o,u,f,m),!0;case"dragenter":return Yn=dn(Yn,i,o,u,f,m),!0;case"mouseover":return Jn=dn(Jn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Ai.set(v,dn(Ai.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Nn.set(v,dn(Nn.get(v)||null,i,o,u,f,m)),!0}return!1}function sc(i){var o=bs(i.target);if(o!==null){var u=Qn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ts(u),o!==null){i.blockedOn=o,rc(i.priority,function(){tc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Po(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);vs=f,u.target.dispatchEvent(f),vs=null}else return o=Tl(u),o!==null&&Ro(o),i.blockedOn=u,!1;o.shift()}return!0}function Rs(i,o,u){zr(i)&&u.delete(o)}function oc(){al=!1,jt!==null&&zr(jt)&&(jt=null),Yn!==null&&zr(Yn)&&(Yn=null),Jn!==null&&zr(Jn)&&(Jn=null),Ai.forEach(Rs),Nn.forEach(Rs)}function Zn(i,o){i.blockedOn===o&&(i.blockedOn=null,al||(al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oc)))}function er(i){function o(m){return Zn(m,i)}if(0<vr.length){Zn(vr[0],i);for(var u=1;u<vr.length;u++){var f=vr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(jt!==null&&Zn(jt,i),Yn!==null&&Zn(Yn,i),Jn!==null&&Zn(Jn,i),Ai.forEach(o),Nn.forEach(o),u=0;u<_r.length;u++)f=_r[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<_r.length&&(u=_r[0],u.blockedOn===null);)sc(u),u.blockedOn===null&&_r.shift()}var $r=Q.ReactCurrentBatchConfig,Ri=!0;function it(i,o,u,f){var m=Ve,v=$r.transition;$r.transition=null;try{Ve=1,ll(i,o,u,f)}finally{Ve=m,$r.transition=v}}function Qh(i,o,u,f){var m=Ve,v=$r.transition;$r.transition=null;try{Ve=4,ll(i,o,u,f)}finally{Ve=m,$r.transition=v}}function ll(i,o,u,f){if(Ri){var m=Po(i,o,u,f);if(m===null)af(i,o,f,Ps,u),ic(i,f);else if(Gh(m,i,o,u,f))f.stopPropagation();else if(ic(i,f),o&4&&-1<Kh.indexOf(i)){for(;m!==null;){var v=Tl(m);if(v!==null&&ec(v),v=Po(i,o,u,f),v===null&&af(i,o,f,Ps,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else af(i,o,f,null,u)}}var Ps=null;function Po(i,o,u,f){if(Ps=null,i=yo(f),i=bs(i),i!==null)if(o=Qn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ts(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ps=i,null}function ul(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qu()){case Ss:return 1;case wi:return 4;case Dn:case sl:return 16;case Xu:return 536870912;default:return 16}default:return 16}}var Sn=null,xo=null,hn=null;function cl(){if(hn)return hn;var i,o=xo,u=o.length,f,m="value"in Sn?Sn.value:Sn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(f=1;f<=T&&o[u-f]===m[v-f];f++);return hn=m.slice(i,1<f?1-f:void 0)}function ko(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function dl(){return!1}function Ft(i){function o(u,f,m,v,T){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wr:dl,this.isPropagationStopped=dl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),o}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Ft(tr),Er=le({},tr,{view:0,detail:0}),Xh=Ft(Er),Do,qr,Pi,xs=le({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Do=i.screenX-Pi.screenX,qr=i.screenY-Pi.screenY):qr=Do=0,Pi=i),Do)},movementY:function(i){return"movementY"in i?i.movementY:qr}}),No=Ft(xs),hl=le({},xs,{dataTransfer:0}),ac=Ft(hl),Oo=le({},Er,{relatedTarget:0}),Vo=Ft(Oo),lc=le({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ft(lc),uc=le({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cc=Ft(uc),dc=le({},tr,{data:0}),fl=Ft(dc),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=hc[i])?!!o[i]:!1}function Tr(){return fc}var d=le({},Er,{key:function(i){if(i.key){var o=Lo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ko(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?on[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(i){return i.type==="keypress"?ko(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ko(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Ft(d),w=le({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Ft(w),H=le({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),X=Ft(H),ae=le({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Ft(ae),Ct=le({},xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ft(Ct),bt=[9,13,27,32],_t=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var In=c&&"TextEvent"in window&&!On,ks=c&&(!_t||On&&8<On&&11>=On),Mo=" ",$y=!1;function qy(i,o){switch(i){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jo=!1;function aR(i,o){switch(i){case"compositionend":return Hy(o);case"keypress":return o.which!==32?null:($y=!0,Mo);case"textInput":return i=o.data,i===Mo&&$y?null:i;default:return null}}function lR(i,o){if(jo)return i==="compositionend"||!_t&&qy(i,o)?(i=cl(),hn=xo=Sn=null,jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ks&&o.locale!=="ko"?null:o.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!uR[i.type]:o==="textarea"}function Ky(i,o,u,f){yr(f),o=vc(o,"onChange"),0<o.length&&(u=new bo("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var pl=null,ml=null;function cR(i){dv(i,0)}function pc(i){var o=$o(i);if(ho(o))return i}function dR(i,o){if(i==="change")return o}var Gy=!1;if(c){var Yh;if(c){var Jh="oninput"in document;if(!Jh){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Jh=typeof Qy.oninput=="function"}Yh=Jh}else Yh=!1;Gy=Yh&&(!document.documentMode||9<document.documentMode)}function Xy(){pl&&(pl.detachEvent("onpropertychange",Yy),ml=pl=null)}function Yy(i){if(i.propertyName==="value"&&pc(ml)){var o=[];Ky(o,ml,i,yo(i)),tl(cR,o)}}function hR(i,o,u){i==="focusin"?(Xy(),pl=o,ml=u,pl.attachEvent("onpropertychange",Yy)):i==="focusout"&&Xy()}function fR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(ml)}function pR(i,o){if(i==="click")return pc(o)}function mR(i,o){if(i==="input"||i==="change")return pc(o)}function gR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var nr=typeof Object.is=="function"?Object.is:gR;function gl(i,o){if(nr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!nr(i[m],o[m]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zy(i,o){var u=Jy(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Jy(u)}}function ev(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ev(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function tv(){for(var i=window,o=vi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=vi(i.document)}return o}function Zh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function yR(i){var o=tv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ev(u.ownerDocument.documentElement,u)){if(f!==null&&Zh(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Zy(u,v);var T=Zy(u,f);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var vR=c&&"documentMode"in document&&11>=document.documentMode,Fo=null,ef=null,yl=null,tf=!1;function nv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tf||Fo==null||Fo!==vi(f)||(f=Fo,"selectionStart"in f&&Zh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yl&&gl(yl,f)||(yl=f,f=vc(ef,"onSelect"),0<f.length&&(o=new bo("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Fo)))}function mc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Uo={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},nf={},rv={};c&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function gc(i){if(nf[i])return nf[i];if(!Uo[i])return i;var o=Uo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in rv)return nf[i]=o[u];return i}var iv=gc("animationend"),sv=gc("animationiteration"),ov=gc("animationstart"),av=gc("transitionend"),lv=new Map,uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(i,o){lv.set(i,o),a(o,[i])}for(var rf=0;rf<uv.length;rf++){var sf=uv[rf],_R=sf.toLowerCase(),wR=sf[0].toUpperCase()+sf.slice(1);xi(_R,"on"+wR)}xi(iv,"onAnimationEnd"),xi(sv,"onAnimationIteration"),xi(ov,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(av,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function cv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Wu(f,o,void 0,i),i.currentTarget=null}function dv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var T=f.length-1;0<=T;T--){var N=f[T],F=N.instance,G=N.currentTarget;if(N=N.listener,F!==v&&m.isPropagationStopped())break e;cv(m,N,G),v=F}else for(T=0;T<f.length;T++){if(N=f[T],F=N.instance,G=N.currentTarget,N=N.listener,F!==v&&m.isPropagationStopped())break e;cv(m,N,G),v=F}}}if(Gn)throw i=nl,Gn=!1,nl=null,i}function tt(i,o){var u=o[ff];u===void 0&&(u=o[ff]=new Set);var f=i+"__bubble";u.has(f)||(hv(o,i,2,!1),u.add(f))}function of(i,o,u){var f=0;o&&(f|=4),hv(u,i,f,o)}var yc="_reactListening"+Math.random().toString(36).slice(2);function _l(i){if(!i[yc]){i[yc]=!0,r.forEach(function(u){u!=="selectionchange"&&(ER.has(u)||of(u,!1,i),of(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[yc]||(o[yc]=!0,of("selectionchange",!1,o))}}function hv(i,o,u,f){switch(ul(o)){case 1:var m=it;break;case 4:m=Qh;break;default:m=ll}u=m.bind(null,o,u,i),m=void 0,!wo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function af(i,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var N=f.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(T===4)for(T=f.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;T=T.return}for(;N!==null;){if(T=bs(N),T===null)return;if(F=T.tag,F===5||F===6){f=v=T;continue e}N=N.parentNode}}f=f.return}tl(function(){var G=v,ne=yo(u),ie=[];e:{var te=lv.get(i);if(te!==void 0){var ue=bo,pe=i;switch(i){case"keypress":if(ko(u)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":pe="focus",ue=Vo;break;case"focusout":pe="blur",ue=Vo;break;case"beforeblur":case"afterblur":ue=Vo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=X;break;case iv:case sv:case ov:ue=Hr;break;case av:ue=Ge;break;case"scroll":ue=Xh;break;case"wheel":ue=je;break;case"copy":case"cut":case"paste":ue=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=P}var me=(o&4)!==0,pt=!me&&i==="scroll",W=me?te!==null?te+"Capture":null:te;me=[];for(var B=G,K;B!==null;){K=B;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,W!==null&&(oe=ft(B,W),oe!=null&&me.push(wl(B,oe,K)))),pt)break;B=B.return}0<me.length&&(te=new ue(te,pe,null,u,ne),ie.push({event:te,listeners:me}))}}if(!(o&7)){e:{if(te=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",te&&u!==vs&&(pe=u.relatedTarget||u.fromElement)&&(bs(pe)||pe[Wr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(pe=u.relatedTarget||u.toElement,ue=G,pe=pe?bs(pe):null,pe!==null&&(pt=Qn(pe),pe!==pt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=G),ue!==pe)){if(me=No,oe="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(me=P,oe="onPointerLeave",W="onPointerEnter",B="pointer"),pt=ue==null?te:$o(ue),K=pe==null?te:$o(pe),te=new me(oe,B+"leave",ue,u,ne),te.target=pt,te.relatedTarget=K,oe=null,bs(ne)===G&&(me=new me(W,B+"enter",pe,u,ne),me.target=K,me.relatedTarget=pt,oe=me),pt=oe,ue&&pe)t:{for(me=ue,W=pe,B=0,K=me;K;K=Bo(K))B++;for(K=0,oe=W;oe;oe=Bo(oe))K++;for(;0<B-K;)me=Bo(me),B--;for(;0<K-B;)W=Bo(W),K--;for(;B--;){if(me===W||W!==null&&me===W.alternate)break t;me=Bo(me),W=Bo(W)}me=null}else me=null;ue!==null&&fv(ie,te,ue,me,!1),pe!==null&&pt!==null&&fv(ie,pt,pe,me,!0)}}e:{if(te=G?$o(G):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ge=dR;else if(Wy(te))if(Gy)ge=mR;else{ge=fR;var we=hR}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=pR);if(ge&&(ge=ge(i,G))){Ky(ie,ge,u,ne);break e}we&&we(i,te,G),i==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&po(te,"number",te.value)}switch(we=G?$o(G):window,i){case"focusin":(Wy(we)||we.contentEditable==="true")&&(Fo=we,ef=G,yl=null);break;case"focusout":yl=ef=Fo=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,nv(ie,u,ne);break;case"selectionchange":if(vR)break;case"keydown":case"keyup":nv(ie,u,ne)}var Ee;if(_t)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else jo?qy(i,u)&&(Ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(ks&&u.locale!=="ko"&&(jo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&jo&&(Ee=cl()):(Sn=ne,xo="value"in Sn?Sn.value:Sn.textContent,jo=!0)),we=vc(G,Ce),0<we.length&&(Ce=new fl(Ce,i,null,u,ne),ie.push({event:Ce,listeners:we}),Ee?Ce.data=Ee:(Ee=Hy(u),Ee!==null&&(Ce.data=Ee)))),(Ee=In?aR(i,u):lR(i,u))&&(G=vc(G,"onBeforeInput"),0<G.length&&(ne=new fl("onBeforeInput","beforeinput",null,u,ne),ie.push({event:ne,listeners:G}),ne.data=Ee))}dv(ie,o)})}function wl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function vc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ft(i,u),v!=null&&f.unshift(wl(i,v,m)),v=ft(i,o),v!=null&&f.push(wl(i,v,m))),i=i.return}return f}function Bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fv(i,o,u,f,m){for(var v=o._reactName,T=[];u!==null&&u!==f;){var N=u,F=N.alternate,G=N.stateNode;if(F!==null&&F===f)break;N.tag===5&&G!==null&&(N=G,m?(F=ft(u,v),F!=null&&T.unshift(wl(u,F,N))):m||(F=ft(u,v),F!=null&&T.push(wl(u,F,N)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var TR=/\r\n?/g,SR=/\u0000|\uFFFD/g;function pv(i){return(typeof i=="string"?i:""+i).replace(TR,`
`).replace(SR,"")}function _c(i,o,u){if(o=pv(o),pv(i)!==o&&u)throw Error(n(425))}function wc(){}var lf=null,uf=null;function cf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(i){return mv.resolve(null).then(i).catch(AR)}:df;function AR(i){setTimeout(function(){throw i})}function hf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),er(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);er(o)}function ki(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function gv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Sr="__reactFiber$"+zo,El="__reactProps$"+zo,Wr="__reactContainer$"+zo,ff="__reactEvents$"+zo,RR="__reactListeners$"+zo,PR="__reactHandles$"+zo;function bs(i){var o=i[Sr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Wr]||u[Sr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=gv(i);i!==null;){if(u=i[Sr])return u;i=gv(i)}return o}i=u,u=i.parentNode}return null}function Tl(i){return i=i[Sr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function $o(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ec(i){return i[El]||null}var pf=[],qo=-1;function bi(i){return{current:i}}function nt(i){0>qo||(i.current=pf[qo],pf[qo]=null,qo--)}function Ze(i,o){qo++,pf[qo]=i.current,i.current=o}var Di={},Kt=bi(Di),fn=bi(!1),Ds=Di;function Ho(i,o){var u=i.type.contextTypes;if(!u)return Di;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function pn(i){return i=i.childContextTypes,i!=null}function Tc(){nt(fn),nt(Kt)}function yv(i,o,u){if(Kt.current!==Di)throw Error(n(168));Ze(Kt,o),Ze(fn,u)}function vv(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,$e(i)||"Unknown",m));return le({},u,f)}function Sc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Di,Ds=Kt.current,Ze(Kt,i),Ze(fn,fn.current),!0}function _v(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=vv(i,o,Ds),f.__reactInternalMemoizedMergedChildContext=i,nt(fn),nt(Kt),Ze(Kt,i)):nt(fn),Ze(fn,u)}var Kr=null,Ic=!1,mf=!1;function wv(i){Kr===null?Kr=[i]:Kr.push(i)}function xR(i){Ic=!0,wv(i)}function Ni(){if(!mf&&Kr!==null){mf=!0;var i=0,o=Ve;try{var u=Kr;for(Ve=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Kr=null,Ic=!1}catch(m){throw Kr!==null&&(Kr=Kr.slice(i+1)),Io(Ss,Ni),m}finally{Ve=o,mf=!1}}return null}var Wo=[],Ko=0,Cc=null,Ac=0,Vn=[],Ln=0,Ns=null,Gr=1,Qr="";function Os(i,o){Wo[Ko++]=Ac,Wo[Ko++]=Cc,Cc=i,Ac=o}function Ev(i,o,u){Vn[Ln++]=Gr,Vn[Ln++]=Qr,Vn[Ln++]=Ns,Ns=i;var f=Gr;i=Qr;var m=32-sn(f)-1;f&=~(1<<m),u+=1;var v=32-sn(o)+m;if(30<v){var T=m-m%5;v=(f&(1<<T)-1).toString(32),f>>=T,m-=T,Gr=1<<32-sn(o)+m|u<<m|f,Qr=v+i}else Gr=1<<v|u<<m|f,Qr=i}function gf(i){i.return!==null&&(Os(i,1),Ev(i,1,0))}function yf(i){for(;i===Cc;)Cc=Wo[--Ko],Wo[Ko]=null,Ac=Wo[--Ko],Wo[Ko]=null;for(;i===Ns;)Ns=Vn[--Ln],Vn[Ln]=null,Qr=Vn[--Ln],Vn[Ln]=null,Gr=Vn[--Ln],Vn[Ln]=null}var Cn=null,An=null,st=!1,rr=null;function Tv(i,o){var u=Un(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Sv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Cn=i,An=ki(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Cn=i,An=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ns!==null?{id:Gr,overflow:Qr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Un(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Cn=i,An=null,!0):!1;default:return!1}}function vf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function _f(i){if(st){var o=An;if(o){var u=o;if(!Sv(i,o)){if(vf(i))throw Error(n(418));o=ki(u.nextSibling);var f=Cn;o&&Sv(i,o)?Tv(f,u):(i.flags=i.flags&-4097|2,st=!1,Cn=i)}}else{if(vf(i))throw Error(n(418));i.flags=i.flags&-4097|2,st=!1,Cn=i}}}function Iv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cn=i}function Rc(i){if(i!==Cn)return!1;if(!st)return Iv(i),st=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!cf(i.type,i.memoizedProps)),o&&(o=An)){if(vf(i))throw Cv(),Error(n(418));for(;o;)Tv(i,o),o=ki(o.nextSibling)}if(Iv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){An=ki(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}An=null}}else An=Cn?ki(i.stateNode.nextSibling):null;return!0}function Cv(){for(var i=An;i;)i=ki(i.nextSibling)}function Go(){An=Cn=null,st=!1}function wf(i){rr===null?rr=[i]:rr.push(i)}var kR=Q.ReactCurrentBatchConfig;function Sl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var N=m.refs;T===null?delete N[v]:N[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Pc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Av(i){var o=i._init;return o(i._payload)}function Rv(i){function o(W,B){if(i){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function f(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=Bi(W,B),W.index=0,W.sibling=null,W}function v(W,B,K){return W.index=K,i?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function N(W,B,K,oe){return B===null||B.tag!==6?(B=dp(K,W.mode,oe),B.return=W,B):(B=m(B,K),B.return=W,B)}function F(W,B,K,oe){var ge=K.type;return ge===D?ne(W,B,K.props.children,oe,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===vt&&Av(ge)===B.type)?(oe=m(B,K.props),oe.ref=Sl(W,B,K),oe.return=W,oe):(oe=Jc(K.type,K.key,K.props,null,W.mode,oe),oe.ref=Sl(W,B,K),oe.return=W,oe)}function G(W,B,K,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=hp(K,W.mode,oe),B.return=W,B):(B=m(B,K.children||[]),B.return=W,B)}function ne(W,B,K,oe,ge){return B===null||B.tag!==7?(B=zs(K,W.mode,oe,ge),B.return=W,B):(B=m(B,K),B.return=W,B)}function ie(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=dp(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return K=Jc(B.type,B.key,B.props,null,W.mode,K),K.ref=Sl(W,null,B),K.return=W,K;case re:return B=hp(B,W.mode,K),B.return=W,B;case vt:var oe=B._init;return ie(W,oe(B._payload),K)}if(Mr(B)||ye(B))return B=zs(B,W.mode,K,null),B.return=W,B;Pc(W,B)}return null}function te(W,B,K,oe){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:N(W,B,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return K.key===ge?F(W,B,K,oe):null;case re:return K.key===ge?G(W,B,K,oe):null;case vt:return ge=K._init,te(W,B,ge(K._payload),oe)}if(Mr(K)||ye(K))return ge!==null?null:ne(W,B,K,oe,null);Pc(W,K)}return null}function ue(W,B,K,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(K)||null,N(B,W,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case z:return W=W.get(oe.key===null?K:oe.key)||null,F(B,W,oe,ge);case re:return W=W.get(oe.key===null?K:oe.key)||null,G(B,W,oe,ge);case vt:var we=oe._init;return ue(W,B,K,we(oe._payload),ge)}if(Mr(oe)||ye(oe))return W=W.get(K)||null,ne(B,W,oe,ge,null);Pc(B,oe)}return null}function pe(W,B,K,oe){for(var ge=null,we=null,Ee=B,Ce=B=0,Ot=null;Ee!==null&&Ce<K.length;Ce++){Ee.index>Ce?(Ot=Ee,Ee=null):Ot=Ee.sibling;var Be=te(W,Ee,K[Ce],oe);if(Be===null){Ee===null&&(Ee=Ot);break}i&&Ee&&Be.alternate===null&&o(W,Ee),B=v(Be,B,Ce),we===null?ge=Be:we.sibling=Be,we=Be,Ee=Ot}if(Ce===K.length)return u(W,Ee),st&&Os(W,Ce),ge;if(Ee===null){for(;Ce<K.length;Ce++)Ee=ie(W,K[Ce],oe),Ee!==null&&(B=v(Ee,B,Ce),we===null?ge=Ee:we.sibling=Ee,we=Ee);return st&&Os(W,Ce),ge}for(Ee=f(W,Ee);Ce<K.length;Ce++)Ot=ue(Ee,W,Ce,K[Ce],oe),Ot!==null&&(i&&Ot.alternate!==null&&Ee.delete(Ot.key===null?Ce:Ot.key),B=v(Ot,B,Ce),we===null?ge=Ot:we.sibling=Ot,we=Ot);return i&&Ee.forEach(function(zi){return o(W,zi)}),st&&Os(W,Ce),ge}function me(W,B,K,oe){var ge=ye(K);if(typeof ge!="function")throw Error(n(150));if(K=ge.call(K),K==null)throw Error(n(151));for(var we=ge=null,Ee=B,Ce=B=0,Ot=null,Be=K.next();Ee!==null&&!Be.done;Ce++,Be=K.next()){Ee.index>Ce?(Ot=Ee,Ee=null):Ot=Ee.sibling;var zi=te(W,Ee,Be.value,oe);if(zi===null){Ee===null&&(Ee=Ot);break}i&&Ee&&zi.alternate===null&&o(W,Ee),B=v(zi,B,Ce),we===null?ge=zi:we.sibling=zi,we=zi,Ee=Ot}if(Be.done)return u(W,Ee),st&&Os(W,Ce),ge;if(Ee===null){for(;!Be.done;Ce++,Be=K.next())Be=ie(W,Be.value,oe),Be!==null&&(B=v(Be,B,Ce),we===null?ge=Be:we.sibling=Be,we=Be);return st&&Os(W,Ce),ge}for(Ee=f(W,Ee);!Be.done;Ce++,Be=K.next())Be=ue(Ee,W,Ce,Be.value,oe),Be!==null&&(i&&Be.alternate!==null&&Ee.delete(Be.key===null?Ce:Be.key),B=v(Be,B,Ce),we===null?ge=Be:we.sibling=Be,we=Be);return i&&Ee.forEach(function(lP){return o(W,lP)}),st&&Os(W,Ce),ge}function pt(W,B,K,oe){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case z:e:{for(var ge=K.key,we=B;we!==null;){if(we.key===ge){if(ge=K.type,ge===D){if(we.tag===7){u(W,we.sibling),B=m(we,K.props.children),B.return=W,W=B;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===vt&&Av(ge)===we.type){u(W,we.sibling),B=m(we,K.props),B.ref=Sl(W,we,K),B.return=W,W=B;break e}u(W,we);break}else o(W,we);we=we.sibling}K.type===D?(B=zs(K.props.children,W.mode,oe,K.key),B.return=W,W=B):(oe=Jc(K.type,K.key,K.props,null,W.mode,oe),oe.ref=Sl(W,B,K),oe.return=W,W=oe)}return T(W);case re:e:{for(we=K.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){u(W,B.sibling),B=m(B,K.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=hp(K,W.mode,oe),B.return=W,W=B}return T(W);case vt:return we=K._init,pt(W,B,we(K._payload),oe)}if(Mr(K))return pe(W,B,K,oe);if(ye(K))return me(W,B,K,oe);Pc(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,K),B.return=W,W=B):(u(W,B),B=dp(K,W.mode,oe),B.return=W,W=B),T(W)):u(W,B)}return pt}var Qo=Rv(!0),Pv=Rv(!1),xc=bi(null),kc=null,Xo=null,Ef=null;function Tf(){Ef=Xo=kc=null}function Sf(i){var o=xc.current;nt(xc),i._currentValue=o}function If(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Yo(i,o){kc=i,Ef=Xo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(mn=!0),i.firstContext=null)}function Mn(i){var o=i._currentValue;if(Ef!==i)if(i={context:i,memoizedValue:o,next:null},Xo===null){if(kc===null)throw Error(n(308));Xo=i,kc.dependencies={lanes:0,firstContext:i}}else Xo=Xo.next=i;return o}var Vs=null;function Cf(i){Vs===null?Vs=[i]:Vs.push(i)}function xv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Cf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Xr(i,f)}function Xr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Oi=!1;function Af(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Yr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vi(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,Ue&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Xr(i,u)}return m=f.interleaved,m===null?(o.next=o,Cf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Xr(i,u)}function bc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ii(i,u)}}function bv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Dc(i,o,u,f){var m=i.updateQueue;Oi=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var F=N,G=F.next;F.next=null,T===null?v=G:T.next=G,T=F;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==T&&(N===null?ne.firstBaseUpdate=G:N.next=G,ne.lastBaseUpdate=F))}if(v!==null){var ie=m.baseState;T=0,ne=G=F=null,N=v;do{var te=N.lane,ue=N.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=i,me=N;switch(te=o,ue=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ie=pe.call(ue,ie,te);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(ue,ie,te):pe,te==null)break e;ie=le({},ie,te);break e;case 2:Oi=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[N]:te.push(N))}else ue={eventTime:ue,lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(G=ne=ue,F=ie):ne=ne.next=ue,T|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;te=N,N=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(F=ie),m.baseState=F,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);js|=T,i.lanes=T,i.memoizedState=ie}}function Dv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var Il={},Ir=bi(Il),Cl=bi(Il),Al=bi(Il);function Ls(i){if(i===Il)throw Error(n(174));return i}function Rf(i,o){switch(Ze(Al,o),Ze(Cl,i),Ze(Ir,Il),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:It(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=It(o,i)}nt(Ir),Ze(Ir,o)}function Jo(){nt(Ir),nt(Cl),nt(Al)}function Nv(i){Ls(Al.current);var o=Ls(Ir.current),u=It(o,i.type);o!==u&&(Ze(Cl,i),Ze(Ir,u))}function Pf(i){Cl.current===i&&(nt(Ir),nt(Cl))}var at=bi(0);function Nc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xf=[];function kf(){for(var i=0;i<xf.length;i++)xf[i]._workInProgressVersionPrimary=null;xf.length=0}var Oc=Q.ReactCurrentDispatcher,bf=Q.ReactCurrentBatchConfig,Ms=0,lt=null,At=null,Dt=null,Vc=!1,Rl=!1,Pl=0,bR=0;function Gt(){throw Error(n(321))}function Df(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!nr(i[u],o[u]))return!1;return!0}function Nf(i,o,u,f,m,v){if(Ms=v,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Oc.current=i===null||i.memoizedState===null?VR:LR,i=u(f,m),Rl){v=0;do{if(Rl=!1,Pl=0,25<=v)throw Error(n(301));v+=1,Dt=At=null,o.updateQueue=null,Oc.current=MR,i=u(f,m)}while(Rl)}if(Oc.current=jc,o=At!==null&&At.next!==null,Ms=0,Dt=At=lt=null,Vc=!1,o)throw Error(n(300));return i}function Of(){var i=Pl!==0;return Pl=0,i}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?lt.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function jn(){if(At===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=Dt===null?lt.memoizedState:Dt.next;if(o!==null)Dt=o,At=i;else{if(i===null)throw Error(n(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Dt===null?lt.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function xl(i,o){return typeof o=="function"?o(i):o}function Vf(i){var o=jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=At,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var N=T=null,F=null,G=v;do{var ne=G.lane;if((Ms&ne)===ne)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:i(f,G.action);else{var ie={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(N=F=ie,T=f):F=F.next=ie,lt.lanes|=ne,js|=ne}G=G.next}while(G!==null&&G!==v);F===null?T=f:F.next=N,nr(f,o.memoizedState)||(mn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=F,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,lt.lanes|=v,js|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Lf(i){var o=jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);nr(v,o.memoizedState)||(mn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function Ov(){}function Vv(i,o){var u=lt,f=jn(),m=o(),v=!nr(f.memoizedState,m);if(v&&(f.memoizedState=m,mn=!0),f=f.queue,Mf(jv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,kl(9,Mv.bind(null,u,f,m,o),void 0,null),Nt===null)throw Error(n(349));Ms&30||Lv(u,o,m)}return m}function Lv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Mv(i,o,u,f){o.value=u,o.getSnapshot=f,Fv(o)&&Uv(i)}function jv(i,o,u){return u(function(){Fv(o)&&Uv(i)})}function Fv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!nr(i,u)}catch{return!0}}function Uv(i){var o=Xr(i,1);o!==null&&ar(o,i,1,-1)}function Bv(i){var o=Cr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:i},o.queue=i,i=i.dispatch=OR.bind(null,lt,i),[o.memoizedState,i]}function kl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function zv(){return jn().memoizedState}function Lc(i,o,u,f){var m=Cr();lt.flags|=i,m.memoizedState=kl(1|o,u,void 0,f===void 0?null:f)}function Mc(i,o,u,f){var m=jn();f=f===void 0?null:f;var v=void 0;if(At!==null){var T=At.memoizedState;if(v=T.destroy,f!==null&&Df(f,T.deps)){m.memoizedState=kl(o,u,v,f);return}}lt.flags|=i,m.memoizedState=kl(1|o,u,v,f)}function $v(i,o){return Lc(8390656,8,i,o)}function Mf(i,o){return Mc(2048,8,i,o)}function qv(i,o){return Mc(4,2,i,o)}function Hv(i,o){return Mc(4,4,i,o)}function Wv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Kv(i,o,u){return u=u!=null?u.concat([i]):null,Mc(4,4,Wv.bind(null,o,i),u)}function jf(){}function Gv(i,o){var u=jn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Df(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Qv(i,o){var u=jn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Df(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Xv(i,o,u){return Ms&21?(nr(u,o)||(u=As(),lt.lanes|=u,js|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,mn=!0),i.memoizedState=u)}function DR(i,o){var u=Ve;Ve=u!==0&&4>u?u:4,i(!0);var f=bf.transition;bf.transition={};try{i(!1),o()}finally{Ve=u,bf.transition=f}}function Yv(){return jn().memoizedState}function NR(i,o,u){var f=Fi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Jv(i))Zv(o,u);else if(u=xv(i,o,u,f),u!==null){var m=ln();ar(u,i,f,m),e_(u,o,f)}}function OR(i,o,u){var f=Fi(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jv(i))Zv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,N=v(T,u);if(m.hasEagerState=!0,m.eagerState=N,nr(N,T)){var F=o.interleaved;F===null?(m.next=m,Cf(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}u=xv(i,o,m,f),u!==null&&(m=ln(),ar(u,i,f,m),e_(u,o,f))}}function Jv(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function Zv(i,o){Rl=Vc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function e_(i,o,u){if(u&4194240){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ii(i,u)}}var jc={readContext:Mn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},VR={readContext:Mn,useCallback:function(i,o){return Cr().memoizedState=[i,o===void 0?null:o],i},useContext:Mn,useEffect:$v,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Lc(4194308,4,Wv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Lc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Lc(4,2,i,o)},useMemo:function(i,o){var u=Cr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Cr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=NR.bind(null,lt,i),[f.memoizedState,i]},useRef:function(i){var o=Cr();return i={current:i},o.memoizedState=i},useState:Bv,useDebugValue:jf,useDeferredValue:function(i){return Cr().memoizedState=i},useTransition:function(){var i=Bv(!1),o=i[0];return i=DR.bind(null,i[1]),Cr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=lt,m=Cr();if(st){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Nt===null)throw Error(n(349));Ms&30||Lv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,$v(jv.bind(null,f,v,i),[i]),f.flags|=2048,kl(9,Mv.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Cr(),o=Nt.identifierPrefix;if(st){var u=Qr,f=Gr;u=(f&~(1<<32-sn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Pl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=bR++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},LR={readContext:Mn,useCallback:Gv,useContext:Mn,useEffect:Mf,useImperativeHandle:Kv,useInsertionEffect:qv,useLayoutEffect:Hv,useMemo:Qv,useReducer:Vf,useRef:zv,useState:function(){return Vf(xl)},useDebugValue:jf,useDeferredValue:function(i){var o=jn();return Xv(o,At.memoizedState,i)},useTransition:function(){var i=Vf(xl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:Ov,useSyncExternalStore:Vv,useId:Yv,unstable_isNewReconciler:!1},MR={readContext:Mn,useCallback:Gv,useContext:Mn,useEffect:Mf,useImperativeHandle:Kv,useInsertionEffect:qv,useLayoutEffect:Hv,useMemo:Qv,useReducer:Lf,useRef:zv,useState:function(){return Lf(xl)},useDebugValue:jf,useDeferredValue:function(i){var o=jn();return At===null?o.memoizedState=i:Xv(o,At.memoizedState,i)},useTransition:function(){var i=Lf(xl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:Ov,useSyncExternalStore:Vv,useId:Yv,unstable_isNewReconciler:!1};function ir(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Ff(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Fc={isMounted:function(i){return(i=i._reactInternals)?Qn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=ln(),m=Fi(i),v=Yr(f,m);v.payload=o,u!=null&&(v.callback=u),o=Vi(i,v,m),o!==null&&(ar(o,i,m,f),bc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=ln(),m=Fi(i),v=Yr(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Vi(i,v,m),o!==null&&(ar(o,i,m,f),bc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ln(),f=Fi(i),m=Yr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Vi(i,m,f),o!==null&&(ar(o,i,f,u),bc(o,i,f))}};function t_(i,o,u,f,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,T):o.prototype&&o.prototype.isPureReactComponent?!gl(u,f)||!gl(m,v):!0}function n_(i,o,u){var f=!1,m=Di,v=o.contextType;return typeof v=="object"&&v!==null?v=Mn(v):(m=pn(o)?Ds:Kt.current,f=o.contextTypes,v=(f=f!=null)?Ho(i,m):Di),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Fc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function r_(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Fc.enqueueReplaceState(o,o.state,null)}function Uf(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Af(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Mn(v):(v=pn(o)?Ds:Kt.current,m.context=Ho(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Ff(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Fc.enqueueReplaceState(m,m.state,null),Dc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Zo(i,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Bf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function zf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var jR=typeof WeakMap=="function"?WeakMap:Map;function i_(i,o,u){u=Yr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Wc||(Wc=!0,rp=f),zf(i,o)},u}function s_(i,o,u){u=Yr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){zf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){zf(i,o),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function o_(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new jR;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=JR.bind(null,i,o,u),o.then(i,i))}function a_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function l_(i,o,u,f,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Yr(-1,1),o.tag=2,Vi(u,o,1))),u.lanes|=1),i)}var FR=Q.ReactCurrentOwner,mn=!1;function an(i,o,u,f){o.child=i===null?Pv(o,null,u,f):Qo(o,i.child,u,f)}function u_(i,o,u,f,m){u=u.render;var v=o.ref;return Yo(o,m),f=Nf(i,o,u,f,v,m),u=Of(),i!==null&&!mn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(st&&u&&gf(o),o.flags|=1,an(i,o,f,m),o.child)}function c_(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!cp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,d_(i,o,v,f,m)):(i=Jc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(T,f)&&i.ref===o.ref)return Jr(i,o,m)}return o.flags|=1,i=Bi(v,f),i.ref=o.ref,i.return=o,o.child=i}function d_(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(gl(v,f)&&i.ref===o.ref)if(mn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)i.flags&131072&&(mn=!0);else return o.lanes=i.lanes,Jr(i,o,m)}return $f(i,o,u,f,m)}function h_(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ta,Rn),Rn|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ze(ta,Rn),Rn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Ze(ta,Rn),Rn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Ze(ta,Rn),Rn|=f;return an(i,o,m,u),o.child}function f_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function $f(i,o,u,f,m){var v=pn(u)?Ds:Kt.current;return v=Ho(o,v),Yo(o,m),u=Nf(i,o,u,f,v,m),f=Of(),i!==null&&!mn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(st&&f&&gf(o),o.flags|=1,an(i,o,u,m),o.child)}function p_(i,o,u,f,m){if(pn(u)){var v=!0;Sc(o)}else v=!1;if(Yo(o,m),o.stateNode===null)Bc(i,o),n_(o,u,f),Uf(o,u,f,m),f=!0;else if(i===null){var T=o.stateNode,N=o.memoizedProps;T.props=N;var F=T.context,G=u.contextType;typeof G=="object"&&G!==null?G=Mn(G):(G=pn(u)?Ds:Kt.current,G=Ho(o,G));var ne=u.getDerivedStateFromProps,ie=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==f||F!==G)&&r_(o,T,f,G),Oi=!1;var te=o.memoizedState;T.state=te,Dc(o,f,T,m),F=o.memoizedState,N!==f||te!==F||fn.current||Oi?(typeof ne=="function"&&(Ff(o,u,ne,f),F=o.memoizedState),(N=Oi||t_(o,u,N,f,te,F,G))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),T.props=f,T.state=F,T.context=G,f=N):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,kv(i,o),N=o.memoizedProps,G=o.type===o.elementType?N:ir(o.type,N),T.props=G,ie=o.pendingProps,te=T.context,F=u.contextType,typeof F=="object"&&F!==null?F=Mn(F):(F=pn(u)?Ds:Kt.current,F=Ho(o,F));var ue=u.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==ie||te!==F)&&r_(o,T,f,F),Oi=!1,te=o.memoizedState,T.state=te,Dc(o,f,T,m);var pe=o.memoizedState;N!==ie||te!==pe||fn.current||Oi?(typeof ue=="function"&&(Ff(o,u,ue,f),pe=o.memoizedState),(G=Oi||t_(o,u,G,f,te,pe,F)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,pe,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,pe,F)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=pe),T.props=f,T.state=pe,T.context=F,f=G):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),f=!1)}return qf(i,o,u,f,v,m)}function qf(i,o,u,f,m,v){f_(i,o);var T=(o.flags&128)!==0;if(!f&&!T)return m&&_v(o,u,!1),Jr(i,o,v);f=o.stateNode,FR.current=o;var N=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&T?(o.child=Qo(o,i.child,null,v),o.child=Qo(o,null,N,v)):an(i,o,N,v),o.memoizedState=f.state,m&&_v(o,u,!0),o.child}function m_(i){var o=i.stateNode;o.pendingContext?yv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&yv(i,o.context,!1),Rf(i,o.containerInfo)}function g_(i,o,u,f,m){return Go(),wf(m),o.flags|=256,an(i,o,u,f),o.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Wf(i){return{baseLanes:i,cachePool:null,transitions:null}}function y_(i,o,u){var f=o.pendingProps,m=at.current,v=!1,T=(o.flags&128)!==0,N;if((N=T)||(N=i!==null&&i.memoizedState===null?!1:(m&2)!==0),N?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ze(at,m&1),i===null)return _f(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=f.children,i=f.fallback,v?(f=o.mode,v=o.child,T={mode:"hidden",children:T},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Zc(T,f,0,null),i=zs(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Wf(u),o.memoizedState=Hf,i):Kf(o,T));if(m=i.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return UR(i,o,T,f,N,m,u);if(v){v=f.fallback,T=o.mode,m=i.child,N=m.sibling;var F={mode:"hidden",children:f.children};return!(T&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=Bi(m,F),f.subtreeFlags=m.subtreeFlags&14680064),N!==null?v=Bi(N,v):(v=zs(v,T,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,T=i.child.memoizedState,T=T===null?Wf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~u,o.memoizedState=Hf,f}return v=i.child,i=v.sibling,f=Bi(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Kf(i,o){return o=Zc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Uc(i,o,u,f){return f!==null&&wf(f),Qo(o,i.child,null,u),i=Kf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function UR(i,o,u,f,m,v,T){if(u)return o.flags&256?(o.flags&=-257,f=Bf(Error(n(422))),Uc(i,o,T,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Zc({mode:"visible",children:f.children},m,0,null),v=zs(v,m,T,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&Qo(o,i.child,null,T),o.child.memoizedState=Wf(T),o.memoizedState=Hf,v);if(!(o.mode&1))return Uc(i,o,T,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var N=f.dgst;return f=N,v=Error(n(419)),f=Bf(v,f,void 0),Uc(i,o,T,f)}if(N=(T&i.childLanes)!==0,mn||N){if(f=Nt,f!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Xr(i,m),ar(f,i,m,-1))}return up(),f=Bf(Error(n(421))),Uc(i,o,T,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=ZR.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,An=ki(m.nextSibling),Cn=o,st=!0,rr=null,i!==null&&(Vn[Ln++]=Gr,Vn[Ln++]=Qr,Vn[Ln++]=Ns,Gr=i.id,Qr=i.overflow,Ns=o),o=Kf(o,f.children),o.flags|=4096,o)}function v_(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),If(i.return,o,u)}function Gf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function __(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(an(i,o,f.children,u),f=at.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&v_(i,u,o);else if(i.tag===19)v_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ze(at,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Nc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Gf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Nc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Gf(o,!0,u,null,v);break;case"together":Gf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Bc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Jr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Bi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Bi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function BR(i,o,u){switch(o.tag){case 3:m_(o),Go();break;case 5:Nv(o);break;case 1:pn(o.type)&&Sc(o);break;case 4:Rf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Ze(xc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(at,at.current&1),o.flags|=128,null):u&o.child.childLanes?y_(i,o,u):(Ze(at,at.current&1),i=Jr(i,o,u),i!==null?i.sibling:null);Ze(at,at.current&1);break;case 19:if(f=(u&o.childLanes)!==0,i.flags&128){if(f)return __(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(at,at.current),f)break;return null;case 22:case 23:return o.lanes=0,h_(i,o,u)}return Jr(i,o,u)}var w_,Qf,E_,T_;w_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qf=function(){},E_=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Ls(Ir.current);var v=null;switch(u){case"input":m=ms(i,m),f=ms(i,f),v=[];break;case"select":m=le({},m,{value:void 0}),f=le({},f,{value:void 0}),v=[];break;case"textarea":m=Ha(i,m),f=Ha(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=wc)}Ya(u,f);var T;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var N=m[G];for(T in N)N.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in f){var F=f[G];if(N=m!=null?m[G]:void 0,f.hasOwnProperty(G)&&F!==N&&(F!=null||N!=null))if(G==="style")if(N){for(T in N)!N.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in F)F.hasOwnProperty(T)&&N[T]!==F[T]&&(u||(u={}),u[T]=F[T])}else u||(v||(v=[]),v.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,N=N?N.__html:void 0,F!=null&&N!==F&&(v=v||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&tt("scroll",i),v||N===F||(v=[])):(v=v||[]).push(G,F))}u&&(v=v||[]).push("style",u);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},T_=function(i,o,u,f){u!==f&&(o.flags|=4)};function bl(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function zR(i,o,u){var f=o.pendingProps;switch(yf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return pn(o.type)&&Tc(),Qt(o),null;case 3:return f=o.stateNode,Jo(),nt(fn),nt(Kt),kf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Rc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,rr!==null&&(op(rr),rr=null))),Qf(i,o),Qt(o),null;case 5:Pf(o);var m=Ls(Al.current);if(u=o.type,i!==null&&o.stateNode!=null)E_(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Qt(o),null}if(i=Ls(Ir.current),Rc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Sr]=o,f[El]=v,i=(o.mode&1)!==0,u){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(m=0;m<vl.length;m++)tt(vl[m],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":fo(f,v),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},tt("invalid",f);break;case"textarea":mo(f,v),tt("invalid",f)}Ya(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var N=v[T];T==="children"?typeof N=="string"?f.textContent!==N&&(v.suppressHydrationWarning!==!0&&_c(f.textContent,N,i),m=["children",N]):typeof N=="number"&&f.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&_c(f.textContent,N,i),m=["children",""+N]):s.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&tt("scroll",f)}switch(u){case"input":Lr(f),Hu(f,v,!0);break;case"textarea":Lr(f),Wa(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=wc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=St(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=T.createElement(u,{is:f.is}):(i=T.createElement(u),u==="select"&&(T=i,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):i=T.createElementNS(i,u),i[Sr]=o,i[El]=f,w_(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ja(u,f),u){case"dialog":tt("cancel",i),tt("close",i),m=f;break;case"iframe":case"object":case"embed":tt("load",i),m=f;break;case"video":case"audio":for(m=0;m<vl.length;m++)tt(vl[m],i);m=f;break;case"source":tt("error",i),m=f;break;case"img":case"image":case"link":tt("error",i),tt("load",i),m=f;break;case"details":tt("toggle",i),m=f;break;case"input":fo(i,f),m=ms(i,f),tt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=le({},f,{value:void 0}),tt("invalid",i);break;case"textarea":mo(i,f),m=Ha(i,f),tt("invalid",i);break;default:m=f}Ya(u,m),N=m;for(v in N)if(N.hasOwnProperty(v)){var F=N[v];v==="style"?Qa(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ka(i,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&_i(i,F):typeof F=="number"&&_i(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&tt("scroll",i):F!=null&&L(i,v,F,T))}switch(u){case"input":Lr(i),Hu(i,f,!1);break;case"textarea":Lr(i),Wa(i);break;case"option":f.value!=null&&i.setAttribute("value",""+qe(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?jr(i,!!f.multiple,v,!1):f.defaultValue!=null&&jr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=wc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Qt(o),null;case 6:if(i&&o.stateNode!=null)T_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Ls(Al.current),Ls(Ir.current),Rc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Sr]=o,(v=f.nodeValue!==u)&&(i=Cn,i!==null))switch(i.tag){case 3:_c(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&_c(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Sr]=o,o.stateNode=f}return Qt(o),null;case 13:if(nt(at),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&An!==null&&o.mode&1&&!(o.flags&128))Cv(),Go(),o.flags|=98560,v=!1;else if(v=Rc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Sr]=o}else Go(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Qt(o),v=!1}else rr!==null&&(op(rr),rr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||at.current&1?Rt===0&&(Rt=3):up())),o.updateQueue!==null&&(o.flags|=4),Qt(o),null);case 4:return Jo(),Qf(i,o),i===null&&_l(o.stateNode.containerInfo),Qt(o),null;case 10:return Sf(o.type._context),Qt(o),null;case 17:return pn(o.type)&&Tc(),Qt(o),null;case 19:if(nt(at),v=o.memoizedState,v===null)return Qt(o),null;if(f=(o.flags&128)!==0,T=v.rendering,T===null)if(f)bl(v,!1);else{if(Rt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=Nc(i),T!==null){for(o.flags|=128,bl(v,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ze(at,at.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>na&&(o.flags|=128,f=!0,bl(v,!1),o.lanes=4194304)}else{if(!f)if(i=Nc(T),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),bl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!st)return Qt(o),null}else 2*Je()-v.renderingStartTime>na&&u!==1073741824&&(o.flags|=128,f=!0,bl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,u=at.current,Ze(at,f?u&1|2:u&1),o):(Qt(o),null);case 22:case 23:return lp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Rn&1073741824&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function $R(i,o){switch(yf(o),o.tag){case 1:return pn(o.type)&&Tc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Jo(),nt(fn),nt(Kt),kf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Pf(o),null;case 13:if(nt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Go()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(at),null;case 4:return Jo(),null;case 10:return Sf(o.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var zc=!1,Xt=!1,qR=typeof WeakSet=="function"?WeakSet:Set,de=null;function ea(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){dt(i,o,f)}else u.current=null}function Xf(i,o,u){try{u()}catch(f){dt(i,o,f)}}var S_=!1;function HR(i,o){if(lf=Ri,i=tv(),Zh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,N=-1,F=-1,G=0,ne=0,ie=i,te=null;t:for(;;){for(var ue;ie!==u||m!==0&&ie.nodeType!==3||(N=T+m),ie!==v||f!==0&&ie.nodeType!==3||(F=T+f),ie.nodeType===3&&(T+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)te=ie,ie=ue;for(;;){if(ie===i)break t;if(te===u&&++G===m&&(N=T),te===v&&++ne===f&&(F=T),(ue=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=ue}u=N===-1||F===-1?null:{start:N,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(uf={focusedElem:i,selectionRange:u},Ri=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var pe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,pt=pe.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?me:ir(o.type,me),pt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){dt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return pe=S_,S_=!1,pe}function Dl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Xf(o,u,v)}m=m.next}while(m!==f)}}function $c(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Yf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function I_(i){var o=i.alternate;o!==null&&(i.alternate=null,I_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Sr],delete o[El],delete o[ff],delete o[RR],delete o[PR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function C_(i){return i.tag===5||i.tag===3||i.tag===4}function A_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||C_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=wc));else if(f!==4&&(i=i.child,i!==null))for(Jf(i,o,u),i=i.sibling;i!==null;)Jf(i,o,u),i=i.sibling}function Zf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Zf(i,o,u),i=i.sibling;i!==null;)Zf(i,o,u),i=i.sibling}var Ut=null,sr=!1;function Li(i,o,u){for(u=u.child;u!==null;)R_(i,o,u),u=u.sibling}function R_(i,o,u){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Is,u)}catch{}switch(u.tag){case 5:Xt||ea(u,o);case 6:var f=Ut,m=sr;Ut=null,Li(i,o,u),Ut=f,sr=m,Ut!==null&&(sr?(i=Ut,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(sr?(i=Ut,u=u.stateNode,i.nodeType===8?hf(i.parentNode,u):i.nodeType===1&&hf(i,u),er(i)):hf(Ut,u.stateNode));break;case 4:f=Ut,m=sr,Ut=u.stateNode.containerInfo,sr=!0,Li(i,o,u),Ut=f,sr=m;break;case 0:case 11:case 14:case 15:if(!Xt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&Xf(u,o,T),m=m.next}while(m!==f)}Li(i,o,u);break;case 1:if(!Xt&&(ea(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(N){dt(u,o,N)}Li(i,o,u);break;case 21:Li(i,o,u);break;case 22:u.mode&1?(Xt=(f=Xt)||u.memoizedState!==null,Li(i,o,u),Xt=f):Li(i,o,u);break;default:Li(i,o,u)}}function P_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new qR),o.forEach(function(f){var m=eP.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function or(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,T=o,N=T;e:for(;N!==null;){switch(N.tag){case 5:Ut=N.stateNode,sr=!1;break e;case 3:Ut=N.stateNode.containerInfo,sr=!0;break e;case 4:Ut=N.stateNode.containerInfo,sr=!0;break e}N=N.return}if(Ut===null)throw Error(n(160));R_(v,T,m),Ut=null,sr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(G){dt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)x_(o,i),o=o.sibling}function x_(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(or(o,i),Ar(i),f&4){try{Dl(3,i,i.return),$c(3,i)}catch(me){dt(i,i.return,me)}try{Dl(5,i,i.return)}catch(me){dt(i,i.return,me)}}break;case 1:or(o,i),Ar(i),f&512&&u!==null&&ea(u,u.return);break;case 5:if(or(o,i),Ar(i),f&512&&u!==null&&ea(u,u.return),i.flags&32){var m=i.stateNode;try{_i(m,"")}catch(me){dt(i,i.return,me)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=u!==null?u.memoizedProps:v,N=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&$a(m,v),Ja(N,T);var G=Ja(N,v);for(T=0;T<F.length;T+=2){var ne=F[T],ie=F[T+1];ne==="style"?Qa(m,ie):ne==="dangerouslySetInnerHTML"?Ka(m,ie):ne==="children"?_i(m,ie):L(m,ne,ie,G)}switch(N){case"input":qa(m,v);break;case"textarea":go(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?jr(m,!!v.multiple,ue,!1):te!==!!v.multiple&&(v.defaultValue!=null?jr(m,!!v.multiple,v.defaultValue,!0):jr(m,!!v.multiple,v.multiple?[]:"",!1))}m[El]=v}catch(me){dt(i,i.return,me)}}break;case 6:if(or(o,i),Ar(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(me){dt(i,i.return,me)}}break;case 3:if(or(o,i),Ar(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{er(o.containerInfo)}catch(me){dt(i,i.return,me)}break;case 4:or(o,i),Ar(i);break;case 13:or(o,i),Ar(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(np=Je())),f&4&&P_(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(Xt=(G=Xt)||ne,or(o,i),Xt=G):or(o,i),Ar(i),f&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!ne&&i.mode&1)for(de=i,ne=i.child;ne!==null;){for(ie=de=ne;de!==null;){switch(te=de,ue=te.child,te.tag){case 0:case 11:case 14:case 15:Dl(4,te,te.return);break;case 1:ea(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){f=te,u=te.return;try{o=f,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){dt(f,u,me)}}break;case 5:ea(te,te.return);break;case 22:if(te.memoizedState!==null){D_(ie);continue}}ue!==null?(ue.return=te,de=ue):D_(ie)}ne=ne.sibling}e:for(ne=null,ie=i;;){if(ie.tag===5){if(ne===null){ne=ie;try{m=ie.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=ie.stateNode,F=ie.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,N.style.display=Ga("display",T))}catch(me){dt(i,i.return,me)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(me){dt(i,i.return,me)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:or(o,i),Ar(i),f&4&&P_(i);break;case 21:break;default:or(o,i),Ar(i)}}function Ar(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(C_(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(_i(m,""),f.flags&=-33);var v=A_(i);Zf(i,v,m);break;case 3:case 4:var T=f.stateNode.containerInfo,N=A_(i);Jf(i,N,T);break;default:throw Error(n(161))}}catch(F){dt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function WR(i,o,u){de=i,k_(i)}function k_(i,o,u){for(var f=(i.mode&1)!==0;de!==null;){var m=de,v=m.child;if(m.tag===22&&f){var T=m.memoizedState!==null||zc;if(!T){var N=m.alternate,F=N!==null&&N.memoizedState!==null||Xt;N=zc;var G=Xt;if(zc=T,(Xt=F)&&!G)for(de=m;de!==null;)T=de,F=T.child,T.tag===22&&T.memoizedState!==null?N_(m):F!==null?(F.return=T,de=F):N_(m);for(;v!==null;)de=v,k_(v),v=v.sibling;de=m,zc=N,Xt=G}b_(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,de=v):b_(i)}}function b_(i){for(;de!==null;){var o=de;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Xt||$c(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Xt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ir(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Dv(o,v,f);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Dv(o,T,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&er(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||o.flags&512&&Yf(o)}catch(te){dt(o,o.return,te)}}if(o===i){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function D_(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function N_(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$c(4,o)}catch(F){dt(o,u,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(F){dt(o,m,F)}}var v=o.return;try{Yf(o)}catch(F){dt(o,v,F)}break;case 5:var T=o.return;try{Yf(o)}catch(F){dt(o,T,F)}}}catch(F){dt(o,o.return,F)}if(o===i){de=null;break}var N=o.sibling;if(N!==null){N.return=o.return,de=N;break}de=o.return}}var KR=Math.ceil,qc=Q.ReactCurrentDispatcher,ep=Q.ReactCurrentOwner,Fn=Q.ReactCurrentBatchConfig,Ue=0,Nt=null,wt=null,Bt=0,Rn=0,ta=bi(0),Rt=0,Nl=null,js=0,Hc=0,tp=0,Ol=null,gn=null,np=0,na=1/0,Zr=null,Wc=!1,rp=null,Mi=null,Kc=!1,ji=null,Gc=0,Vl=0,ip=null,Qc=-1,Xc=0;function ln(){return Ue&6?Je():Qc!==-1?Qc:Qc=Je()}function Fi(i){return i.mode&1?Ue&2&&Bt!==0?Bt&-Bt:kR.transition!==null?(Xc===0&&(Xc=As()),Xc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:ul(i.type)),i):1}function ar(i,o,u,f){if(50<Vl)throw Vl=0,ip=null,Error(n(185));Si(i,u,f),(!(Ue&2)||i!==Nt)&&(i===Nt&&(!(Ue&2)&&(Hc|=u),Rt===4&&Ui(i,Bt)),yn(i,f),u===1&&Ue===0&&!(o.mode&1)&&(na=Je()+500,Ic&&Ni()))}function yn(i,o){var u=i.callbackNode;Br(i,o);var f=Cs(i,i===Nt?Bt:0);if(f===0)u!==null&&il(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&il(u),o===1)i.tag===0?xR(V_.bind(null,i)):wv(V_.bind(null,i)),CR(function(){!(Ue&6)&&Ni()}),u=null;else{switch(Ci(f)){case 1:u=Ss;break;case 4:u=wi;break;case 16:u=Dn;break;case 536870912:u=Xu;break;default:u=Dn}u=$_(u,O_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function O_(i,o){if(Qc=-1,Xc=0,Ue&6)throw Error(n(327));var u=i.callbackNode;if(ra()&&i.callbackNode!==u)return null;var f=Cs(i,i===Nt?Bt:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=Yc(i,f);else{o=f;var m=Ue;Ue|=2;var v=M_();(Nt!==i||Bt!==o)&&(Zr=null,na=Je()+500,Us(i,o));do try{XR();break}catch(N){L_(i,N)}while(!0);Tf(),qc.current=v,Ue=m,wt!==null?o=0:(Nt=null,Bt=0,o=Rt)}if(o!==0){if(o===2&&(m=Tn(i),m!==0&&(f=m,o=sp(i,m))),o===1)throw u=Nl,Us(i,0),Ui(i,f),yn(i,Je()),u;if(o===6)Ui(i,f);else{if(m=i.current.alternate,!(f&30)&&!GR(m)&&(o=Yc(i,f),o===2&&(v=Tn(i),v!==0&&(f=v,o=sp(i,v))),o===1))throw u=Nl,Us(i,0),Ui(i,f),yn(i,Je()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Bs(i,gn,Zr);break;case 3:if(Ui(i,f),(f&130023424)===f&&(o=np+500-Je(),10<o)){if(Cs(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){ln(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=df(Bs.bind(null,i,gn,Zr),o);break}Bs(i,gn,Zr);break;case 4:if(Ui(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var T=31-sn(f);v=1<<T,T=o[T],T>m&&(m=T),f&=~v}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*KR(f/1960))-f,10<f){i.timeoutHandle=df(Bs.bind(null,i,gn,Zr),f);break}Bs(i,gn,Zr);break;case 5:Bs(i,gn,Zr);break;default:throw Error(n(329))}}}return yn(i,Je()),i.callbackNode===u?O_.bind(null,i):null}function sp(i,o){var u=Ol;return i.current.memoizedState.isDehydrated&&(Us(i,o).flags|=256),i=Yc(i,o),i!==2&&(o=gn,gn=u,o!==null&&op(o)),i}function op(i){gn===null?gn=i:gn.push.apply(gn,i)}function GR(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!nr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(i,o){for(o&=~tp,o&=~Hc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-sn(o),f=1<<u;i[u]=-1,o&=~f}}function V_(i){if(Ue&6)throw Error(n(327));ra();var o=Cs(i,0);if(!(o&1))return yn(i,Je()),null;var u=Yc(i,o);if(i.tag!==0&&u===2){var f=Tn(i);f!==0&&(o=f,u=sp(i,f))}if(u===1)throw u=Nl,Us(i,0),Ui(i,o),yn(i,Je()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Bs(i,gn,Zr),yn(i,Je()),null}function ap(i,o){var u=Ue;Ue|=1;try{return i(o)}finally{Ue=u,Ue===0&&(na=Je()+500,Ic&&Ni())}}function Fs(i){ji!==null&&ji.tag===0&&!(Ue&6)&&ra();var o=Ue;Ue|=1;var u=Fn.transition,f=Ve;try{if(Fn.transition=null,Ve=1,i)return i()}finally{Ve=f,Fn.transition=u,Ue=o,!(Ue&6)&&Ni()}}function lp(){Rn=ta.current,nt(ta)}function Us(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,IR(u)),wt!==null)for(u=wt.return;u!==null;){var f=u;switch(yf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Tc();break;case 3:Jo(),nt(fn),nt(Kt),kf();break;case 5:Pf(f);break;case 4:Jo();break;case 13:nt(at);break;case 19:nt(at);break;case 10:Sf(f.type._context);break;case 22:case 23:lp()}u=u.return}if(Nt=i,wt=i=Bi(i.current,null),Bt=Rn=o,Rt=0,Nl=null,tp=Hc=js=0,gn=Ol=null,Vs!==null){for(o=0;o<Vs.length;o++)if(u=Vs[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,f.next=T}u.pending=f}Vs=null}return i}function L_(i,o){do{var u=wt;try{if(Tf(),Oc.current=jc,Vc){for(var f=lt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Vc=!1}if(Ms=0,Dt=At=lt=null,Rl=!1,Pl=0,ep.current=null,u===null||u.return===null){Rt=1,Nl=o,wt=null;break}e:{var v=i,T=u.return,N=u,F=o;if(o=Bt,N.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,ne=N,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=a_(T);if(ue!==null){ue.flags&=-257,l_(ue,T,N,v,o),ue.mode&1&&o_(v,G,o),o=ue,F=G;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(F),o.updateQueue=me}else pe.add(F);break e}else{if(!(o&1)){o_(v,G,o),up();break e}F=Error(n(426))}}else if(st&&N.mode&1){var pt=a_(T);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),l_(pt,T,N,v,o),wf(Zo(F,N));break e}}v=F=Zo(F,N),Rt!==4&&(Rt=2),Ol===null?Ol=[v]:Ol.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=i_(v,F,o);bv(v,W);break e;case 1:N=F;var B=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Mi===null||!Mi.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=s_(v,N,o);bv(v,oe);break e}}v=v.return}while(v!==null)}F_(u)}catch(ge){o=ge,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function M_(){var i=qc.current;return qc.current=jc,i===null?jc:i}function up(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Nt===null||!(js&268435455)&&!(Hc&268435455)||Ui(Nt,Bt)}function Yc(i,o){var u=Ue;Ue|=2;var f=M_();(Nt!==i||Bt!==o)&&(Zr=null,Us(i,o));do try{QR();break}catch(m){L_(i,m)}while(!0);if(Tf(),Ue=u,qc.current=f,wt!==null)throw Error(n(261));return Nt=null,Bt=0,Rt}function QR(){for(;wt!==null;)j_(wt)}function XR(){for(;wt!==null&&!Gu();)j_(wt)}function j_(i){var o=z_(i.alternate,i,Rn);i.memoizedProps=i.pendingProps,o===null?F_(i):wt=o,ep.current=null}function F_(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=$R(u,o),u!==null){u.flags&=32767,wt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Rt=6,wt=null;return}}else if(u=zR(u,o,Rn),u!==null){wt=u;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);Rt===0&&(Rt=5)}function Bs(i,o,u){var f=Ve,m=Fn.transition;try{Fn.transition=null,Ve=1,YR(i,o,u,f)}finally{Fn.transition=m,Ve=f}return null}function YR(i,o,u,f){do ra();while(ji!==null);if(Ue&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Qe(i,v),i===Nt&&(wt=Nt=null,Bt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Kc||(Kc=!0,$_(Dn,function(){return ra(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Fn.transition,Fn.transition=null;var T=Ve;Ve=1;var N=Ue;Ue|=4,ep.current=null,HR(i,u),x_(u,i),yR(uf),Ri=!!lf,uf=lf=null,i.current=u,WR(u),Hh(),Ue=N,Ve=T,Fn.transition=v}else i.current=u;if(Kc&&(Kc=!1,ji=i,Gc=m),v=i.pendingLanes,v===0&&(Mi=null),Yu(u.stateNode),yn(i,Je()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Wc)throw Wc=!1,i=rp,rp=null,i;return Gc&1&&i.tag!==0&&ra(),v=i.pendingLanes,v&1?i===ip?Vl++:(Vl=0,ip=i):Vl=0,Ni(),null}function ra(){if(ji!==null){var i=Ci(Gc),o=Fn.transition,u=Ve;try{if(Fn.transition=null,Ve=16>i?16:i,ji===null)var f=!1;else{if(i=ji,ji=null,Gc=0,Ue&6)throw Error(n(331));var m=Ue;for(Ue|=4,de=i.current;de!==null;){var v=de,T=v.child;if(de.flags&16){var N=v.deletions;if(N!==null){for(var F=0;F<N.length;F++){var G=N[F];for(de=G;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Dl(8,ne,v)}var ie=ne.child;if(ie!==null)ie.return=ne,de=ie;else for(;de!==null;){ne=de;var te=ne.sibling,ue=ne.return;if(I_(ne),ne===G){de=null;break}if(te!==null){te.return=ue,de=te;break}de=ue}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var pt=me.sibling;me.sibling=null,me=pt}while(me!==null)}}de=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,de=T;else e:for(;de!==null;){if(v=de,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Dl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,de=W;break e}de=v.return}}var B=i.current;for(de=B;de!==null;){T=de;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,de=K;else e:for(T=B;de!==null;){if(N=de,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:$c(9,N)}}catch(ge){dt(N,N.return,ge)}if(N===T){de=null;break e}var oe=N.sibling;if(oe!==null){oe.return=N.return,de=oe;break e}de=N.return}}if(Ue=m,Ni(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Is,i)}catch{}f=!0}return f}finally{Ve=u,Fn.transition=o}}return!1}function U_(i,o,u){o=Zo(u,o),o=i_(i,o,1),i=Vi(i,o,1),o=ln(),i!==null&&(Si(i,1,o),yn(i,o))}function dt(i,o,u){if(i.tag===3)U_(i,i,u);else for(;o!==null;){if(o.tag===3){U_(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))){i=Zo(u,i),i=s_(o,i,1),o=Vi(o,i,1),i=ln(),o!==null&&(Si(o,1,i),yn(o,i));break}}o=o.return}}function JR(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=ln(),i.pingedLanes|=i.suspendedLanes&u,Nt===i&&(Bt&u)===u&&(Rt===4||Rt===3&&(Bt&130023424)===Bt&&500>Je()-np?Us(i,0):tp|=u),yn(i,o)}function B_(i,o){o===0&&(i.mode&1?(o=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):o=1);var u=ln();i=Xr(i,o),i!==null&&(Si(i,o,u),yn(i,u))}function ZR(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),B_(i,u)}function eP(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),B_(i,u)}var z_;z_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||fn.current)mn=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return mn=!1,BR(i,o,u);mn=!!(i.flags&131072)}else mn=!1,st&&o.flags&1048576&&Ev(o,Ac,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Bc(i,o),i=o.pendingProps;var m=Ho(o,Kt.current);Yo(o,u),m=Nf(null,o,f,i,m,u);var v=Of();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pn(f)?(v=!0,Sc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Af(o),m.updater=Fc,o.stateNode=m,m._reactInternals=o,Uf(o,f,i,u),o=qf(null,o,f,!0,v,u)):(o.tag=0,st&&v&&gf(o),an(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Bc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=nP(f),i=ir(f,i),m){case 0:o=$f(null,o,f,i,u);break e;case 1:o=p_(null,o,f,i,u);break e;case 11:o=u_(null,o,f,i,u);break e;case 14:o=c_(null,o,f,ir(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),$f(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),p_(i,o,f,m,u);case 3:e:{if(m_(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,kv(i,o),Dc(o,f,null,u);var T=o.memoizedState;if(f=T.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Zo(Error(n(423)),o),o=g_(i,o,f,u,m);break e}else if(f!==m){m=Zo(Error(n(424)),o),o=g_(i,o,f,u,m);break e}else for(An=ki(o.stateNode.containerInfo.firstChild),Cn=o,st=!0,rr=null,u=Pv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Go(),f===m){o=Jr(i,o,u);break e}an(i,o,f,u)}o=o.child}return o;case 5:return Nv(o),i===null&&_f(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,cf(f,m)?T=null:v!==null&&cf(f,v)&&(o.flags|=32),f_(i,o),an(i,o,T,u),o.child;case 6:return i===null&&_f(o),null;case 13:return y_(i,o,u);case 4:return Rf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Qo(o,null,f,u):an(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),u_(i,o,f,m,u);case 7:return an(i,o,o.pendingProps,u),o.child;case 8:return an(i,o,o.pendingProps.children,u),o.child;case 12:return an(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Ze(xc,f._currentValue),f._currentValue=T,v!==null)if(nr(v.value,T)){if(v.children===m.children&&!fn.current){o=Jr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){T=v.child;for(var F=N.firstContext;F!==null;){if(F.context===f){if(v.tag===1){F=Yr(-1,u&-u),F.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),G.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),If(v.return,u,o),N.lanes|=u;break}F=F.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,N=T.alternate,N!==null&&(N.lanes|=u),If(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}an(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Yo(o,u),m=Mn(m),f=f(m),o.flags|=1,an(i,o,f,u),o.child;case 14:return f=o.type,m=ir(f,o.pendingProps),m=ir(f.type,m),c_(i,o,f,m,u);case 15:return d_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),Bc(i,o),o.tag=1,pn(f)?(i=!0,Sc(o)):i=!1,Yo(o,u),n_(o,f,m),Uf(o,f,m,u),qf(null,o,f,!0,i,u);case 19:return __(i,o,u);case 22:return h_(i,o,u)}throw Error(n(156,o.tag))};function $_(i,o){return Io(i,o)}function tP(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,o,u,f){return new tP(i,o,u,f)}function cp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nP(i){if(typeof i=="function")return cp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===yt)return 14}return 2}function Bi(i,o){var u=i.alternate;return u===null?(u=Un(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Jc(i,o,u,f,m,v){var T=2;if(f=i,typeof i=="function")cp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return zs(u.children,m,v,o);case R:T=8,m|=8;break;case k:return i=Un(12,u,o,m|2),i.elementType=k,i.lanes=v,i;case V:return i=Un(13,u,o,m),i.elementType=V,i.lanes=v,i;case Xe:return i=Un(19,u,o,m),i.elementType=Xe,i.lanes=v,i;case Se:return Zc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:T=10;break e;case U:T=9;break e;case $:T=11;break e;case yt:T=14;break e;case vt:T=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Un(T,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function zs(i,o,u,f){return i=Un(7,i,f,o),i.lanes=u,i}function Zc(i,o,u,f){return i=Un(22,i,f,o),i.elementType=Se,i.lanes=u,i.stateNode={isHidden:!1},i}function dp(i,o,u){return i=Un(6,i,null,o),i.lanes=u,i}function hp(i,o,u){return o=Un(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function rP(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function fp(i,o,u,f,m,v,T,N,F){return i=new rP(i,o,u,N,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Un(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Af(v),i}function iP(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function q_(i){if(!i)return Di;i=i._reactInternals;e:{if(Qn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(pn(u))return vv(i,u,o)}return o}function H_(i,o,u,f,m,v,T,N,F){return i=fp(u,f,!0,i,m,v,T,N,F),i.context=q_(null),u=i.current,f=ln(),m=Fi(u),v=Yr(f,m),v.callback=o??null,Vi(u,v,m),i.current.lanes=m,Si(i,m,f),yn(i,f),i}function ed(i,o,u,f){var m=o.current,v=ln(),T=Fi(m);return u=q_(u),o.context===null?o.context=u:o.pendingContext=u,o=Yr(v,T),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Vi(m,o,T),i!==null&&(ar(i,m,T,v),bc(i,m,T)),T}function td(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function W_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function pp(i,o){W_(i,o),(i=i.alternate)&&W_(i,o)}var K_=typeof reportError=="function"?reportError:function(i){console.error(i)};function mp(i){this._internalRoot=i}nd.prototype.render=mp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));ed(i,o,null,null)},nd.prototype.unmount=mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Fs(function(){ed(null,i,null,null)}),o[Wr]=null}};function nd(i){this._internalRoot=i}nd.prototype.unstable_scheduleHydration=function(i){if(i){var o=nc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<_r.length&&o!==0&&o<_r[u].priority;u++);_r.splice(u,0,i),u===0&&sc(i)}};function gp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function G_(){}function sP(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var G=td(T);v.call(G)}}var T=H_(o,f,i,0,null,!1,!1,"",G_);return i._reactRootContainer=T,i[Wr]=T.current,_l(i.nodeType===8?i.parentNode:i),Fs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var N=f;f=function(){var G=td(F);N.call(G)}}var F=fp(i,0,!1,null,null,!1,!1,"",G_);return i._reactRootContainer=F,i[Wr]=F.current,_l(i.nodeType===8?i.parentNode:i),Fs(function(){ed(o,F,u,f)}),F}function id(i,o,u,f,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var N=m;m=function(){var F=td(T);N.call(F)}}ed(o,T,i,m)}else T=sP(u,o,i,m,f);return td(T)}ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ei(o.pendingLanes);u!==0&&(Ii(o,u|1),yn(o,Je()),!(Ue&6)&&(na=Je()+500,Ni()))}break;case 13:Fs(function(){var f=Xr(i,1);if(f!==null){var m=ln();ar(f,i,1,m)}}),pp(i,1)}},Ro=function(i){if(i.tag===13){var o=Xr(i,134217728);if(o!==null){var u=ln();ar(o,i,134217728,u)}pp(i,134217728)}},tc=function(i){if(i.tag===13){var o=Fi(i),u=Xr(i,o);if(u!==null){var f=ln();ar(u,i,o,f)}pp(i,o)}},nc=function(){return Ve},rc=function(i,o){var u=Ve;try{return Ve=i,o()}finally{Ve=u}},vo=function(i,o,u){switch(o){case"input":if(qa(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=Ec(f);if(!m)throw Error(n(90));ho(f),qa(f,m)}}}break;case"textarea":go(i,u);break;case"select":o=u.value,o!=null&&jr(i,!!u.multiple,o,!1)}},_s=ap,el=Fs;var oP={usingClientEntryPoint:!1,Events:[Tl,$o,Ec,yr,Za,ap]},Ll={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aP={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=rl(i),i===null?null:i.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Is=sd.inject(aP),En=sd}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP,vn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(o))throw Error(n(200));return iP(i,o,null,u)},vn.createRoot=function(i,o){if(!gp(i))throw Error(n(299));var u=!1,f="",m=K_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=fp(i,1,!1,null,null,u,!1,f,m),i[Wr]=o.current,_l(i.nodeType===8?i.parentNode:i),new mp(o)},vn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=rl(o),i=i===null?null:i.stateNode,i},vn.flushSync=function(i){return Fs(i)},vn.hydrate=function(i,o,u){if(!rd(o))throw Error(n(200));return id(null,i,o,!0,u)},vn.hydrateRoot=function(i,o,u){if(!gp(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",T=K_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=H_(o,null,i,1,u??null,m,!1,v,T),i[Wr]=o.current,_l(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new nd(o)},vn.render=function(i,o,u){if(!rd(o))throw Error(n(200));return id(null,i,o,!1,u)},vn.unmountComponentAtNode=function(i){if(!rd(i))throw Error(n(40));return i._reactRootContainer?(Fs(function(){id(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},vn.unstable_batchedUpdates=ap,vn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!rd(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return id(i,o,u,!1,f)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var nw;function mP(){if(nw)return _p.exports;nw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_p.exports=pP(),_p.exports}var rw;function gP(){if(rw)return od;rw=1;var t=mP();return od.createRoot=t.createRoot,od.hydrateRoot=t.hydrateRoot,od}var yP=gP(),jl={},iw;function vP(){if(iw)return jl;iw=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=l,jl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,I){const C=new a,x=E.length;if(x<2)return C;const A=(I==null?void 0:I.decode)||g;let b=0;do{const j=E.indexOf("=",b);if(j===-1)break;const L=E.indexOf(";",b),Q=L===-1?x:L;if(j>Q){b=E.lastIndexOf(";",j-1)+1;continue}const z=c(E,b,j),re=h(E,j,z),D=E.slice(z,re);if(C[D]===void 0){let R=c(E,j+1,Q),k=h(E,Q,R);const M=A(E.slice(R,k));C[D]=M}b=Q+1}while(b<x);return C}function c(E,I,C){do{const x=E.charCodeAt(I);if(x!==32&&x!==9)return I}while(++I<C);return C}function h(E,I,C){for(;I>C;){const x=E.charCodeAt(--I);if(x!==32&&x!==9)return I+1}return C}function p(E,I,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const A=x(I);if(!e.test(A))throw new TypeError(`argument val is invalid: ${I}`);let b=E+"="+A;if(!C)return b;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);b+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);b+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);b+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);b+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(b+="; HttpOnly"),C.secure&&(b+="; Secure"),C.partitioned&&(b+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return b}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return jl}vP();/**
 * react-router v7.1.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sw="popstate";function _P(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return rm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ou(s)}return EP(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wP(){return Math.random().toString(36).substring(2,10)}function ow(t,e){return{usr:t.state,key:t.key,idx:e}}function rm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xa(e):e,state:n,key:e&&e.key||r||wP()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function EP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let A=g(),b=A==null?null:A-p;p=A,h&&h({action:c,location:x.location,delta:b})}function E(A,b){c="PUSH";let j=rm(x.location,A,b);p=g()+1;let L=ow(j,p),Q=x.createHref(j);try{l.pushState(L,"",Q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(Q)}a&&h&&h({action:c,location:x.location,delta:1})}function I(A,b){c="REPLACE";let j=rm(x.location,A,b);p=g();let L=ow(j,p),Q=x.createHref(j);l.replaceState(L,"",Q),a&&h&&h({action:c,location:x.location,delta:0})}function C(A){let b=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof A=="string"?A:ou(A);return j=j.replace(/ $/,"%20"),ot(b,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,b)}let x={get action(){return c},get location(){return t(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(sw,_),h=A,()=>{s.removeEventListener(sw,_),h=null}},createHref(A){return e(s,A)},createURL:C,encodeLocation(A){let b=C(A);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:E,replace:I,go(A){return l.go(A)}};return x}function h0(t,e,n="/"){return TP(t,e,n,!1)}function TP(t,e,n,r){let s=typeof e=="string"?xa(e):e,a=ns(s.pathname||"/",n);if(a==null)return null;let l=f0(t);SP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=OP(a);c=DP(l[h],p,r)}return c}function f0(t,e=[],n=[],r=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ot(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=ii([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(ot(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),f0(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:kP(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of p0(a.path))s(a,l,h)}),e}function p0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=p0(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function SP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var IP=/^:[\w-]+$/,CP=3,AP=2,RP=1,PP=10,xP=-2,aw=t=>t==="*";function kP(t,e){let n=t.split("/"),r=n.length;return n.some(aw)&&(r+=xP),e&&(r+=AP),n.filter(s=>!aw(s)).reduce((s,a)=>s+(IP.test(a)?CP:a===""?RP:PP),r)}function bP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DP(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),E=h.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ii([a,_.pathname]),pathnameBase:jP(ii([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ii([a,_.pathnameBase]))}return l}function Vd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let C=c[E]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const I=c[E];return _&&!I?p[g]=void 0:p[g]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function NP(t,e=!1,n=!0){hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function OP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?xa(t):t;return{pathname:n?n.startsWith("/")?n:LP(n,e):e,search:FP(r),hash:UP(s)}}function LP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(t){let e=MP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sg(t,e,n,r=!1){let s;typeof t=="string"?s=xa(t):(s={...t},ot(!s.pathname||!s.pathname.includes("?"),Tp("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Tp("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Tp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}c=_>=0?e[_]:"/"}let h=VP(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),jP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var m0=["POST","PUT","PATCH","DELETE"];new Set(m0);var zP=["GET",...m0];new Set(zP);var ka=O.createContext(null);ka.displayName="DataRouter";var lh=O.createContext(null);lh.displayName="DataRouterState";var g0=O.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var $P=O.createContext(new Map);$P.displayName="Fetchers";var qP=O.createContext(null);qP.displayName="Await";var pr=O.createContext(null);pr.displayName="Navigation";var Cu=O.createContext(null);Cu.displayName="Location";var Hn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var og=O.createContext(null);og.displayName="RouteError";function HP(t,{relative:e}={}){ot(ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(pr),{hash:s,pathname:a,search:l}=Au(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:ii([n,a])),r.createHref({pathname:c,search:l,hash:s})}function ba(){return O.useContext(Cu)!=null}function ds(){return ot(ba(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Cu).location}var y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v0(t){O.useContext(pr).static||O.useLayoutEffect(t)}function Wn(){let{isDataRoute:t}=O.useContext(Hn);return t?ox():WP()}function WP(){ot(ba(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(ka),{basename:e,navigator:n}=O.useContext(pr),{matches:r}=O.useContext(Hn),{pathname:s}=ds(),a=JSON.stringify(ig(r)),l=O.useRef(!1);return v0(()=>{l.current=!0}),O.useCallback((h,p={})=>{if(hr(l.current,y0),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=sg(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ii([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}var KP=O.createContext(null);function GP(t){let e=O.useContext(Hn).outlet;return e&&O.createElement(KP.Provider,{value:t},e)}function pi(){let{matches:t}=O.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function Au(t,{relative:e}={}){let{matches:n}=O.useContext(Hn),{pathname:r}=ds(),s=JSON.stringify(ig(n));return O.useMemo(()=>sg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function QP(t,e){return _0(t,e)}function _0(t,e,n,r){var j;ot(ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=O.useContext(pr),{matches:l}=O.useContext(Hn),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let L=_&&_.path||"";w0(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let E=ds(),I;if(e){let L=typeof e=="string"?xa(e):e;ot(g==="/"||((j=L.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),I=L}else I=E;let C=I.pathname||"/",x=C;if(g!=="/"){let L=g.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=!a&&n&&n.matches&&n.matches.length>0?n.matches:h0(t,{pathname:x});hr(_||A!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),hr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=ex(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:ii([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ii([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,r);return e&&b?O.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},b):b}function XP(){let t=sx(),e=BP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,l)}var YP=O.createElement(XP,null),JP=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Hn.Provider,{value:this.props.routeContext},O.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZP({routeContext:t,match:e,children:n}){let r=O.useContext(ka);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Hn.Provider,{value:t},n)}function ex(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ot(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let _,E=!1,I=null,C=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||YP,l&&(c<0&&g===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):c===g&&(E=!0,C=p.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),A=()=>{let b;return _?b=I:E?b=C:p.route.Component?b=O.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=h,O.createElement(ZP,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(JP,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function ag(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tx(t){let e=O.useContext(ka);return ot(e,ag(t)),e}function nx(t){let e=O.useContext(lh);return ot(e,ag(t)),e}function rx(t){let e=O.useContext(Hn);return ot(e,ag(t)),e}function lg(t){let e=rx(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ix(){return lg("useRouteId")}function sx(){var r;let t=O.useContext(og),e=nx("useRouteError"),n=lg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ox(){let{router:t}=tx("useNavigate"),e=lg("useNavigate"),n=O.useRef(!1);return v0(()=>{n.current=!0}),O.useCallback(async(s,a={})=>{hr(n.current,y0),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var lw={};function w0(t,e,n){!e&&!lw[t]&&(lw[t]=!0,hr(!1,n))}O.memo(ax);function ax({routes:t,future:e,state:n}){return _0(t,void 0,n,e)}function lx({to:t,replace:e,state:n,relative:r}){ot(ba(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(pr);hr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Hn),{pathname:l}=ds(),c=Wn(),h=sg(t,ig(a),l,r==="path"),p=JSON.stringify(h);return O.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:r})},[c,p,r,e,n]),null}function ux(t){return GP(t.context)}function Vt(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){ot(!ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=xa(n));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,I=O.useMemo(()=>{let C=ns(h,l);return C==null?null:{location:{pathname:C,search:p,hash:g,state:_,key:E},navigationType:r}},[l,h,p,g,_,E,r]);return hr(I!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(pr.Provider,{value:c},O.createElement(Cu.Provider,{children:e,value:I}))}function dx({children:t,location:e}){return QP(im(t),e)}function im(t,e=[]){let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){n.push.apply(n,im(r.props.children,a));return}ot(r.type===Vt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=im(r.props.children,a)),n.push(l)}),n}var yd="get",vd="application/x-www-form-urlencoded";function uh(t){return t!=null&&typeof t.tagName=="string"}function hx(t){return uh(t)&&t.tagName.toLowerCase()==="button"}function fx(t){return uh(t)&&t.tagName.toLowerCase()==="form"}function px(t){return uh(t)&&t.tagName.toLowerCase()==="input"}function mx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gx(t,e){return t.button===0&&(!e||e==="_self")&&!mx(t)}var ad=null;function yx(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var vx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(t){return t!=null&&!vx.has(t)?(hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):t}function _x(t,e){let n,r,s,a,l;if(fx(t)){let c=t.getAttribute("action");r=c?ns(c,e):null,n=t.getAttribute("method")||yd,s=Sp(t.getAttribute("enctype"))||vd,a=new FormData(t)}else if(hx(t)||px(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?ns(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||yd,s=Sp(t.getAttribute("formenctype"))||Sp(c.getAttribute("enctype"))||vd,a=new FormData(c,t),!yx()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(uh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yd,r=null,s=vd,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function ug(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function wx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ex(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Tx(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await wx(a,n);return l.links?l.links():[]}return[]}));return Ax(r.flat(1).filter(Ex).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uw(t,e,n,r,s,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Sx(t,e){return Ix(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Ix(t){return[...new Set(t)]}function Cx(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Ax(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(Cx(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function Rx(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Px(){let t=O.useContext(ka);return ug(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xx(){let t=O.useContext(lh);return ug(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cg=O.createContext(void 0);cg.displayName="FrameworkContext";function E0(){let t=O.useContext(cg);return ug(t,"You must render this element inside a <HydratedRouter> element"),t}function kx(t,e){let n=O.useContext(cg),[r,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=b=>{b.forEach(j=>{l(j.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[t]),O.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let I=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Fl(c,I),onBlur:Fl(h,C),onMouseEnter:Fl(p,I),onMouseLeave:Fl(g,C),onTouchStart:Fl(_,I)}]:[!1,E,{}]}function Fl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bx({page:t,...e}){let{router:n}=Px(),r=O.useMemo(()=>h0(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(Nx,{page:t,matches:r,...e}):null}function Dx(t){let{manifest:e,routeModules:n}=E0(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return Tx(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function Nx({page:t,matches:e,...n}){let r=ds(),{manifest:s,routeModules:a}=E0(),{loaderData:l,matches:c}=xx(),h=O.useMemo(()=>uw(t,e,c,s,r,"data"),[t,e,c,s,r]),p=O.useMemo(()=>uw(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,C=!1;if(e.forEach(A=>{var j;let b=s.routes[A.route.id];!b||!b.hasLoader||(!h.some(L=>L.route.id===A.route.id)&&A.route.id in l&&((j=a[A.route.id])!=null&&j.shouldRevalidate)||b.hasClientLoader?C=!0:I.add(A.route.id))}),I.size===0)return[];let x=Rx(t);return C&&I.size>0&&x.searchParams.set("_routes",e.filter(A=>I.has(A.route.id)).map(A=>A.route.id).join(",")),[x.pathname+x.search]},[l,r,s,h,e,t,a]),_=O.useMemo(()=>Sx(p,s),[p,s]),E=Dx(p);return O.createElement(O.Fragment,null,g.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),_.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),E.map(({key:I,link:C})=>O.createElement("link",{key:I,...C})))}function Ox(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T0&&(window.__reactRouterVersion="7.1.4")}catch{}function Vx({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=_P({window:n,v5Compat:!0}));let s=r.current,[a,l]=O.useState({action:s.action,location:s.location}),c=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>s.listen(c),[s,c]),O.createElement(cx,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:_,...E},I){let{basename:C}=O.useContext(pr),x=typeof p=="string"&&S0.test(p),A,b=!1;if(typeof p=="string"&&x&&(A=p,T0))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),U=ns(M.pathname,C);M.origin===k.origin&&U!=null?p=U+M.search+M.hash:b=!0}catch{hr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=HP(p,{relative:s}),[L,Q,z]=kx(r,E),re=Fx(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:_});function D(k){e&&e(k),k.defaultPrevented||re(k)}let R=O.createElement("a",{...E,...z,href:A||j,onClick:b||a?e:D,ref:Ox(I,Q),target:h,"data-discover":!x&&n==="render"?"true":void 0});return L&&!x?O.createElement(O.Fragment,null,R,O.createElement(bx,{page:j})):R});Mt.displayName="Link";var Lx=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let _=Au(l,{relative:p.relative}),E=ds(),I=O.useContext(lh),{navigator:C,basename:x}=O.useContext(pr),A=I!=null&&qx(_)&&c===!0,b=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=E.pathname,L=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,b=b.toLowerCase()),L&&x&&(L=ns(L,x)||L);const Q=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let z=j===b||!s&&j.startsWith(b)&&j.charAt(Q)==="/",re=L!=null&&(L===b||!s&&L.startsWith(b)&&L.charAt(b.length)==="/"),D={isActive:z,isPending:re,isTransitioning:A},R=z?e:void 0,k;typeof r=="function"?k=r(D):k=[r,z?"active":null,re?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return O.createElement(Mt,{...p,"aria-current":R,className:k,ref:g,style:M,to:l,viewTransition:c},typeof h=="function"?h(D):h)});Lx.displayName="NavLink";var Mx=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=yd,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...E},I)=>{let C=zx(),x=$x(c,{relative:p}),A=l.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&S0.test(c),j=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let Q=L.nativeEvent.submitter,z=(Q==null?void 0:Q.getAttribute("formmethod"))||l;C(Q||L.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return O.createElement("form",{ref:I,method:A,action:x,onSubmit:r?h:j,...E,"data-discover":!b&&t==="render"?"true":void 0})});Mx.displayName="Form";function jx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(t){let e=O.useContext(ka);return ot(e,jx(t)),e}function Fx(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Wn(),h=ds(),p=Au(t,{relative:a});return O.useCallback(g=>{if(gx(g,e)){g.preventDefault();let _=n!==void 0?n:ou(h)===ou(p);c(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,s,a,l])}var Ux=0,Bx=()=>`__${String(++Ux)}__`;function zx(){let{router:t}=I0("useSubmit"),{basename:e}=O.useContext(pr),n=ix();return O.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=_x(r,e);if(s.navigate===!1){let g=s.fetcherKey||Bx();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function $x(t,{relative:e}={}){let{basename:n}=O.useContext(pr),r=O.useContext(Hn);ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Au(t||".",{relative:e})},l=ds();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ii([n,a.pathname])),ou(a)}function qx(t,e={}){let n=O.useContext(g0);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I0("useViewTransitionState"),s=Au(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vd(s.pathname,l)!=null||Vd(s.pathname,a)!=null}new TextEncoder;function C0(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hx}=Object.prototype,{getPrototypeOf:dg}=Object,ch=(t=>e=>{const n=Hx.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mr=t=>(t=t.toLowerCase(),e=>ch(e)===t),dh=t=>e=>typeof e===t,{isArray:Da}=Array,au=dh("undefined");function Wx(t){return t!==null&&!au(t)&&t.constructor!==null&&!au(t.constructor)&&Pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const A0=mr("ArrayBuffer");function Kx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&A0(t.buffer),e}const Gx=dh("string"),Pn=dh("function"),R0=dh("number"),hh=t=>t!==null&&typeof t=="object",Qx=t=>t===!0||t===!1,_d=t=>{if(ch(t)!=="object")return!1;const e=dg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xx=mr("Date"),Yx=mr("File"),Jx=mr("Blob"),Zx=mr("FileList"),e1=t=>hh(t)&&Pn(t.pipe),t1=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pn(t.append)&&((e=ch(t))==="formdata"||e==="object"&&Pn(t.toString)&&t.toString()==="[object FormData]"))},n1=mr("URLSearchParams"),[r1,i1,s1,o1]=["ReadableStream","Request","Response","Headers"].map(mr),a1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Da(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(r=0;r<l;r++)c=a[r],e.call(null,t[c],c,t)}}function P0(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x0=t=>!au(t)&&t!==Ks;function sm(){const{caseless:t}=x0(this)&&this||{},e={},n=(r,s)=>{const a=t&&P0(e,s)||s;_d(e[a])&&_d(r)?e[a]=sm(e[a],r):_d(r)?e[a]=sm({},r):Da(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ru(arguments[r],n);return e}const l1=(t,e,n,{allOwnKeys:r}={})=>(Ru(e,(s,a)=>{n&&Pn(s)?t[a]=C0(s,n):t[a]=s},{allOwnKeys:r}),t),u1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c1=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},d1=(t,e,n,r)=>{let s,a,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&dg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},h1=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},f1=t=>{if(!t)return null;if(Da(t))return t;let e=t.length;if(!R0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},p1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dg(Uint8Array)),m1=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},g1=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},y1=mr("HTMLFormElement"),v1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),cw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_1=mr("RegExp"),k0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ru(n,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(r[a]=l||s)}),Object.defineProperties(t,r)},w1=t=>{k0(t,(e,n)=>{if(Pn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E1=(t,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Da(t)?r(t):r(String(t).split(e)),n},T1=()=>{},S1=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Ip="abcdefghijklmnopqrstuvwxyz",dw="0123456789",b0={DIGIT:dw,ALPHA:Ip,ALPHA_DIGIT:Ip+Ip.toUpperCase()+dw},I1=(t=16,e=b0.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function C1(t){return!!(t&&Pn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const A1=t=>{const e=new Array(10),n=(r,s)=>{if(hh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=Da(r)?[]:{};return Ru(r,(l,c)=>{const h=n(l,s+1);!au(h)&&(a[c]=h)}),e[s]=void 0,a}}return r};return n(t,0)},R1=mr("AsyncFunction"),P1=t=>t&&(hh(t)||Pn(t))&&Pn(t.then)&&Pn(t.catch),D0=((t,e)=>t?setImmediate:e?((n,r)=>(Ks.addEventListener("message",({source:s,data:a})=>{s===Ks&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ks.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pn(Ks.postMessage)),x1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||D0,Y={isArray:Da,isArrayBuffer:A0,isBuffer:Wx,isFormData:t1,isArrayBufferView:Kx,isString:Gx,isNumber:R0,isBoolean:Qx,isObject:hh,isPlainObject:_d,isReadableStream:r1,isRequest:i1,isResponse:s1,isHeaders:o1,isUndefined:au,isDate:Xx,isFile:Yx,isBlob:Jx,isRegExp:_1,isFunction:Pn,isStream:e1,isURLSearchParams:n1,isTypedArray:p1,isFileList:Zx,forEach:Ru,merge:sm,extend:l1,trim:a1,stripBOM:u1,inherits:c1,toFlatObject:d1,kindOf:ch,kindOfTest:mr,endsWith:h1,toArray:f1,forEachEntry:m1,matchAll:g1,isHTMLForm:y1,hasOwnProperty:cw,hasOwnProp:cw,reduceDescriptors:k0,freezeMethods:w1,toObjectSet:E1,toCamelCase:v1,noop:T1,toFiniteNumber:S1,findKey:P0,global:Ks,isContextDefined:x0,ALPHABET:b0,generateString:I1,isSpecCompliantForm:C1,toJSONObject:A1,isAsyncFn:R1,isThenable:P1,setImmediate:D0,asap:x1};function xe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const N0=xe.prototype,O0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{O0[t]={value:t}});Object.defineProperties(xe,O0);Object.defineProperty(N0,"isAxiosError",{value:!0});xe.from=(t,e,n,r,s,a)=>{const l=Object.create(N0);return Y.toFlatObject(t,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),xe.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const k1=null;function om(t){return Y.isPlainObject(t)||Y.isArray(t)}function V0(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function hw(t,e,n){return t?t.concat(e).map(function(s,a){return s=V0(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function b1(t){return Y.isArray(t)&&!t.some(om)}const D1=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function fh(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,A){return!Y.isUndefined(A[x])});const r=n.metaTokens,s=n.visitor||g,a=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(Y.isDate(C))return C.toISOString();if(!h&&Y.isBlob(C))throw new xe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(C)||Y.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,x,A){let b=C;if(C&&!A&&typeof C=="object"){if(Y.endsWith(x,"{}"))x=r?x:x.slice(0,-2),C=JSON.stringify(C);else if(Y.isArray(C)&&b1(C)||(Y.isFileList(C)||Y.endsWith(x,"[]"))&&(b=Y.toArray(C)))return x=V0(x),b.forEach(function(L,Q){!(Y.isUndefined(L)||L===null)&&e.append(l===!0?hw([x],Q,a):l===null?x:x+"[]",p(L))}),!1}return om(C)?!0:(e.append(hw(A,x,a),p(C)),!1)}const _=[],E=Object.assign(D1,{defaultVisitor:g,convertValue:p,isVisitable:om});function I(C,x){if(!Y.isUndefined(C)){if(_.indexOf(C)!==-1)throw Error("Circular reference detected in "+x.join("."));_.push(C),Y.forEach(C,function(b,j){(!(Y.isUndefined(b)||b===null)&&s.call(e,b,Y.isString(j)?j.trim():j,x,E))===!0&&I(b,x?x.concat(j):[j])}),_.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return I(t),e}function fw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function hg(t,e){this._pairs=[],t&&fh(t,this,e)}const L0=hg.prototype;L0.append=function(e,n){this._pairs.push([e,n])};L0.toString=function(e){const n=e?function(r){return e.call(this,r,fw)}:fw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function N1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function M0(t,e,n){if(!e)return t;const r=n&&n.encode||N1;Y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=Y.isURLSearchParams(e)?e.toString():new hg(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class pw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const j0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O1=typeof URLSearchParams<"u"?URLSearchParams:hg,V1=typeof FormData<"u"?FormData:null,L1=typeof Blob<"u"?Blob:null,M1={isBrowser:!0,classes:{URLSearchParams:O1,FormData:V1,Blob:L1},protocols:["http","https","file","blob","url","data"]},fg=typeof window<"u"&&typeof document<"u",am=typeof navigator=="object"&&navigator||void 0,j1=fg&&(!am||["ReactNative","NativeScript","NS"].indexOf(am.product)<0),F1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U1=fg&&window.location.href||"http://localhost",B1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fg,hasStandardBrowserEnv:j1,hasStandardBrowserWebWorkerEnv:F1,navigator:am,origin:U1},Symbol.toStringTag,{value:"Module"})),tn={...B1,...M1};function z1(t,e){return fh(t,new tn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return tn.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function $1(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q1(t){const e={},n=Object.keys(t);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=t[a];return e}function F0(t){function e(n,r,s,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),h=a>=n.length;return l=!l&&Y.isArray(s)?s.length:l,h?(Y.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!Y.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],a)&&Y.isArray(s[l])&&(s[l]=q1(s[l])),!c)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,s)=>{e($1(r),s,n,0)}),n}return null}function H1(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Pu={transitional:j0,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=Y.isObject(e);if(a&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(F0(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z1(e,this.formSerializer).toString();if((c=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return fh(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),H1(e)):e}],transformResponse:[function(e){const n=this.transitional||Pu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?xe.from(c,xe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{Pu.headers[t]={}});const W1=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K1=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&W1[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mw=Symbol("internals");function Ul(t){return t&&String(t).trim().toLowerCase()}function wd(t){return t===!1||t==null?t:Y.isArray(t)?t.map(wd):String(t)}function G1(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Q1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cp(t,e,n,r,s){if(Y.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function X1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Y1(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}class wn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(c,h,p){const g=Ul(h);if(!g)throw new Error("header name must be a non-empty string");const _=Y.findKey(s,g);(!_||s[_]===void 0||p===!0||p===void 0&&s[_]!==!1)&&(s[_||h]=wd(c))}const l=(c,h)=>Y.forEach(c,(p,g)=>a(p,g,h));if(Y.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Y.isString(e)&&(e=e.trim())&&!Q1(e))l(K1(e),n);else if(Y.isHeaders(e))for(const[c,h]of e.entries())a(h,c,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=Ul(e),e){const r=Y.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return G1(s);if(Y.isFunction(n))return n.call(this,s,r);if(Y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ul(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Cp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(l){if(l=Ul(l),l){const c=Y.findKey(r,l);c&&(!n||Cp(r,r[c],c,n))&&(delete r[c],s=!0)}}return Y.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||Cp(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return Y.forEach(this,(s,a)=>{const l=Y.findKey(r,a);if(l){n[l]=wd(s),delete n[a];return}const c=e?X1(a):String(a).trim();c!==a&&delete n[a],n[c]=wd(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[mw]=this[mw]={accessors:{}}).accessors,s=this.prototype;function a(l){const c=Ul(l);r[c]||(Y1(s,l),r[c]=!0)}return Y.isArray(e)?e.forEach(a):a(e),this}}wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(wn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Y.freezeMethods(wn);function Ap(t,e){const n=this||Pu,r=e||n,s=wn.from(r.headers);let a=r.data;return Y.forEach(t,function(c){a=c.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function U0(t){return!!(t&&t.__CANCEL__)}function Na(t,e,n){xe.call(this,t??"canceled",xe.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(Na,xe,{__CANCEL__:!0});function B0(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function J1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Z1(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),g=r[a];l||(l=p),n[s]=h,r[s]=p;let _=a,E=0;for(;_!==s;)E+=n[_++],_=_%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),p-l<e)return;const I=g&&p-g;return I?Math.round(E*1e3/I):void 0}}function ek(t,e){let n=0,r=1e3/e,s,a;const l=(p,g=Date.now())=>{n=g,s=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const g=Date.now(),_=g-n;_>=r?l(p,g):(s=p,a||(a=setTimeout(()=>{a=null,l(s)},r-_)))},()=>s&&l(s)]}const Ld=(t,e,n=3)=>{let r=0;const s=Z1(50,250);return ek(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,h=l-r,p=s(h),g=l<=c;r=l;const _={loaded:l,total:c,progress:c?l/c:void 0,bytes:h,rate:p||void 0,estimated:p&&c&&g?(c-l)/p:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(_)},n)},gw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yw=t=>(...e)=>Y.asap(()=>t(...e)),tk=tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,nk=tn.hasStandardBrowserEnv?{write(t,e,n,r,s,a){const l=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&l.push("path="+r),Y.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rk(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ik(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function z0(t,e){return t&&!rk(e)?ik(t,e):e}const vw=t=>t instanceof wn?{...t}:t;function eo(t,e){e=e||{};const n={};function r(p,g,_,E){return Y.isPlainObject(p)&&Y.isPlainObject(g)?Y.merge.call({caseless:E},p,g):Y.isPlainObject(g)?Y.merge({},g):Y.isArray(g)?g.slice():g}function s(p,g,_,E){if(Y.isUndefined(g)){if(!Y.isUndefined(p))return r(void 0,p,_,E)}else return r(p,g,_,E)}function a(p,g){if(!Y.isUndefined(g))return r(void 0,g)}function l(p,g){if(Y.isUndefined(g)){if(!Y.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function c(p,g,_){if(_ in e)return r(p,g);if(_ in t)return r(void 0,p)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,g,_)=>s(vw(p),vw(g),_,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(g){const _=h[g]||s,E=_(t[g],e[g],g);Y.isUndefined(E)&&_!==c||(n[g]=E)}),n}const $0=t=>{const e=eo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=wn.from(l),e.url=M0(z0(e.baseURL,e.url),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(Y.isFormData(n)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[p,...g]=h?h.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(tn.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&tk(e.url))){const p=s&&a&&nk.read(a);p&&l.set(s,p)}return e},sk=typeof XMLHttpRequest<"u",ok=sk&&function(t){return new Promise(function(n,r){const s=$0(t);let a=s.data;const l=wn.from(s.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:p}=s,g,_,E,I,C;function x(){I&&I(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function b(){if(!A)return;const L=wn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:L,config:t,request:A};B0(function(D){n(D),x()},function(D){r(D),x()},z),A=null}"onloadend"in A?A.onloadend=b:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(b)},A.onabort=function(){A&&(r(new xe("Request aborted",xe.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let Q=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||j0;s.timeoutErrorMessage&&(Q=s.timeoutErrorMessage),r(new xe(Q,z.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,A)),A=null},a===void 0&&l.setContentType(null),"setRequestHeader"in A&&Y.forEach(l.toJSON(),function(Q,z){A.setRequestHeader(z,Q)}),Y.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),c&&c!=="json"&&(A.responseType=s.responseType),p&&([E,C]=Ld(p,!0),A.addEventListener("progress",E)),h&&A.upload&&([_,I]=Ld(h),A.upload.addEventListener("progress",_),A.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(g=L=>{A&&(r(!L||L.type?new Na(null,t,A):L),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const j=J1(s.url);if(j&&tn.protocols.indexOf(j)===-1){r(new xe("Unsupported protocol "+j+":",xe.ERR_BAD_REQUEST,t));return}A.send(a||null)})},ak=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(p){if(!s){s=!0,c();const g=p instanceof Error?p:this.reason;r.abort(g instanceof xe?g:new Na(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>Y.asap(c),h}},lk=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},uk=async function*(t,e){for await(const n of ck(t))yield*lk(n,e)},ck=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},_w=(t,e,n,r)=>{const s=uk(t,e);let a=0,l,c=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:p,value:g}=await s.next();if(p){c(),h.close();return}let _=g.byteLength;if(n){let E=a+=_;n(E)}h.enqueue(new Uint8Array(g))}catch(p){throw c(p),p}},cancel(h){return c(h),s.return()}},{highWaterMark:2})},ph=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",q0=ph&&typeof ReadableStream=="function",dk=ph&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),H0=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hk=q0&&H0(()=>{let t=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ww=64*1024,lm=q0&&H0(()=>Y.isReadableStream(new Response("").body)),Md={stream:lm&&(t=>t.body)};ph&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Md[e]&&(Md[e]=Y.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const fk=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await dk(t)).byteLength},pk=async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??fk(e)},mk=ph&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:h,responseType:p,headers:g,withCredentials:_="same-origin",fetchOptions:E}=$0(t);p=p?(p+"").toLowerCase():"text";let I=ak([s,a&&a.toAbortSignal()],l),C;const x=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let A;try{if(h&&hk&&n!=="get"&&n!=="head"&&(A=await pk(g,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),re;if(Y.isFormData(r)&&(re=z.headers.get("content-type"))&&g.setContentType(re),z.body){const[D,R]=gw(A,Ld(yw(h)));r=_w(z.body,ww,D,R)}}Y.isString(_)||(_=_?"include":"omit");const b="credentials"in Request.prototype;C=new Request(e,{...E,signal:I,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:b?_:void 0});let j=await fetch(C);const L=lm&&(p==="stream"||p==="response");if(lm&&(c||L&&x)){const z={};["status","statusText","headers"].forEach(k=>{z[k]=j[k]});const re=Y.toFiniteNumber(j.headers.get("content-length")),[D,R]=c&&gw(re,Ld(yw(c),!0))||[];j=new Response(_w(j.body,ww,D,()=>{R&&R(),x&&x()}),z)}p=p||"text";let Q=await Md[Y.findKey(Md,p)||"text"](j,t);return!L&&x&&x(),await new Promise((z,re)=>{B0(z,re,{data:Q,headers:wn.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:C})})}catch(b){throw x&&x(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,t,C),{cause:b.cause||b}):xe.from(b,b&&b.code,t,C)}}),um={http:k1,xhr:ok,fetch:mk};Y.forEach(um,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ew=t=>`- ${t}`,gk=t=>Y.isFunction(t)||t===null||t===!1,W0={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!gk(n)&&(r=um[(l=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+a]=r}if(!r){const a=Object.entries(s).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Ew).join(`
`):" "+Ew(a[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:um};function Rp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Na(null,t)}function Tw(t){return Rp(t),t.headers=wn.from(t.headers),t.data=Ap.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),W0.getAdapter(t.adapter||Pu.adapter)(t).then(function(r){return Rp(t),r.data=Ap.call(t,t.transformResponse,r),r.headers=wn.from(r.headers),r},function(r){return U0(r)||(Rp(t),r&&r.response&&(r.response.data=Ap.call(t,t.transformResponse,r.response),r.response.headers=wn.from(r.response.headers))),Promise.reject(r)})}const K0="1.7.9",mh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Sw={};mh.transitional=function(e,n,r){function s(a,l){return"[Axios v"+K0+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,c)=>{if(e===!1)throw new xe(s(l," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!Sw[l]&&(Sw[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,c):!0}};mh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yk(t,e,n){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const c=t[a],h=c===void 0||l(c,a,t);if(h!==!0)throw new xe("option "+a+" must be "+h,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+a,xe.ERR_BAD_OPTION)}}const Ed={assertOptions:yk,validators:mh},Rr=Ed.validators;class Ys{constructor(e){this.defaults=e,this.interceptors={request:new pw,response:new pw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=eo(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Ed.assertOptions(r,{silentJSONParsing:Rr.transitional(Rr.boolean),forcedJSONParsing:Rr.transitional(Rr.boolean),clarifyTimeoutError:Rr.transitional(Rr.boolean)},!1),s!=null&&(Y.isFunction(s)?n.paramsSerializer={serialize:s}:Ed.assertOptions(s,{encode:Rr.function,serialize:Rr.function},!0)),Ed.assertOptions(n,{baseUrl:Rr.spelling("baseURL"),withXsrfToken:Rr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Y.merge(a.common,a[n.method]);a&&Y.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),n.headers=wn.concat(l,a);const c=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(h=h&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});let g,_=0,E;if(!h){const C=[Tw.bind(this),void 0];for(C.unshift.apply(C,c),C.push.apply(C,p),E=C.length,g=Promise.resolve(n);_<E;)g=g.then(C[_++],C[_++]);return g}E=c.length;let I=n;for(_=0;_<E;){const C=c[_++],x=c[_++];try{I=C(I)}catch(A){x.call(this,A);break}}try{g=Tw.call(this,I)}catch(C){return Promise.reject(C)}for(_=0,E=p.length;_<E;)g=g.then(p[_++],p[_++]);return g}getUri(e){e=eo(this.defaults,e);const n=z0(e.baseURL,e.url);return M0(n,e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(e){Ys.prototype[e]=function(n,r){return this.request(eo(r||{},{method:e,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,c){return this.request(eo(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ys.prototype[e]=n(),Ys.prototype[e+"Form"]=n(!0)});class pg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(c=>{r.subscribe(c),a=c}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,c){r.reason||(r.reason=new Na(a,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new pg(function(s){e=s}),cancel:e}}}function vk(t){return function(n){return t.apply(null,n)}}function _k(t){return Y.isObject(t)&&t.isAxiosError===!0}const cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cm).forEach(([t,e])=>{cm[e]=t});function G0(t){const e=new Ys(t),n=C0(Ys.prototype.request,e);return Y.extend(n,Ys.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return G0(eo(t,s))},n}const Ke=G0(Pu);Ke.Axios=Ys;Ke.CanceledError=Na;Ke.CancelToken=pg;Ke.isCancel=U0;Ke.VERSION=K0;Ke.toFormData=fh;Ke.AxiosError=xe;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=vk;Ke.isAxiosError=_k;Ke.mergeConfig=eo;Ke.AxiosHeaders=wn;Ke.formToJSON=t=>F0(Y.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=W0.getAdapter;Ke.HttpStatusCode=cm;Ke.default=Ke;var Iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,I=p&63;h||(I=64,l||(E=64)),r.push(n[g],n[_],n[E],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||_==null)throw new Ek;const E=a<<2|c>>4;if(r.push(E),p!==64){const I=c<<4&240|p>>2;if(r.push(I),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ek extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tk=function(t){const e=Q0(t);return X0.encodeByteArray(e,!0)},jd=function(t){return Tk(t).replace(/\./g,"")},Y0=function(t){try{return X0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=()=>Sk().__FIREBASE_DEFAULTS__,Ck=()=>{if(typeof process>"u"||typeof Iw>"u")return;const t=Iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ak=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y0(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return Ik()||Ck()||Ak()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J0=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rk=t=>{const e=J0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z0=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},eS=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jd(JSON.stringify(n)),jd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function bk(){var t;const e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vk(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lk(){return!bk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mk(){try{return typeof indexedDB=="object"}catch{return!1}}function jk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fk,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?Uk(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new mi(s,c,r)}}function Uk(t,e){return t.replace(Bk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Bk=/\{\$([^}]+)}/g;function zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Cw(a)&&Cw(l)){if(!Fd(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $k(t,e){const n=new qk(t,e);return n.subscribe.bind(n)}class qk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Pp),s.error===void 0&&(s.error=Pp),s.complete===void 0&&(s.complete=Pp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gk(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kk(t){return t===qs?void 0:t}function Gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const Xk={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Yk=Ne.INFO,Jk={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Zk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Jk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=Yk,this._logHandler=Zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const eb=(t,e)=>e.some(n=>t instanceof n);let Aw,Rw;function tb(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,dm=new WeakMap,nS=new WeakMap,xp=new WeakMap,gg=new WeakMap;function rb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Qi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&tS.set(n,t)}).catch(()=>{}),gg.set(e,t),e}function ib(t){if(dm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});dm.set(t,e)}let hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sb(t){hm=t(hm)}function ob(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kp(this),e,...n);return nS.set(r,e.sort?e.sort():[e]),Qi(r)}:nb().includes(t)?function(...e){return t.apply(kp(this),e),Qi(tS.get(this))}:function(...e){return Qi(t.apply(kp(this),e))}}function ab(t){return typeof t=="function"?ob(t):(t instanceof IDBTransaction&&ib(t),eb(t,tb())?new Proxy(t,hm):t)}function Qi(t){if(t instanceof IDBRequest)return rb(t);if(xp.has(t))return xp.get(t);const e=ab(t);return e!==t&&(xp.set(t,e),gg.set(e,t)),e}const kp=t=>gg.get(t);function lb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Qi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Qi(l.result),h.oldVersion,h.newVersion,Qi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const ub=["get","getKey","getAll","getAllKeys","count"],cb=["put","add","delete","clear"],bp=new Map;function Pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ub.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return bp.set(e,a),a}sb(t=>({...t,get:(e,n,r)=>Pw(e,n)||t.get(e,n,r),has:(e,n)=>!!Pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",xw="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new mg("@firebase/app"),fb="@firebase/app-compat",pb="@firebase/analytics-compat",mb="@firebase/analytics",gb="@firebase/app-check-compat",yb="@firebase/app-check",vb="@firebase/auth",_b="@firebase/auth-compat",wb="@firebase/database",Eb="@firebase/data-connect",Tb="@firebase/database-compat",Sb="@firebase/functions",Ib="@firebase/functions-compat",Cb="@firebase/installations",Ab="@firebase/installations-compat",Rb="@firebase/messaging",Pb="@firebase/messaging-compat",xb="@firebase/performance",kb="@firebase/performance-compat",bb="@firebase/remote-config",Db="@firebase/remote-config-compat",Nb="@firebase/storage",Ob="@firebase/storage-compat",Vb="@firebase/firestore",Lb="@firebase/vertexai",Mb="@firebase/firestore-compat",jb="firebase",Fb="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",Ub={[fm]:"fire-core",[fb]:"fire-core-compat",[mb]:"fire-analytics",[pb]:"fire-analytics-compat",[yb]:"fire-app-check",[gb]:"fire-app-check-compat",[vb]:"fire-auth",[_b]:"fire-auth-compat",[wb]:"fire-rtdb",[Eb]:"fire-data-connect",[Tb]:"fire-rtdb-compat",[Sb]:"fire-fn",[Ib]:"fire-fn-compat",[Cb]:"fire-iid",[Ab]:"fire-iid-compat",[Rb]:"fire-fcm",[Pb]:"fire-fcm-compat",[xb]:"fire-perf",[kb]:"fire-perf-compat",[bb]:"fire-rc",[Db]:"fire-rc-compat",[Nb]:"fire-gcs",[Ob]:"fire-gcs-compat",[Vb]:"fire-fst",[Mb]:"fire-fst-compat",[Lb]:"fire-vertex","fire-js":"fire-js",[jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,Bb=new Map,mm=new Map;function kw(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(mm.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,t);for(const n of Ud.values())kw(n,t);for(const n of Bb.values())kw(n,t);return!0}function yg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new xu("app","Firebase",zb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=Fb;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Xi.create("bad-app-name",{appName:String(s)});if(n||(n=Z0()),!n)throw Xi.create("no-options");const a=Ud.get(s);if(a){if(Fd(n,a.options)&&Fd(r,a.config))return a;throw Xi.create("duplicate-app",{appName:s})}const l=new Qk(s);for(const h of mm.values())l.addComponent(h);const c=new $b(n,r,l);return Ud.set(s,c),c}function iS(t=pm){const e=Ud.get(t);if(!e&&t===pm&&Z0())return rS();if(!e)throw Xi.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let s=(r=Ub[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(c.join(" "));return}ya(new to(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebase-heartbeat-database",Hb=1,lu="firebase-heartbeat-store";let Dp=null;function sS(){return Dp||(Dp=lb(qb,Hb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function Wb(t){try{const n=(await sS()).transaction(lu),r=await n.objectStore(lu).get(oS(t));return await n.done,r}catch(e){if(e instanceof mi)li.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function bw(t,e){try{const r=(await sS()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,oS(t)),await r.done}catch(n){if(n instanceof mi)li.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(r.message)}}}function oS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1024,Gb=30*24*60*60*1e3;class Qb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=Gb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dw(),{heartbeatsToSend:r,unsentEntries:s}=Xb(this._heartbeatsCache.heartbeats),a=jd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return li.warn(n),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function Xb(t,e=Kb){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Nw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Nw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mk()?jk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nw(t){return jd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){ya(new to("platform-logger",e=>new db(e),"PRIVATE")),ya(new to("heartbeat",e=>new Qb(e),"PRIVATE")),Yi(fm,xw,t),Yi(fm,xw,"esm2017"),Yi("fire-js","")}Jb("");function vg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zb=aS,lS=new xu("auth","Firebase",aS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new mg("@firebase/auth");function eD(t,...e){Bd.logLevel<=Ne.WARN&&Bd.warn(`Auth (${Oa}): ${t}`,...e)}function Td(t,...e){Bd.logLevel<=Ne.ERROR&&Bd.error(`Auth (${Oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw wg(t,...e)}function dr(t,...e){return wg(t,...e)}function _g(t,e,n){const r=Object.assign(Object.assign({},Zb()),{[e]:n});return new xu("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return _g(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),_g(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lS.create(t,...e)}function Ie(t,e,...n){if(!t)throw wg(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function ui(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nD(){return Ow()==="http:"||Ow()==="https:"}function Ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nD()||Nk()||"connection"in navigator)?navigator.onLine:!0}function iD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=kk()||Ok()}get(){return rD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new bu(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yi(t,e,n,r,s={}){return cS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=ku(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return Dk()||(p.referrerPolicy="no-referrer"),uS.fetch()(dS(t,t.config.apiHost,n,c),p)})}async function cS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sD),e);try{const s=new lD(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ld(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw ld(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw ld(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _g(t,g,p);qn(t,g)}}catch(s){if(s instanceof mi)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function Du(t,e,n,r,s={}){const a=await yi(t,e,n,r,s);return"mfaPendingCredential"in a&&qn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function dS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Eg(t.config,s):`${t.config.apiScheme}://${s}`}function aD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),oD.get())})}}function ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=dr(t,e,r);return s.customData._tokenResponse=n,s}function Vw(t){return t!==void 0&&t.enterprise!==void 0}class uD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cD(t,e){return yi(t,"GET","/v2/recaptchaConfig",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){return yi(t,"POST","/v1/accounts:delete",e)}async function hS(t,e){return yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hD(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),s=Tg(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Yl(Np(s.auth_time)),issuedAtTime:Yl(Np(s.iat)),expirationTime:Yl(Np(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function Tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y0(n);return s?JSON.parse(s):(Td("Failed to decode base64 JWT payload"),null)}catch(s){return Td("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Lw(t){const e=Tg(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&fD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await uu(t,hS(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?fS(a.providerUserInfo):[],c=gD(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ym(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function mD(t){const e=Ht(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fS(t){return t.map(e=>{var{providerId:n}=e,r=vg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e){const n=await cS(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=dS(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",uS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vD(t,e){return yi(t,"POST","/v2/accounts:revokeToken",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await yD(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new fa;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ie(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ym(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hD(this,e)}reload(){return mD(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await uu(this,dD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,h,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,I=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(l=n.photoURL)!==null&&l!==void 0?l:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,b=(p=n.createdAt)!==null&&p!==void 0?p:void 0,j=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:Q,isAnonymous:z,providerData:re,stsTokenManager:D}=n;Ie(L&&D,e,"internal-error");const R=fa.fromJSON(this.name,D);Ie(typeof L=="string",e,"internal-error"),$i(_,e.name),$i(E,e.name),Ie(typeof Q=="boolean",e,"internal-error"),Ie(typeof z=="boolean",e,"internal-error"),$i(I,e.name),$i(C,e.name),$i(x,e.name),$i(A,e.name),$i(b,e.name),$i(j,e.name);const k=new ni({uid:L,auth:e,email:E,emailVerified:Q,displayName:_,isAnonymous:z,photoURL:C,phoneNumber:I,tenantId:x,stsTokenManager:R,createdAt:b,lastLoginAt:j});return re&&Array.isArray(re)&&(k.providerData=re.map(M=>Object.assign({},M))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new fa;s.updateFromServerResponse(n);const a=new ni({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?fS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new fa;c.updateFromIdToken(r);const h=new ni({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ym(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;function ri(t){ui(t instanceof Function,"Expected a class definition");let e=Mw.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pS.type="NONE";const jw=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Sd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Sd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(ri(jw),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ri(jw);const l=Sd(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=ni._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new pa(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wS(e))return"Blackberry";if(ES(e))return"Webos";if(gS(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(_S(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mS(t=rn()){return/firefox\//i.test(t)}function gS(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(t=rn()){return/crios\//i.test(t)}function vS(t=rn()){return/iemobile/i.test(t)}function _S(t=rn()){return/android/i.test(t)}function wS(t=rn()){return/blackberry/i.test(t)}function ES(t=rn()){return/webos/i.test(t)}function Sg(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _D(t=rn()){var e;return Sg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wD(){return Vk()&&document.documentMode===10}function TS(t=rn()){return Sg(t)||_S(t)||ES(t)||wS(t)||/windows phone/i.test(t)||vS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e=[]){let n;switch(t){case"Browser":n=Fw(rn());break;case"Worker":n=`${Fw(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e={}){return yi(t,"GET","/v2/passwordPolicy",gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=6;class ID{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:SD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uw(this),this.idTokenSubscription=new Uw(this),this.beforeStateQueue=new ED(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hS(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(si(this));const n=e?Ht(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TD(this),n=new ID(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Ht(t)}class Uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=$k(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AD(t){yh=t}function IS(t){return yh.loadJS(t)}function RD(){return yh.recaptchaEnterpriseScript}function PD(){return yh.gapiScript}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kD{constructor(){this.enterprise=new bD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DD="recaptcha-enterprise",CS="NO_RECAPTCHA";class ND{constructor(e){this.type=DD,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{cD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new uD(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;Vw(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(CS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kD().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&Vw(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=RD();h.length!==0&&(h+=c),IS(h).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function Bw(t,e,n,r=!1,s=!1){const a=new ND(t);let l;if(s)l=CS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function vm(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Bw(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Bw(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){const n=yg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Fd(a,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function VD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LD(t,e,n){const r=hs(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=AS(e),{host:l,port:c}=MD(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),jD()}function AS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MD(t){const e=AS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:zw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:zw(l)}}}function zw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function FD(t,e){return yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e){return Du(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))}async function BD(t,e){return yi(t,"POST","/v1/accounts:sendOobCode",gi(t,e))}async function zD(t,e){return BD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}async function qD(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Ig{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,n,"signInWithPassword",UD);case"emailLink":return $D(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,r,"signUpPassword",FD);case"emailLink":return qD(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return Du(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="http://localhost";class no extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=vg(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new no(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:HD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KD(t){const e=zl($l(t)).link,n=e?zl($l(e)).deep_link_id:null,r=zl($l(t)).deep_link_id;return(r?zl($l(r)).link:null)||r||n||e||t}class Cg{constructor(e){var n,r,s,a,l,c;const h=zl($l(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=WD((s=h.mode)!==null&&s!==void 0?s:null);Ie(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=KD(e);try{return new Cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cg.parseLink(n);return Ie(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Ag{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Nu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Nu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Nu{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){return Du(t,"POST","/v1/accounts:signUp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ni._fromIdTokenResponse(e,r,s),l=$w(r);return new ro({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$w(r);return new ro({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $w(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends mi{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $d(e,n,r,s)}}function RS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,a,e,r):a})}async function QD(t,e,n=!1){const r=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(si(r));const s="reauthenticate";try{const a=await uu(t,RS(r,s,e,t),n);Ie(a.idToken,r,"internal-error");const l=Tg(a.idToken);Ie(l,r,"internal-error");const{sub:c}=l;return Ie(t.uid===c,r,"user-mismatch"),ro._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t,e,n=!1){if(ur(t.app))return Promise.reject(si(t));const r="signIn",s=await RS(t,r,e),a=await ro._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function YD(t,e){return PS(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JD(t,e,n){if(ur(t.app))return Promise.reject(si(t));const r=hs(t),l=await vm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&xS(t),h}),c=await ro._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function ZD(t,e,n){return ur(t.app)?Promise.reject(si(t)):YD(Ht(t),Va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xS(t),r})}async function eN(t,e){const n=Ht(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await zD(n.auth,s);a!==t.email&&await t.reload()}function tN(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function nN(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function kS(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function rN(t){return Ht(t).signOut()}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e3,sN=10;class DS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);wD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const oN=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NS.type="SESSION";const OS=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await aN(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=Rg("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function uN(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function cN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hN(){return VS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebaseLocalStorageDb",fN=1,Hd="firebaseLocalStorage",MS="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function pN(){const t=indexedDB.deleteDatabase(LS);return new Ou(t).toPromise()}function _m(){const t=indexedDB.open(LS,fN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hd,{keyPath:MS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await pN(),e(await _m()))})})}async function qw(t,e,n){const r=_h(t,!0).put({[MS]:e,value:n});return new Ou(r).toPromise()}async function mN(t,e){const n=_h(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function Hw(t,e){const n=_h(t,!0).delete(e);return new Ou(n).toPromise()}const gN=800,yN=3;class jS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(hN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new lN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await qw(e,qd,"1"),await Hw(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=_h(s,!1).getAll();return new Ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jS.type="LOCAL";const vN=jS;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e){return e?ri(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _N(t){return PS(t.auth,new Pg(t),t.bypassAuthState)}function wN(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),XD(n,new Pg(t),t.bypassAuthState)}async function EN(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),QD(n,new Pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _N;case"linkViaPopup":case"linkViaRedirect":return EN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:qn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new bu(2e3,1e4);async function SN(t,e,n){if(ur(t.app))return Promise.reject(dr(t,"operation-not-supported-in-this-environment"));const r=hs(t);tD(t,e,Ag);const s=FS(r,n);return new Gs(r,"signInViaPopup",e,s).executeNotNull()}class Gs extends US{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TN.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="pendingRedirect",Id=new Map;class CN extends US{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await AN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AN(t,e){const n=xN(e),r=PN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function RN(t,e){Id.set(t._key(),e)}function PN(t){return ri(t._redirectPersistence)}function xN(t){return Sd(IN,t.config.apiKey,t.name)}async function kN(t,e,n=!1){if(ur(t.app))return Promise.reject(si(t));const r=hs(t),s=FS(r,e),l=await new CN(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=10*60*1e3;class DN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ww(e))}saveEventToCache(e){this.cachedEventUids.add(Ww(e)),this.lastProcessedEventTime=Date.now()}}function Ww(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e={}){return yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function MN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ON(t);for(const n of e)try{if(jN(n))return}catch{}qn(t,"unauthorized-domain")}function jN(t){const e=gm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!LN.test(n))return!1;if(VN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new bu(3e4,6e4);function Kw(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UN(t){return new Promise((e,n)=>{var r,s,a;function l(){Kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kw(),n(dr(t,"network-request-failed"))},timeout:FN.get()})}if(!((s=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=xr().gapi)===null||a===void 0)&&a.load)l();else{const c=xD("iframefcb");return xr()[c]=()=>{gapi.load?l():n(dr(t,"network-request-failed"))},IS(`${PD()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Cd=null,e})}let Cd=null;function BN(t){return Cd=Cd||UN(t),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new bu(5e3,15e3),$N="__/auth/iframe",qN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KN(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Eg(e,qN):`https://${t.config.authDomain}/${$N}`,r={apiKey:e.apiKey,appName:t.name,v:Oa},s=WN.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ku(r).slice(1)}`}async function GN(t){const e=await BN(t),n=xr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:KN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=dr(t,"network-request-failed"),c=xr().setTimeout(()=>{a(l)},zN.get());function h(){xr().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XN=500,YN=600,JN="_blank",ZN="http://localhost";class Gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eO(t,e,n,r=XN,s=YN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},QN),{width:r.toString(),height:s.toString(),top:a,left:l}),p=rn().toLowerCase();n&&(c=yS(p)?JN:n),mS(p)&&(e=e||ZN,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[I,C])=>`${E}${I}=${C},`,"");if(_D(p)&&c!=="_self")return tO(e||"",c),new Gw(null);const _=window.open(e||"",c,g);Ie(_,t,"popup-blocked");try{_.focus()}catch{}return new Gw(_)}function tO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="__/auth/handler",rO="emulator/auth/handler",iO=encodeURIComponent("fac");async function Qw(t,e,n,r,s,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oa,eventId:s};if(e instanceof Ag){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",zk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Nu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),p=h?`#${iO}=${encodeURIComponent(h)}`:"";return`${sO(t)}?${ku(c).slice(1)}${p}`}function sO({config:t}){return t.emulator?Eg(t,rO):`https://${t.authDomain}/${nO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class oO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OS,this._completeRedirectFn=kN,this._overrideRedirectResult=RN}async _openPopup(e,n,r,s){var a;ui((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Qw(e,n,r,gm(),s);return eO(e,l,Rg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Qw(e,n,r,gm(),s);return uN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ui(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GN(e),r=new DN(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Op];l!==void 0&&n(!!l),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TS()||gS()||Sg()}}const aO=oO;var Xw="@firebase/auth",Yw="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cO(t){ya(new to("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(t)},p=new CD(r,s,a,h);return VD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new to("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new lO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Xw,Yw,uO(t)),Yi(Xw,Yw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=5*60,hO=eS("authIdTokenMaxAge")||dO;let Jw=null;const fO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hO)return;const s=n==null?void 0:n.token;Jw!==s&&(Jw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wh(t=iS()){const e=yg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OD(t,{popupRedirectResolver:aO,persistence:[vN,oN,OS]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=fO(a.toString());nN(n,l,()=>l(n.currentUser)),tN(n,c=>l(c))}}const s=J0("auth");return s&&LD(n,`http://${s}`),n}function pO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=dr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",pO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cO("Browser");const zS=O.createContext(),mO=({children:t})=>{const[e,n]=O.useState(localStorage.getItem("SpCode")||""),[r,s]=O.useState(null),[a,l]=O.useState(""),c=wh();return O.useEffect(()=>{e&&localStorage.setItem("SpCode",e)},[e]),O.useEffect(()=>{const h=kS(c,p=>{s(p),l(p?p.displayName||"":"Anonymous")});return()=>h()},[]),S.jsx(zS.Provider,{value:{SpCode:e,setSpCode:n,user:r,userName:a,signOut:rN},children:t})},rs=()=>O.useContext(zS),gO="/azign-frontend/assets/logo-D2gj2yDT.jpg";function yO(){const t=Wn(),{user:e}=rs(),n=async()=>{const r=wh();try{await r.signOut(),localStorage.removeItem("user"),localStorage.removeItem("SpCode"),t("/login")}catch(s){console.error("Error logging out",s)}};return S.jsxs("div",{className:"header",children:[S.jsxs("div",{className:"logo",children:[S.jsx("img",{src:gO,className:"logoimg",alt:"Azign Logo"}),S.jsx("h1",{className:"logotxt",children:"Azign"})]}),S.jsx("div",{className:"auth-buttons",children:e?S.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"}):S.jsx(Mt,{to:"/login",children:S.jsx("button",{className:"login-btn",children:"Login"})})})]})}var Vp={exports:{}},Lp,Zw;function vO(){if(Zw)return Lp;Zw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Lp=t,Lp}var Mp,eE;function _O(){if(eE)return Mp;eE=1;var t=vO();function e(){}function n(){}return n.resetWarningCache=e,Mp=function(){function r(l,c,h,p,g,_){if(_!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Mp}var tE;function wO(){return tE||(tE=1,Vp.exports=_O()()),Vp.exports}var EO=wO();const he=d0(EO);function $S({projects:t=[],toggleShowAll:e,showAll:n}){const r=O.useMemo(()=>t.filter(a=>a.SpCode&&a.projectCode),[t]),s=a=>({"Not Started":"status-not-started","In Progress":"status-in-progress",Completed:"status-completed","On Hold":"status-on-hold",Cancelled:"status-cancelled",Active:"status-active",Inactive:"status-inactive"})[a]||"status-unknown";return S.jsxs("div",{className:"container",children:[S.jsx("h1",{children:"Your Projects"}),r.length>0?S.jsx("div",{children:r.map(a=>S.jsx(Mt,{to:`/space/${a.SpCode}/projects/${a.projectCode}`,children:S.jsxs("li",{children:[S.jsx("h2",{children:a.name}),S.jsx("p",{children:a.teamLead}),S.jsx("p",{className:s(a.status),children:a.status})]})},a._id))}):S.jsx("p",{children:"No projects available."}),S.jsx("button",{className:"view-all-btn",onClick:e,children:n?"Show Less ":"View all "})]})}$S.propTypes={projects:he.arrayOf(he.shape({_id:he.string.isRequired,projectCode:he.string.isRequired,name:he.string.isRequired,teamLead:he.string.isRequired,status:he.string.isRequired,SpCode:he.string.isRequired})),toggleShowAll:he.func.isRequired,showAll:he.bool.isRequired};function qS({tasks:t=[],toggleShowAll:e,showAll:n}){const r=O.useMemo(()=>t.filter(a=>a.SpCode&&a.taskId),[t]),s=a=>({"In Progress":"status-in-progress",Completed:"status-completed","To Do":"status-to-do",Pending:"status-pending"})[a]||"status-inactive";return S.jsxs("div",{className:"container",children:[S.jsx("h1",{children:"Your Tasks"}),r.length>0?S.jsx("div",{children:r.map(a=>S.jsx(Mt,{to:`/space/${a.SpCode}/tasks/${a.taskId}`,children:S.jsxs("li",{children:[S.jsx("h2",{children:a.taskId}),S.jsx("p",{className:s(a.status),children:a.status}),S.jsxs("p",{className:"deadline",children:[S.jsx("strong",{children:"Deadline:"})," ",a.deadline?new Date(a.deadline).toLocaleDateString():"No deadline"]})]})},a._id))}):S.jsx("p",{children:"No tasks available."}),S.jsx("button",{className:"view-all-btn",onClick:e,children:n?"Show Less ":"View all "})]})}qS.propTypes={tasks:he.arrayOf(he.shape({_id:he.string.isRequired,taskId:he.string.isRequired,status:he.string.isRequired,deadline:he.string,SpCode:he.string.isRequired})),toggleShowAll:he.func.isRequired,showAll:he.bool.isRequired};function HS({projects:t}){const{projectCode:e,SpCode:n}=pi();rs();const r=t.find(s=>s.projectCode===e);return r?S.jsxs("div",{className:"container",children:[S.jsx("h2",{children:r.name}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",r.description]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Lead:"})," ",r.teamLead]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Members:"})," ",r.members.join(", ")]}),S.jsx(Mt,{to:`/space/${n}/projects/${e}/update`,style:{textDecoration:"none"},children:S.jsx("button",{className:"update-project-btn",children:"Update Project"})}),S.jsxs("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h3",{children:"Comments"}),S.jsx(Mt,{to:`/space/${n}/projects/${e}/comments`,style:{textDecoration:"none"},children:S.jsx("button",{className:"comment-btn",children:"Create Comment"})})]}),S.jsx("div",{children:r.comments.map(s=>S.jsxs("li",{children:[S.jsx("p",{children:s.comment}),S.jsxs("p",{children:[S.jsx("small",{children:new Date(s.date).toLocaleDateString()}),S.jsx("small",{children:S.jsxs("strong",{children:[" ",new Date(s.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})})]})]},s._id))})]}):S.jsx("div",{children:"Project not found!"})}HS.propTypes={projects:he.arrayOf(he.shape({projectCode:he.string.isRequired,name:he.string.isRequired,description:he.string.isRequired,teamLead:he.string.isRequired,members:he.arrayOf(he.string).isRequired,comments:he.arrayOf(he.shape({_id:he.string.isRequired,comment:he.string.isRequired,date:he.string.isRequired})).isRequired})).isRequired};function WS({tasks:t}){const{taskId:e,SpCode:n}=pi(),r=t.find(s=>s.taskId===e);return r?S.jsxs("div",{className:"container",children:[S.jsx("h2",{children:r.title}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",r.description]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Assigned To:"})," ",r.assignedTo]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Assigned By:"})," ",r.assignedBy]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Status:"})," ",r.status]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Deadline:"})," ",new Date(r.deadline).toLocaleDateString([],{year:"2-digit",month:"2-digit",day:"2-digit"})]}),S.jsx(Mt,{to:`/space/${n}/tasks/${e}/update`,style:{textDecoration:"none"},children:S.jsx("button",{className:"update-task-btn",children:"Update Task"})}),S.jsxs("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h3",{children:"Comments"}),S.jsx(Mt,{to:`/space/${n}/tasks/${e}/comments`,style:{textDecoration:"none"},children:S.jsx("button",{className:"comment-btn",children:"Create Comment"})})]}),S.jsx("div",{children:r.comments&&r.comments.length>0?r.comments.map(s=>S.jsxs("li",{children:[S.jsxs("p",{children:[S.jsx("strong",{children:s.author}),S.jsx("br",{})," "]}),S.jsx("p",{children:S.jsxs("small",{children:[new Date(r.deadline).toLocaleDateString([],{year:"2-digit",month:"2-digit",day:"2-digit"}),"  ",S.jsx("strong",{children:new Date(s.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),S.jsx("p",{children:s.text})]},s.commentId)):S.jsx("p",{children:"No comments available."})})]}):S.jsx("div",{children:"Task not found!"})}WS.propTypes={tasks:he.arrayOf(he.shape({taskId:he.string.isRequired,title:he.string.isRequired,description:he.string.isRequired,assignedTo:he.string.isRequired,assignedBy:he.string.isRequired,status:he.string.isRequired,deadline:he.string.isRequired})).isRequired};function KS({projects:t=[],SpCode:e}){return S.jsxs("div",{className:"container",children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",borderRadius:"9px"},children:[S.jsx("h1",{children:"All Projects"}),S.jsx(Mt,{to:`/space/${e}/projects/create`,style:{textDecoration:"none"},children:S.jsx("button",{className:"create-project-btn",children:"Create"})})]}),t.length>0?S.jsx("div",{className:"projects-list",children:t.map(n=>S.jsxs("li",{className:"project-item",children:[S.jsx(Mt,{to:`/space/${n.SpCode}/projects/${n.projectCode}`,className:"project-link",children:S.jsx("h2",{children:n.projectCode})}),S.jsx("p",{className:"project-name",children:n.name}),S.jsx("p",{className:"project-description",children:n.description}),S.jsxs("p",{className:"project-team-lead",children:[S.jsx("strong",{children:"Team Lead:"})," ",n.teamLead]}),S.jsxs("p",{className:"project-members",children:[S.jsx("strong",{children:"Members:"})," ",n.members?n.members.map(r=>r).join(", "):"None"]})]},n._id))}):S.jsx("p",{className:"no-projects",children:"No projects available."})]})}KS.propTypes={projects:he.arrayOf(he.shape({_id:he.string.isRequired,projectCode:he.string.isRequired,name:he.string.isRequired,description:he.string.isRequired,teamLead:he.string.isRequired,members:he.arrayOf(he.string).isRequired})).isRequired};function GS({tasks:t=[],SpCode:e}){const n=r=>{switch(r){case"In Progress":return"status-in-progress";case"Completed":return"status-completed";case"To Do":return"status-to-do";case"Pending":return"status-pending";default:return"status-inactive"}};return S.jsxs("div",{className:"container",children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",borderRadius:"9px"},children:[S.jsx("h1",{children:"All tasks"}),S.jsx(Mt,{to:`/space/${e}/tasks/create`,style:{textDecoration:"none"},children:S.jsx("button",{className:"create-task-btn",children:"Create Task"})})]}),t.length>0?S.jsx("div",{className:"tasks-list",children:t.map(r=>S.jsxs("li",{className:"tasks-item",children:[S.jsx(Mt,{to:`/space/${r.SpCode}/tasks/${r.taskId}`,className:"tasks-link",children:S.jsx("h2",{children:r.title})}),S.jsx("p",{className:"tasks-name",children:r.taskId}),S.jsx("p",{className:"tasks-description",children:r.description}),S.jsxs("p",{className:"tasks-team-lead",children:[S.jsx("strong",{children:"Assigned To:"})," ",r.assignedTo]}),S.jsx("p",{className:n(r.status),children:r.status}),S.jsxs("p",{className:"tasks-priority",children:[S.jsx("strong",{children:"Priority:"})," ",r.priority]}),S.jsxs("p",{className:"tasks-deadline",children:[S.jsx("strong",{children:"Deadline:"})," ",new Date(r.deadline).toLocaleDateString()]})]},r._id))}):S.jsx("p",{className:"no-tasks",children:"No tasks available."})]})}GS.propTypes={tasks:he.arrayOf(he.shape({_id:he.string.isRequired,taskId:he.string.isRequired,title:he.string.isRequired,description:he.string.isRequired,assignedTo:he.string.isRequired,status:he.string.isRequired,priority:he.string.isRequired,deadline:he.string.isRequired})).isRequired,SpCode:he.string.isRequired};var QS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nE=ze.createContext&&ze.createContext(QS),TO=["attr","size","title"];function SO(t,e){if(t==null)return{};var n=IO(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IO(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){CO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CO(t,e,n){return e=AO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AO(t){var e=RO(t,"string");return typeof e=="symbol"?e:e+""}function RO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XS(t){return t&&t.map((e,n)=>ze.createElement(e.tag,Kd({key:n},e.attr),XS(e.child)))}function xg(t){return e=>ze.createElement(PO,Wd({attr:Kd({},t.attr)},e),XS(t.child))}function PO(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=SO(t,TO),c=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),ze.createElement("svg",Wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:Kd(Kd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ze.createElement("title",null,a),t.children)};return nE!==void 0?ze.createElement(nE.Consumer,null,n=>e(n)):e(QS)}function iE(t){return xg({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function xO(t){return xg({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function kO(t){return xg({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function YS({setIsAuthenticated:t}){const[e,n]=O.useState(""),[r,s]=O.useState(""),[a,l]=O.useState(!1),[c,h]=O.useState(!1),[p,g]=O.useState(""),{user:_}=rs(),{spCode:E}=rs(),I=Wn(),C=wh();O.useEffect(()=>{_&&I(E?`/space/${E}`:"/enter-code")},[_,E,I]),O.useEffect(()=>{kS(C,z=>{t(!!z)})},[C,t]);const x=z=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(z),A=z=>/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(z),b=async()=>{try{if(!(await ZD(C,e,r)).user.emailVerified){g("Please verify your email before logging in.");return}t(!0),I("/enter-code")}catch(z){Q(z)}},j=async()=>{try{const z=new ei;await SN(C,z),t(!0),I("/enter-code")}catch(z){g("Google login failed. Please try again."),console.error("Google login failed:",z)}},L=async()=>{if(!x(e)){g("Please enter a valid email.");return}if(!A(r)){g("Password must be at least 8 characters long, contain one uppercase letter, one number, and one special character.");return}try{const z=await JD(C,e,r);await eN(z.user),g("Registration successful. Verify your email before logging in."),l(!1)}catch(z){Q(z)}},Q=z=>{switch(z.code){case"auth/email-already-in-use":g("Email already in use. Try logging in.");break;case"auth/wrong-password":g("Incorrect password.");break;case"auth/network-request-failed":g("Network error. Check your connection.");break;default:g("An error occurred. Try again.")}};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:`auth-container ${c?"dark":""}`,children:[S.jsx("button",{className:"theme-toggle",onClick:()=>h(!c),children:c?S.jsx(kO,{}):S.jsx(xO,{})}),a?S.jsxs("div",{className:"auth-box",children:[S.jsx("h2",{children:"Register"}),S.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:z=>n(z.target.value)}),S.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:z=>s(z.target.value)}),p&&S.jsx("p",{className:"error-message",style:{color:"red"},children:p}),S.jsx("button",{onClick:L,children:"Register"}),S.jsxs("button",{className:"google-btn",style:{marginRight:"0.5rem"},onClick:j,children:[S.jsx(iE,{})," Register with Google"]}),S.jsxs("p",{children:["Already have an account? ",S.jsx("button",{onClick:()=>l(!1),children:"Login"})]})]}):S.jsxs("div",{className:"auth-box",children:[S.jsx("h2",{children:"Login"}),S.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:z=>n(z.target.value)}),S.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:z=>s(z.target.value)}),p&&S.jsx("p",{className:"error-message",style:{color:"red"},children:p}),S.jsx("button",{onClick:b,children:"Login"}),S.jsxs("button",{className:"google-btn",style:{marginRight:"0.5rem"},onClick:j,children:[S.jsx(iE,{})," Login with Google"]}),S.jsxs("p",{children:["Don't have an account? ",S.jsx("button",{onClick:()=>l(!0),children:"Register"})]})]})]})})}YS.propTypes={setIsAuthenticated:he.func.isRequired};const bO="/azign-frontend/assets/stars-1uMCF9Ub.png",DO="/azign-frontend/assets/duplicate-CKNgUCO2.png",NO=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,a]=O.useState(""),l=Wn(),{setSpCode:c}=rs();O.useEffect(()=>{const _=localStorage.getItem("SpCode");_&&l(`/space/${_}`)},[l]);const h=()=>{t.trim()&&t!==localStorage.getItem("SpCode")&&(c(t),localStorage.setItem("SpCode",t),l(`/space/${t}`))},p=async()=>{try{const _=await fetch("http://localhost:8000/api/space/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({SpCode:n,name:s})}),E=await _.json();_.ok?(c(E.SpCode),localStorage.setItem("SpCode",E.SpCode),alert(`Space created successfully: ${E.SpCode}. Please copy the code.`),navigator.clipboard.writeText(E.SpCode),l(`/space/${E.SpCode}`)):(console.error("Error creating space:",E.error),alert("Error creating space, please try again."))}catch(_){alert("Error creating space, please try again."),console.error("Error creating space:",_)}},g=()=>{const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",E=s.length>13?5:18-s.length;let I=s.replace(/\s+/g,"_");for(let C=0;C<E;C++)I+=_.charAt(Math.floor(Math.random()*_.length));r(I)};return S.jsx("div",{className:"enter-code-container",children:S.jsxs("div",{className:"enter-box",children:[S.jsx("h2",{children:"Enter Space Code"}),S.jsx("input",{type:"text",placeholder:"Enter your space code",value:t,onChange:_=>e(_.target.value)}),S.jsx("button",{className:"btn-primary",onClick:h,children:"Enter"}),S.jsx("h3",{children:"Create a New Space"}),S.jsx("input",{type:"text",placeholder:"New Space Name",value:s,onChange:_=>a(_.target.value)}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("input",{type:"text",placeholder:"New Space Code",value:n,readOnly:!0}),S.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n),alert("Code copied to clipboard!")},style:{background:"none",border:"none",cursor:"pointer"},children:S.jsx("img",{src:DO,height:30,width:30,alt:"Copy Icon"})})]}),S.jsxs("button",{className:"btn-secondary",onClick:g,style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[S.jsx("span",{children:"Generate Code"}),S.jsx("img",{src:bO,height:20,width:20,alt:"Generate Icon"})]}),S.jsx("button",{className:"btn-primary",onClick:p,children:"Create Space"})]})})};var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,JS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function k(){}k.prototype=R.prototype,D.D=R.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(M,U,$){for(var V=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)V[Xe-2]=arguments[Xe];return R.prototype[U].apply(M,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,R,k){k||(k=0);var M=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)M[U]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(U=0;16>U;++U)M[U]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=D.g[0],k=D.g[1],U=D.g[2];var $=D.g[3],V=R+($^k&(U^$))+M[0]+3614090360&4294967295;R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+M[1]+3905402710&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+M[2]+606105819&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+M[3]+3250441966&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+($^k&(U^$))+M[4]+4118548399&4294967295,R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+M[5]+1200080426&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+M[6]+2821735955&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+M[7]+4249261313&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+($^k&(U^$))+M[8]+1770035416&4294967295,R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+M[9]+2336552879&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+M[10]+4294925233&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+M[11]+2304563134&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+($^k&(U^$))+M[12]+1804603682&4294967295,R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+M[13]+4254626195&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+M[14]+2792965006&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+M[15]+1236535329&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+(U^$&(k^U))+M[1]+4129170786&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+M[6]+3225465664&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+M[11]+643717713&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+M[0]+3921069994&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(U^$&(k^U))+M[5]+3593408605&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+M[10]+38016083&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+M[15]+3634488961&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+M[4]+3889429448&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(U^$&(k^U))+M[9]+568446438&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+M[14]+3275163606&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+M[3]+4107603335&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+M[8]+1163531501&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(U^$&(k^U))+M[13]+2850285829&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+M[2]+4243563512&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+M[7]+1735328473&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+M[12]+2368359562&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(k^U^$)+M[5]+4294588738&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+M[8]+2272392833&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+M[11]+1839030562&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+M[14]+4259657740&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(k^U^$)+M[1]+2763975236&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+M[4]+1272893353&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+M[7]+4139469664&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+M[10]+3200236656&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(k^U^$)+M[13]+681279174&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+M[0]+3936430074&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+M[3]+3572445317&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+M[6]+76029189&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(k^U^$)+M[9]+3654602809&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+M[12]+3873151461&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+M[15]+530742520&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+M[2]+3299628645&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(U^(k|~$))+M[0]+4096336452&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+M[7]+1126891415&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+M[14]+2878612391&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+M[5]+4237533241&4294967295,k=U+(V<<21&4294967295|V>>>11),V=R+(U^(k|~$))+M[12]+1700485571&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+M[3]+2399980690&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+M[10]+4293915773&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+M[1]+2240044497&4294967295,k=U+(V<<21&4294967295|V>>>11),V=R+(U^(k|~$))+M[8]+1873313359&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+M[15]+4264355552&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+M[6]+2734768916&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+M[13]+1309151649&4294967295,k=U+(V<<21&4294967295|V>>>11),V=R+(U^(k|~$))+M[4]+4149444226&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+M[11]+3174756917&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+M[2]+718787259&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var k=R-this.blockSize,M=this.B,U=this.h,$=0;$<R;){if(U==0)for(;$<=k;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<R;)if(M[U++]=D.charCodeAt($++),U==this.blockSize){s(this,M),U=0;break}}else for(;$<R;)if(M[U++]=D[$++],U==this.blockSize){s(this,M),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var k=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=k&255,k/=256;for(this.u(D),D=Array(16),R=k=0;4>R;++R)for(var M=0;32>M;M+=8)D[k++]=this.g[R]>>>M&255;return D};function a(D,R){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=R(D)}function l(D,R){this.h=R;for(var k=[],M=!0,U=D.length-1;0<=U;U--){var $=D[U]|0;M&&$==R||(k[U]=$,M=!1)}this.g=k}var c={};function h(D){return-128<=D&&128>D?a(D,function(R){return new l([R|0],0>R?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return A(p(-D));for(var R=[],k=1,M=0;D>=k;M++)R[M]=D/k|0,k*=4294967296;return new l(R,0)}function g(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return A(g(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(R,8)),M=_,U=0;U<D.length;U+=8){var $=Math.min(8,D.length-U),V=parseInt(D.substring(U,U+$),R);8>$?($=p(Math.pow(R,$)),M=M.j($).add(p(V))):(M=M.j(k),M=M.add(p(V)))}return M}var _=h(0),E=h(1),I=h(16777216);t=l.prototype,t.m=function(){if(x(this))return-A(this).m();for(var D=0,R=1,k=0;k<this.g.length;k++){var M=this.i(k);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(x(this))return"-"+A(this).toString(D);for(var R=p(Math.pow(D,6)),k=this,M="";;){var U=Q(k,R).g;k=b(k,U.j(R));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=U,C(k))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=b(this,D),x(D)?-1:C(D)?0:1};function A(D){for(var R=D.g.length,k=[],M=0;M<R;M++)k[M]=~D.g[M];return new l(k,~D.h).add(E)}t.abs=function(){return x(this)?A(this):this},t.add=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0,U=0;U<=R;U++){var $=M+(this.i(U)&65535)+(D.i(U)&65535),V=($>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);M=V>>>16,$&=65535,V&=65535,k[U]=V<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function b(D,R){return D.add(A(R))}t.j=function(D){if(C(this)||C(D))return _;if(x(this))return x(D)?A(this).j(A(D)):A(A(this).j(D));if(x(D))return A(this.j(A(D)));if(0>this.l(I)&&0>D.l(I))return p(this.m()*D.m());for(var R=this.g.length+D.g.length,k=[],M=0;M<2*R;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<D.g.length;U++){var $=this.i(M)>>>16,V=this.i(M)&65535,Xe=D.i(U)>>>16,yt=D.i(U)&65535;k[2*M+2*U]+=V*yt,j(k,2*M+2*U),k[2*M+2*U+1]+=$*yt,j(k,2*M+2*U+1),k[2*M+2*U+1]+=V*Xe,j(k,2*M+2*U+1),k[2*M+2*U+2]+=$*Xe,j(k,2*M+2*U+2)}for(M=0;M<R;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=R;M<2*R;M++)k[M]=0;return new l(k,0)};function j(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function L(D,R){this.g=D,this.h=R}function Q(D,R){if(C(R))throw Error("division by zero");if(C(D))return new L(_,_);if(x(D))return R=Q(A(D),R),new L(A(R.g),A(R.h));if(x(R))return R=Q(D,A(R)),new L(A(R.g),R.h);if(30<D.g.length){if(x(D)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var k=E,M=R;0>=M.l(D);)k=z(k),M=z(M);var U=re(k,1),$=re(M,1);for(M=re(M,2),k=re(k,2);!C(M);){var V=$.add(M);0>=V.l(D)&&(U=U.add(k),$=V),M=re(M,1),k=re(k,1)}return R=b(D,U.j(R)),new L(U,R)}for(U=_;0<=D.l(R);){for(k=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=p(k),V=$.j(R);x(V)||0<V.l(D);)k-=M,$=p(k),V=$.j(R);C($)&&($=E),U=U.add($),D=b(D,V)}return new L(U,D)}t.A=function(D){return Q(this,D).h},t.and=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0;M<R;M++)k[M]=this.i(M)&D.i(M);return new l(k,this.h&D.h)},t.or=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0;M<R;M++)k[M]=this.i(M)|D.i(M);return new l(k,this.h|D.h)},t.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0;M<R;M++)k[M]=this.i(M)^D.i(M);return new l(k,this.h^D.h)};function z(D){for(var R=D.g.length+1,k=[],M=0;M<R;M++)k[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(k,D.h)}function re(D,R){var k=R>>5;R%=32;for(var M=D.g.length-k,U=[],$=0;$<M;$++)U[$]=0<R?D.i($+k)>>>R|D.i($+k+1)<<32-R:D.i($+k);return new l(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ji=l}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZS,ql,eI,Ad,wm,tI,nI,rI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(d,y){if(y)e:{var w=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var H=d[P];if(!(H in w))break e;w=w[H]}d=d[d.length-1],P=w[d],y=y(P),y!=P&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var w=0,P=!1,H={next:function(){if(!P&&w<d.length){var X=w++;return{value:y(X,d[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(d){return d||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,w){return d.call.apply(d.bind,arguments)}function _(d,y,w){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,P),d.apply(y,H)}}return function(){return d.apply(y,arguments)}}function E(d,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function I(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function C(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(P,H,X){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return y.prototype[H].apply(P,ae)}}function x(d){const y=d.length;if(0<y){const w=Array(y);for(let P=0;P<y;P++)w[P]=d[P];return w}return[]}function A(d,y){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(h(P)){const H=d.length||0,X=P.length||0;d.length=H+X;for(let ae=0;ae<X;ae++)d[H+ae]=P[ae]}else d.push(P)}}class b{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var z=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function re(d,y,w){for(const P in d)y.call(w,d[P],P,d)}function D(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function R(d){const y={};for(const w in d)y[w]=d[w];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,y){let w,P;for(let H=1;H<arguments.length;H++){P=arguments[H];for(w in P)d[w]=P[w];for(let X=0;X<k.length;X++)w=k[X],Object.prototype.hasOwnProperty.call(P,w)&&(d[w]=P[w])}}function U(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function $(d){c.setTimeout(()=>{throw d},0)}function V(){var d=ye;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Xe{constructor(){this.h=this.g=null}add(y,w){const P=yt.get();P.set(y,w),this.h?this.h.next=P:this.g=P,this.h=P}}var yt=new b(()=>new vt,d=>d.reset());class vt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,se=!1,ye=new Xe,le=()=>{const d=c.Promise.resolve(void 0);Se=()=>{d.then(q)}};var q=()=>{for(var d;d=V();){try{d.h.call(d.g)}catch(w){$(w)}var y=yt;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}se=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return d}();function be(d,y){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(z){e:{try{Q(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&be.aa.h.call(this)}}C(be,ve);var Me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ye(d,y,w,P,H){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!P,this.ha=H,this.key=++qe,this.da=this.fa=!1}function kt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Lr(d){this.src=d,this.g={},this.h=0}Lr.prototype.add=function(d,y,w,P,H){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ae=vi(d,y,P,H);return-1<ae?(y=d[ae],w||(y.fa=!1)):(y=new Ye(y,this.src,X,!!P,H),y.fa=w,d.push(y)),y};function ho(d,y){var w=y.type;if(w in d.g){var P=d.g[w],H=Array.prototype.indexOf.call(P,y,void 0),X;(X=0<=H)&&Array.prototype.splice.call(P,H,1),X&&(kt(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function vi(d,y,w,P){for(var H=0;H<d.length;++H){var X=d[H];if(!X.da&&X.listener==y&&X.capture==!!w&&X.ha==P)return H}return-1}var ms="closure_lm_"+(1e6*Math.random()|0),fo={};function $a(d,y,w,P,H){if(Array.isArray(y)){for(var X=0;X<y.length;X++)$a(d,y[X],w,P,H);return null}return w=Wa(w),d&&d[$e]?d.K(y,w,p(P)?!!P.capture:!1,H):qa(d,y,w,!1,P,H)}function qa(d,y,w,P,H,X){if(!y)throw Error("Invalid event type");var ae=p(H)?!!H.capture:!!H,Ge=mo(d);if(Ge||(d[ms]=Ge=new Lr(d)),w=Ge.add(y,w,P,ae,X),w.proxy)return w;if(P=Hu(),w.proxy=P,P.src=d,P.listener=w,d.addEventListener)ke||(H=ae),H===void 0&&(H=!1),d.addEventListener(y.toString(),P,H);else if(d.attachEvent)d.attachEvent(jr(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Hu(){function d(w){return y.call(d.src,d.listener,w)}const y=Ha;return d}function po(d,y,w,P,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)po(d,y[X],w,P,H);else P=p(P)?!!P.capture:!!P,w=Wa(w),d&&d[$e]?(d=d.i,y=String(y).toString(),y in d.g&&(X=d.g[y],w=vi(X,w,P,H),-1<w&&(kt(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete d.g[y],d.h--)))):d&&(d=mo(d))&&(y=d.g[y.toString()],d=-1,y&&(d=vi(y,w,P,H)),(w=-1<d?y[d]:null)&&Mr(w))}function Mr(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[$e])ho(y.i,d);else{var w=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(w,P,d.capture):y.detachEvent?y.detachEvent(jr(w),P):y.addListener&&y.removeListener&&y.removeListener(P),(w=mo(y))?(ho(w,d),w.h==0&&(w.src=null,y[ms]=null)):kt(d)}}}function jr(d){return d in fo?fo[d]:fo[d]="on"+d}function Ha(d,y){if(d.da)d=!0;else{y=new be(y,this);var w=d.listener,P=d.ha||d.src;d.fa&&Mr(d),d=w.call(P,y)}return d}function mo(d){return d=d[ms],d instanceof Lr?d:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wa(d){return typeof d=="function"?d:(d[go]||(d[go]=function(y){return d.handleEvent(y)}),d[go])}function St(){Z.call(this),this.i=new Lr(this),this.M=this,this.F=null}C(St,Z),St.prototype[$e]=!0,St.prototype.removeEventListener=function(d,y,w,P){po(this,d,y,w,P)};function It(d,y){var w,P=d.F;if(P)for(w=[];P;P=P.F)w.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new ve(y,d);else if(y instanceof ve)y.target=y.target||d;else{var H=y;y=new ve(P,d),M(y,H)}if(H=!0,w)for(var X=w.length-1;0<=X;X--){var ae=y.g=w[X];H=Fr(ae,P,!0,y)&&H}if(ae=y.g=d,H=Fr(ae,P,!0,y)&&H,H=Fr(ae,P,!1,y)&&H,w)for(X=0;X<w.length;X++)ae=y.g=w[X],H=Fr(ae,P,!1,y)&&H}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],P=0;P<w.length;P++)kt(w[P]);delete d.g[y],d.h--}}this.F=null},St.prototype.K=function(d,y,w,P){return this.i.add(String(d),y,!1,w,P)},St.prototype.L=function(d,y,w,P){return this.i.add(String(d),y,!0,w,P)};function Fr(d,y,w,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,X=0;X<y.length;++X){var ae=y[X];if(ae&&!ae.da&&ae.capture==w){var Ge=ae.listener,Ct=ae.ha||ae.src;ae.fa&&ho(d.i,ae),H=Ge.call(Ct,P)!==!1&&H}}return H&&!P.defaultPrevented}function Ka(d,y,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function _i(d){d.g=Ka(()=>{d.g=null,d.i&&(d.i=!1,_i(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class gs extends Z{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(d){Z.call(this),this.h=d,this.g={}}C(ys,Z);var Ga=[];function Qa(d){re(d.g,function(y,w){this.g.hasOwnProperty(w)&&Mr(y)},d),d.g={}}ys.prototype.N=function(){ys.aa.N.call(this),Qa(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xa=c.JSON.stringify,Ya=c.JSON.parse,Ja=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function vs(){}vs.prototype.h=null;function yo(d){return d.h||(d.h=d.i())}function vo(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ve.call(this,"d")}C(gr,ve);function _o(){ve.call(this,"c")}C(_o,ve);var yr={},Za=null;function _s(){return Za=Za||new St}yr.La="serverreachability";function el(d){ve.call(this,yr.La,d)}C(el,ve);function Ur(d){const y=_s();It(y,new el(y))}yr.STAT_EVENT="statevent";function tl(d,y){ve.call(this,yr.STAT_EVENT,d),this.stat=y}C(tl,ve);function ft(d){const y=_s();It(y,new tl(y,d))}yr.Ma="timingevent";function wo(d,y){ve.call(this,yr.Ma,d),this.size=y}C(wo,ve);function Kn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Es(d,y,w,P,H,X){d.info(function(){if(d.g)if(X)for(var ae="",Ge=X.split("&"),Ct=0;Ct<Ge.length;Ct++){var je=Ge[Ct].split("=");if(1<je.length){var bt=je[0];je=je[1];var _t=bt.split("_");ae=2<=_t.length&&_t[1]=="type"?ae+(bt+"="+je+"&"):ae+(bt+"=redacted&")}}else ae=null;else ae=X;return"XMLHTTP REQ ("+P+") [attempt "+H+"]: "+y+`
`+w+`
`+ae})}function Eo(d,y,w,P,H,X,ae){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+H+"]: "+y+`
`+w+`
`+X+" "+ae})}function Gn(d,y,w,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+qh(d,w)+(P?" "+P:"")})}function nl(d,y){d.info(function(){return"TIMEOUT: "+y})}ws.prototype.info=function(){};function qh(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var P=w[d];if(!(2>P.length)){var H=P[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return Xa(w)}catch{return y}}var To={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Ts(){}C(Ts,vs),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},Qn=new Ts;function Xn(d,y,w,P){this.j=d,this.i=y,this.l=w,this.R=P||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ku}function Ku(){this.i=null,this.g="",this.h=!1}var rl={},So={};function Io(d,y,w){d.L=1,d.v=Ii(Tn(y)),d.m=w,d.P=!0,il(d,null)}function il(d,y){d.F=Date.now(),Je(d),d.A=Tn(d.v);var w=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Ai(w.i,"t",P),d.C=0,w=d.j.J,d.h=new Ku,d.g=dc(d.j,w?y:null,!d.m),0<d.O&&(d.M=new gs(E(d.Y,d,d.g),d.O)),y=d.U,w=d.g,P=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ga[0]=H.toString()),H=Ga);for(var X=0;X<H.length;X++){var ae=$a(w,H[X],P||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ur(),Es(d.i,d.u,d.A,d.l,d.R,d.m)}Xn.prototype.ca=function(d){d=d.target;const y=this.M;y&&hn(d)==3?y.j():this.Y(d)},Xn.prototype.Y=function(d){try{if(d==this.g)e:{const _t=hn(this.g);var y=this.g.Ba();const On=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||cl(this.g)))){this.J||_t!=4||y==7||(y==8||0>=On?Ur(3):Ur(2)),Ss(this);var w=this.g.Z();this.X=w;t:if(Gu(this)){var P=cl(this.g);d="";var H=P.length,X=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),wi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(X&&y==H-1)});P.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,Eo(this.i,this.u,this.A,this.l,this.R,_t,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ct=this.g;if((Ge=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ge)){var je=Ge;break t}}je=null}if(w=je)Gn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sl(this,w);else{this.o=!1,this.s=3,ft(12),Dn(this),wi(this);break e}}if(this.P){w=!0;let In;for(;!this.J&&this.C<ae.length;)if(In=Hh(this,ae),In==So){_t==4&&(this.s=4,ft(14),w=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==rl){this.s=4,ft(15),Gn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Gn(this.i,this.l,In,null),sl(this,In);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ae.length!=0||this.h.h||(this.s=1,ft(16),w=!1),this.o=this.o&&w,!w)Gn(this.i,this.l,ae,"[Invalid Chunked Response]"),Dn(this),wi(this);else if(0<ae.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),hl(bt),bt.M=!0,ft(11))}}else Gn(this.i,this.l,ae,null),sl(this,ae);_t==4&&Dn(this),this.o&&!this.J&&(_t==4?Vo(this.j,this):(this.o=!1,Je(this)))}else ko(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Dn(this),wi(this)}}}catch{}finally{}};function Gu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Hh(d,y){var w=d.C,P=y.indexOf(`
`,w);return P==-1?So:(w=Number(y.substring(w,P)),isNaN(w)?rl:(P+=1,P+w>y.length?So:(y=y.slice(P,P+w),d.C=P+w,y)))}Xn.prototype.cancel=function(){this.J=!0,Dn(this)};function Je(d){d.S=Date.now()+d.I,Qu(d,d.I)}function Qu(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Kn(E(d.ba,d),y)}function Ss(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Xn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(nl(this.i,this.A),this.L!=2&&(Ur(),ft(17)),Dn(this),this.s=2,wi(this)):Qu(this,this.S-d)};function wi(d){d.j.G==0||d.J||Vo(d.j,d)}function Dn(d){Ss(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Qa(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function sl(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||sn(w.h,d))){if(!d.K&&sn(w.h,d)&&w.G==3){try{var P=w.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var H=P;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Oo(w),tr(w);else break e;No(w),ft(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=Kn(E(w.Za,w),6e3));if(1>=Yu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hr(w,11)}else if((d.K||w.g==d)&&Oo(w),!j(y))for(H=w.Da.g.parse(y),y=0;y<H.length;y++){let je=H[y];if(w.T=je[0],je=je[1],w.G==2)if(je[0]=="c"){w.K=je[1],w.ia=je[2];const bt=je[3];bt!=null&&(w.la=bt,w.j.info("VER="+w.la));const _t=je[4];_t!=null&&(w.Aa=_t,w.j.info("SVER="+w.Aa));const On=je[5];On!=null&&typeof On=="number"&&0<On&&(P=1.5*On,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const In=d.g;if(In){const ks=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var X=P.h;X.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ol(X,X.h),X.h=null))}if(P.D){const Mo=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(P.ya=Mo,Qe(P.I,P.D,Mo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var ae=d;if(P.qa=cc(P,P.J?P.ia:null,P.W),ae.K){Ju(P.h,ae);var Ge=ae,Ct=P.L;Ct&&(Ge.I=Ct),Ge.B&&(Ss(Ge),Je(Ge)),P.g=ae}else xs(P);0<w.i.length&&Er(w)}else je[0]!="stop"&&je[0]!="close"||Hr(w,7);else w.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Hr(w,7):Ft(w):je[0]!="noop"&&w.l&&w.l.ta(je),w.v=0)}}Ur(4)}catch{}}var Xu=class{constructor(d,y){this.g=d,this.map=y}};function Is(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Yu(d){return d.h?1:d.g?d.g.size:0}function sn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ol(d,y){d.g?d.g.add(y):d.h=y}function Ju(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Is.prototype.cancel=function(){if(this.i=Zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return x(d.i)}function Co(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],w=d.length,P=0;P<w;P++)y.push(d[P]);return y}y=[],w=0;for(P in d)y[w++]=d[P];return y}function Ao(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const P in d)y[w++]=P;return y}}}function Ei(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=Ao(d),P=Co(d),H=P.length,X=0;X<H;X++)y.call(void 0,P[X],w&&w[X],d)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var P=d[w].indexOf("="),H=null;if(0<=P){var X=d[w].substring(0,P);H=d[w].substring(P+1)}else X=d[w];y(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Br(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Br){this.h=d.h,As(this,d.j),this.o=d.o,this.g=d.g,Ti(this,d.s),this.l=d.l;var y=d.i,w=new vr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Si(this,w),this.m=d.m}else d&&(y=String(d).match(Cs))?(this.h=!1,As(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),Ti(this,y[4]),this.l=Ve(y[5]||"",!0),Si(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Br.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ci(y,Ro,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ci(y,Ro,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ci(w,w.charAt(0)=="/"?nc:tc,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ci(w,al)),d.join("")};function Tn(d){return new Br(d)}function As(d,y,w){d.j=w?Ve(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ti(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Si(d,y,w){y instanceof vr?(d.i=y,_r(d.i,d.h)):(w||(y=Ci(y,rc)),d.i=new vr(y,d.h))}function Qe(d,y,w){d.i.set(y,w)}function Ii(d){return Qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ve(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ci(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,ec),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ec(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ro=/[#\/\?@]/g,tc=/[#\?:]/g,nc=/[#\?]/g,rc=/[#\?@]/g,al=/#/g;function vr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function jt(d){d.g||(d.g=new Map,d.h=0,d.i&&Wh(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=vr.prototype,t.add=function(d,y){jt(this),this.i=null,d=Nn(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function Yn(d,y){jt(d),y=Nn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Jn(d,y){return jt(d),y=Nn(d,y),d.g.has(y)}t.forEach=function(d,y){jt(this),this.g.forEach(function(w,P){w.forEach(function(H){d.call(y,H,P,this)},this)},this)},t.na=function(){jt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let P=0;P<y.length;P++){const H=d[P];for(let X=0;X<H.length;X++)w.push(y[P])}return w},t.V=function(d){jt(this);let y=[];if(typeof d=="string")Jn(this,d)&&(y=y.concat(this.g.get(Nn(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},t.set=function(d,y){return jt(this),this.i=null,d=Nn(this,d),Jn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ai(d,y,w){Yn(d,y),0<w.length&&(d.i=null,d.g.set(Nn(d,y),x(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var P=y[w];const X=encodeURIComponent(String(P)),ae=this.V(P);for(P=0;P<ae.length;P++){var H=X;ae[P]!==""&&(H+="="+encodeURIComponent(String(ae[P]))),d.push(H)}}return this.i=d.join("&")};function Nn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function _r(d,y){y&&!d.j&&(jt(d),d.i=null,d.g.forEach(function(w,P){var H=P.toLowerCase();P!=H&&(Yn(this,P),Ai(this,H,w))},d)),d.j=y}function Kh(d,y){const w=new ws;if(c.Image){const P=new Image;P.onload=I(dn,w,"TestLoadImage: loaded",!0,y,P),P.onerror=I(dn,w,"TestLoadImage: error",!1,y,P),P.onabort=I(dn,w,"TestLoadImage: abort",!1,y,P),P.ontimeout=I(dn,w,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function ic(d,y){const w=new ws,P=new AbortController,H=setTimeout(()=>{P.abort(),dn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(X=>{clearTimeout(H),X.ok?dn(w,"TestPingServer: ok",!0,y):dn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),dn(w,"TestPingServer: error",!1,y)})}function dn(d,y,w,P,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),P(w)}catch{}}function Gh(){this.g=new Ja}function sc(d,y,w){const P=w||"";try{Ei(d,function(H,X){let ae=H;p(H)&&(ae=Xa(H)),y.push(P+X+"="+encodeURIComponent(ae))})}catch(H){throw y.push(P+"type="+encodeURIComponent("_badmap")),H}}function zr(d){this.l=d.Ub||null,this.j=d.eb||!1}C(zr,vs),zr.prototype.g=function(){return new Rs(this.l,this.j)},zr.prototype.i=function(d){return function(){return d}}({});function Rs(d,y){St.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Rs,St),t=Rs.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,er(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Zn(this):er(this),this.readyState==3&&oc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Zn(this))},t.Qa=function(d){this.g&&(this.response=d,Zn(this))},t.ga=function(){this.g&&Zn(this)};function Zn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,er(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function er(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $r(d){let y="";return re(d,function(w,P){y+=P,y+=":",y+=w,y+=`\r
`}),y}function Ri(d,y,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=$r(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Qe(d,y,w))}function it(d){St.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(it,St);var Qh=/^https?$/i,ll=["POST","PUT"];t=it.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?yo(this.o):yo(Qn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){Ps(this,X);return}if(d=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var H in P)w.set(H,P[H]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())w.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ll,y,void 0))||P||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of w)this.g.setRequestHeader(X,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Ps(this,X)}};function Ps(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Po(d),Sn(d)}function Po(d){d.A||(d.A=!0,It(d,"complete"),It(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,It(this,"complete"),It(this,"abort"),Sn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},t.bb=function(){ul(this)};function ul(d){if(d.h&&typeof l<"u"&&(!d.v[1]||hn(d)!=4||d.Z()!=2)){if(d.u&&hn(d)==4)Ka(d.Ea,0,d);else if(It(d,"readystatechange"),hn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var P;if(P=ae===0){var H=String(d.D).match(Cs)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),P=!Qh.test(H?H.toLowerCase():"")}w=P}if(w)It(d,"complete"),It(d,"success");else{d.m=6;try{var X=2<hn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Po(d)}}finally{Sn(d)}}}}function Sn(d,y){if(d.g){xo(d);const w=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||It(d,"ready");try{w.onreadystatechange=P}catch{}}}function xo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function hn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ya(y)}};function cl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ko(d){const y={};d=(d.g&&2<=hn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(j(d[P]))continue;var w=U(d[P]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=y[H]||[];y[H]=X,X.push(w)}D(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function dl(d){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,d),this.cb=wr("retryDelaySeedMs",1e4,d),this.Wa=wr("forwardChannelMaxRetries",2,d),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(d&&d.concurrentRequestLimit),this.Da=new Gh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dl.prototype,t.la=8,t.G=1,t.connect=function(d,y,w,P){ft(0),this.W=d,this.H=y||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=cc(this,null,this.W),Er(this)};function Ft(d){if(bo(d),d.G==3){var y=d.U++,w=Tn(d.I);if(Qe(w,"SID",d.K),Qe(w,"RID",y),Qe(w,"TYPE","terminate"),qr(d,w),y=new Xn(d,d.j,y),y.L=2,y.v=Ii(Tn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=dc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}uc(d)}function tr(d){d.g&&(hl(d),d.g.cancel(),d.g=null)}function bo(d){tr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Oo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Er(d){if(!En(d.h)&&!d.s){d.s=!0;var y=d.Ga;Se||le(),se||(Se(),se=!0),ye.add(y,d),d.B=0}}function Xh(d,y){return Yu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Kn(E(d.Ga,d,y),lc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Xn(this,this.j,d);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Pi(this,H,y),w=Tn(this.I),Qe(w,"RID",d),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),qr(this,w),X&&(this.O?y="headers="+encodeURIComponent(String($r(X)))+"&"+y:this.m&&Ri(w,this.m,X)),ol(this.h,H),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",y),Qe(w,"SID","null"),H.T=!0,Io(H,w,null)):Io(H,w,y),this.G=2}}else this.G==3&&(d?Do(this,d):this.i.length==0||En(this.h)||Do(this))};function Do(d,y){var w;y?w=y.l:w=d.U++;const P=Tn(d.I);Qe(P,"SID",d.K),Qe(P,"RID",w),Qe(P,"AID",d.T),qr(d,P),d.m&&d.o&&Ri(P,d.m,d.o),w=new Xn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Pi(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ol(d.h,w),Io(w,P,y)}function qr(d,y){d.H&&re(d.H,function(w,P){Qe(y,P,w)}),d.l&&Ei({},function(w,P){Qe(y,P,w)})}function Pi(d,y,w){w=Math.min(d.i.length,w);var P=d.l?E(d.l.Na,d.l,d):null;e:{var H=d.i;let X=-1;for(;;){const ae=["count="+w];X==-1?0<w?(X=H[0].g,ae.push("ofs="+X)):X=0:ae.push("ofs="+X);let Ge=!0;for(let Ct=0;Ct<w;Ct++){let je=H[Ct].g;const bt=H[Ct].map;if(je-=X,0>je)X=Math.max(0,H[Ct].g-100),Ge=!1;else try{sc(bt,ae,"req"+je+"_")}catch{P&&P(bt)}}if(Ge){P=ae.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,P}function xs(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Se||le(),se||(Se(),se=!0),ye.add(y,d),d.v=0}}function No(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Kn(E(d.Fa,d),lc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Kn(E(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),tr(this),ac(this))};function hl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function ac(d){d.g=new Xn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Tn(d.qa);Qe(y,"RID","rpc"),Qe(y,"SID",d.K),Qe(y,"AID",d.T),Qe(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Qe(y,"TO",d.ja),Qe(y,"TYPE","xmlhttp"),qr(d,y),d.m&&d.o&&Ri(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Ii(Tn(y)),w.m=null,w.P=!0,il(w,d)}t.Za=function(){this.C!=null&&(this.C=null,tr(this),No(this),ft(19))};function Oo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Vo(d,y){var w=null;if(d.g==y){Oo(d),hl(d),d.g=null;var P=2}else if(sn(d.h,y))w=y.D,Ju(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var H=d.B;P=_s(),It(P,new wo(P,w)),Er(d)}else xs(d);else if(H=y.s,H==3||H==0&&0<y.X||!(P==1&&Xh(d,y)||P==2&&No(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),H){case 1:Hr(d,5);break;case 4:Hr(d,10);break;case 3:Hr(d,6);break;default:Hr(d,2)}}}function lc(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function Hr(d,y){if(d.j.info("Error code "+y),y==2){var w=E(d.fb,d),P=d.Xa;const H=!P;P=new Br(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||As(P,"https"),Ii(P),H?Kh(P.toString(),w):ic(P.toString(),w)}else ft(2);d.G=0,d.l&&d.l.sa(y),uc(d),bo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function uc(d){if(d.G=0,d.ka=[],d.l){const y=Zu(d.h);(y.length!=0||d.i.length!=0)&&(A(d.ka,y),A(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function cc(d,y,w){var P=w instanceof Br?Tn(w):new Br(w);if(P.g!="")y&&(P.g=y+"."+P.g),Ti(P,P.s);else{var H=c.location;P=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var X=new Br(null);P&&As(X,P),y&&(X.g=y),H&&Ti(X,H),w&&(X.l=w),P=X}return w=d.D,y=d.ya,w&&y&&Qe(P,w,y),Qe(P,"VER",d.la),qr(d,P),P}function dc(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new it(new zr({eb:w})):new it(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fl(){}t=fl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lo(){}Lo.prototype.g=function(d,y){return new on(d,y)};function on(d,y){St.call(this),this.g=new dl(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!j(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Tr(this)}C(on,St),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ft(this.g)},on.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Xa(d),d=w);y.i.push(new Xu(y.Ya++,d)),y.G==3&&Er(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,on.aa.N.call(this)};function hc(d){gr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}C(hc,gr);function fc(){_o.call(this),this.status=1}C(fc,_o);function Tr(d){this.g=d}C(Tr,fl),Tr.prototype.ua=function(){It(this.g,"a")},Tr.prototype.ta=function(d){It(this.g,new hc(d))},Tr.prototype.sa=function(d){It(this.g,new fc)},Tr.prototype.ra=function(){It(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,rI=function(){return new Lo},nI=function(){return _s()},tI=yr,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,Ad=To,Wu.COMPLETE="complete",eI=Wu,vo.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",St.prototype.listen=St.prototype.K,ql=vo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,ZS=it}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new mg("@firebase/firestore");function ia(){return io.logLevel}function ce(t,...e){if(io.logLevel<=Ne.DEBUG){const n=e.map(kg);io.debug(`Firestore (${La}): ${t}`,...n)}}function ci(t,...e){if(io.logLevel<=Ne.ERROR){const n=e.map(kg);io.error(`Firestore (${La}): ${t}`,...n)}}function va(t,...e){if(io.logLevel<=Ne.WARN){const n=e.map(kg);io.warn(`Firestore (${La}): ${t}`,...n)}}function kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function We(t,e){t||Ae()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class VO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LO{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new iI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Zt(e)}}class MO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new FO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=BO(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Pt(0,0))}static max(){return new Re(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Pr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Pr.isNumericId(e),s=Pr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class rt extends Pr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const zO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Pr{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return zO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function $O(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new is(s,_e.empty(),e)}function qO(t){return new is(t.readTime,t.key,-1)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(Re.min(),_e.empty(),-1)}static max(){return new is(Re.max(),_e.empty(),-1)}}function HO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==WO)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>r(h))}),l=!0,a===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new J((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function GO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Eh.oe=-1;function Th(t){return t==null}function Gd(t){return t===0&&1/t==-1/0}function QO(t){return typeof t=="number"&&Number.isInteger(t)&&!Gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aE(e)),e=YO(t.get(n),e);return aE(e)}function YO(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function aE(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new cr([])}unionWith(e){let n=new xt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aI("Invalid base64 string: "+a):a}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const JO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(We(!!t),typeof t=="string"){let e=0;const n=JO.exec(t);if(We(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sh(t){const e=t.mapValue.fields.__previous_value__;return bg(e)?Sh(e):e}function du(t){const e=ss(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,s,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bg(t)?4:tV(t)?9007199254740991:eV(t)?10:11:Ae()}function Vr(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ss(s.timestampValue),c=ss(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return os(s.bytesValue).isEqual(os(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return gt(s.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return gt(s.integerValue)===gt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=gt(s.doubleValue),c=gt(a.doubleValue);return l===c?Gd(l)===Gd(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(lE(l)!==lE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Vr(l[h],c[h])))return!1;return!0}(t,e);default:return Ae()}}function fu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function wa(t,e){if(t===e)return 0;const n=as(t),r=as(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=gt(a.integerValue||a.doubleValue),h=gt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(du(t),du(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(a,l){const c=os(a),h=os(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Le(c[p],h[p]);if(g!==0)return g}return Le(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Le(gt(a.latitude),gt(l.latitude));return c!==0?c:Le(gt(a.longitude),gt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const _=a.fields||{},E=l.fields||{},I=(c=_.value)===null||c===void 0?void 0:c.arrayValue,C=(h=E.value)===null||h===void 0?void 0:h.arrayValue,x=Le(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:dE(I,C)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===dd.mapValue&&l===dd.mapValue)return 0;if(a===dd.mapValue)return 1;if(l===dd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const E=Le(h[_],g[_]);if(E!==0)return E;const I=wa(c[h[_]],p[g[_]]);if(I!==0)return I}return Le(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ss(t),r=ss(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function dE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=wa(n[s],r[s]);if(a)return a}return Le(n.length,r.length)}function Ea(t){return Em(t)}function Em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Em(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Em(n.fields[l])}`;return s+"}"}(t.mapValue):Ae()}function Rd(t){switch(as(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(t);return e?16+Rd(e):16;case 5:return 2*t.stringValue.length;case 6:return os(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Rd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return oo(r.fields,(a,l)=>{s+=a.length+Rd(l)}),s}(t.mapValue);default:throw Ae()}}function hE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tm(t){return!!t&&"integerValue"in t}function Dg(t){return!!t&&"arrayValue"in t}function fE(t){return!!t&&"nullValue"in t}function pE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function eV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=qt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Jl(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new $n(Jl(this.value))}}function lI(t){const e=[];return oo(t.fields,(n,r)=>{const s=new qt([n]);if(Pd(r)){const a=lI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),$n.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,Re.min(),Re.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Re.min(),Re.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.position=e,this.inclusive=n}}function mE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=wa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function gE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function nV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{}class Tt extends uI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iV(e,n,r):n==="array-contains"?new aV(e,r):n==="in"?new lV(e,r):n==="not-in"?new uV(e,r):n==="array-contains-any"?new cV(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sV(e,r):new oV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends uI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return cI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cI(t){return t.op==="and"}function dI(t){return rV(t)&&cI(t)}function rV(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Sm(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(dI(t))return t.filters.map(e=>Sm(e)).join(",");{const e=t.filters.map(n=>Sm(n)).join(",");return`${t.op}(${e})`}}function hI(t,e){return t instanceof Tt?function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof fr?function(r,s){return s instanceof fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&hI(l,s.filters[c]),!0):!1}(t,e):void Ae()}function fI(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(fI).join(" ,")+"}"}(t):"Filter"}class iV extends Tt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class sV extends Tt{constructor(e,n){super(e,"in",n),this.keys=pI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oV extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=pI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class aV extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dg(n)&&fu(n.arrayValue,this.value)}}class lV extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class uV extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fu(this.value.arrayValue,n)}}class cV extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function yE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new dV(t,e,n,r,s,a,l)}function Ng(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.ue=n}return e.ue}function Og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gE(t.startAt,e.startAt)&&gE(t.endAt,e.endAt)}function Im(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hV(t,e,n,r,s,a,l,c){return new Fa(t,e,n,r,s,a,l,c)}function Vg(t){return new Fa(t)}function vE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mI(t){return t.collectionGroup!==null}function Zl(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new xt(qt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new pu(a,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new pu(qt.keyField(),r))}return e.ce}function kr(t){const e=Pe(t);return e.le||(e.le=fV(e,Zl(t))),e.le}function fV(t,e){if(t.limitType==="F")return yE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new pu(s.field,a)});const n=t.endAt?new Qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qd(t.startAt.position,t.startAt.inclusive):null;return yE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cm(t,e){const n=t.filters.concat([e]);return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Am(t,e,n){return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return Og(kr(t),kr(e))&&t.limitType===e.limitType}function gI(t){return`${Ng(kr(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fI(s)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ea(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ea(s)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Zl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,h){const p=mE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Zl(r),s)||r.endAt&&!function(l,c,h){const p=mE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Zl(r),s))}(t,e)}function pV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yI(t){return(e,n)=>{let r=!1;for(const s of Zl(t)){const a=mV(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function mV(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?wa(h,p):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return oI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=new ct(_e.comparator);function di(){return gV}const vI=new ct(_e.comparator);function Hl(...t){let e=vI;for(const n of t)e=e.insert(n.key,n);return e}function _I(t){let e=vI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return eu()}function wI(){return eu()}function eu(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const yV=new ct(_e.comparator),vV=new xt(_e.comparator);function Oe(...t){let e=vV;for(const n of t)e=e.add(n);return e}const _V=new xt(Le);function wV(){return _V}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function EI(t){return{integerValue:""+t}}function EV(t,e){return QO(e)?EI(e):Lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function TV(t,e,n){return t instanceof mu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&bg(a)&&(a=Sh(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof gu?SI(t,e):t instanceof yu?II(t,e):function(s,a){const l=TI(s,a),c=_E(l)+_E(s.Pe);return Tm(l)&&Tm(s.Pe)?EI(c):Lg(s.serializer,c)}(t,e)}function SV(t,e,n){return t instanceof gu?SI(t,e):t instanceof yu?II(t,e):n}function TI(t,e){return t instanceof Xd?function(r){return Tm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class mu extends Ah{}class gu extends Ah{constructor(e){super(),this.elements=e}}function SI(t,e){const n=CI(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class yu extends Ah{constructor(e){super(),this.elements=e}}function II(t,e){let n=CI(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class Xd extends Ah{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _E(t){return gt(t.integerValue||t.doubleValue)}function CI(t){return Dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.field=e,this.transform=n}}function CV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gu&&s instanceof gu||r instanceof yu&&s instanceof yu?_a(r.elements,s.elements,Vr):r instanceof Xd&&s instanceof Xd?Vr(r.Pe,s.Pe):r instanceof mu&&s instanceof mu}(t.transform,e.transform)}class AV{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function AI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,br.none()):new Vu(t.key,t.data,br.none());{const n=t.data,r=$n.empty();let s=new xt(qt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new lo(t.key,r,new cr(s.toArray()),br.none())}}function RV(t,e,n){t instanceof Vu?function(s,a,l){const c=s.value.clone(),h=EE(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(s,a,l){if(!xd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=EE(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(RI(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function tu(t,e,n,r){return t instanceof Vu?function(a,l,c,h){if(!xd(a.precondition,l))return c;const p=a.value.clone(),g=TE(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof lo?function(a,l,c,h){if(!xd(a.precondition,l))return c;const p=TE(a.fieldTransforms,h,l),g=l.data;return g.setAll(RI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return xd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function PV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=TI(r.transform,s||null);a!=null&&(n===null&&(n=$n.empty()),n.set(r.field,a))}return n||null}function wE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_a(r,s,(a,l)=>CV(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lo extends Rh{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EE(t,e,n){const r=new Map;We(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,SV(l,c,n[s]))}return r}function TE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,TV(a,l,e))}return r}class Mg extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xV extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&RV(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=AI(l,c);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>wE(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>wE(n,r))}}class jg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){We(e.mutations.length===r.length);let s=function(){return yV}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new jg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Fe;function NV(t){switch(t){default:return Ae();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function PI(t){if(t===void 0)return ci("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Et.OK:return ee.OK;case Et.CANCELLED:return ee.CANCELLED;case Et.UNKNOWN:return ee.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ee.INTERNAL;case Et.UNAVAILABLE:return ee.UNAVAILABLE;case Et.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Et.NOT_FOUND:return ee.NOT_FOUND;case Et.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Et.ABORTED:return ee.ABORTED;case Et.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Et.DATA_LOSS:return ee.DATA_LOSS;default:return Ae()}}(Fe=Et||(Et={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new Ji([4294967295,4294967295],0);function SE(t){const e=OV().encode(t),n=new JS;return n.update(e),new Uint8Array(n.digest())}function IE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([s,a],0)]}class Fg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ji.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ji.fromNumber(r)));return s.compare(VV)===1&&(s=new Ji([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=SE(e),[r,s]=IE(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);if(!this.Ee(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Fg(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=SE(e),[r,s]=IE(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(Re.min(),s,new ct(Le),di(),Oe())}}class Lu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class xI{constructor(e,n){this.targetId=e,this.me=n}}class kI{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class CE{constructor(){this.fe=0,this.ge=AE(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new Lu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=AE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class LV{constructor(e){this.Be=e,this.Le=new Map,this.ke=di(),this.qe=hd(),this.Qe=hd(),this.Ke=new ct(Le)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const a=s.target;if(Im(a))if(r===0){const l=new _e(a.path);this.We(n,l,en.newNoDocument(l,Re.min()))}else We(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=os(r).toUint8Array()}catch(h){if(h instanceof aI)return va("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Fg(l,s,a)}catch(h){return va(h instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(n,a,null),s++)}),s}it(e){const n=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&Im(c.target)){const h=new _e(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,en.newNoDocument(h,e))}a.be&&(n.set(l,a.ve()),a.Ce())}});let r=Oe();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const s=new Ph(e,n,this.Ke,this.ke,r);return this.ke=di(),this.qe=hd(),this.Qe=hd(),this.Ke=new ct(Le),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new CE,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new xt(Le),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(Le),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new CE),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function hd(){return new ct(_e.comparator)}function AE(){return new ct(_e.comparator)}const MV={asc:"ASCENDING",desc:"DESCENDING"},jV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FV={and:"AND",or:"OR"};class UV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BV(t,e){return Yd(t,e.toTimestamp())}function Dr(t){return We(!!t),Re.fromTimestamp(function(n){const r=ss(n);return new Pt(r.seconds,r.nanos)}(t))}function Ug(t,e){return Pm(t,e).canonicalString()}function Pm(t,e){const n=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DI(t){const e=rt.fromString(t);return We(MI(e)),e}function xm(t,e){return Ug(t.databaseId,e.path)}function jp(t,e){const n=DI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(OI(n))}function NI(t,e){return Ug(t.databaseId,e)}function zV(t){const e=DI(t);return e.length===4?rt.emptyPath():OI(e)}function km(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OI(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RE(t,e,n){return{name:xm(t,e),fields:n.value.mapValue.fields}}function $V(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(We(g===void 0||typeof g=="string"),Wt.fromBase64String(g||"")):(We(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Wt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ee.UNKNOWN:PI(p.code);return new fe(g,p.message||"")}(l);n=new kI(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jp(t,r.document.name),a=Dr(r.document.updateTime),l=r.document.createTime?Dr(r.document.createTime):Re.min(),c=new $n({mapValue:{fields:r.document.fields}}),h=en.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new kd(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jp(t,r.document),a=r.readTime?Dr(r.readTime):Re.min(),l=en.newNoDocument(s,a),c=r.removedTargetIds||[];n=new kd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jp(t,r.document),a=r.removedTargetIds||[];n=new kd([],a,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new DV(s,a),c=r.targetId;n=new xI(c,l)}}return n}function qV(t,e){let n;if(e instanceof Vu)n={update:RE(t,e.key,e.value)};else if(e instanceof Mg)n={delete:xm(t,e.key)};else if(e instanceof lo)n={update:RE(t,e.key,e.data),updateMask:ZV(e.fieldMask)};else{if(!(e instanceof xV))return Ae();n={verify:xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof mu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xd)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:BV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(t,e.precondition)),n}function HV(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Dr(s.updateTime):Dr(a);return l.isEqual(Re.min())&&(l=Dr(a)),new AV(l,s.transformResults||[])}(n,e))):[]}function WV(t,e){return{documents:[NI(t,e.path)]}}function KV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NI(t,s);const a=function(p){if(p.length!==0)return LI(fr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:oa(E.field),direction:XV(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Rm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:s}}function GV(t){let e=zV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){We(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=VI(_);return E instanceof fr&&dI(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(C){return new pu(aa(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(_){let E;return E=typeof _=="object"?_.value:_,Th(E)?null:E}(n.limit));let h=null;n.startAt&&(h=function(_){const E=!!_.before,I=_.values||[];return new Qd(I,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,I=_.values||[];return new Qd(I,E)}(n.endAt)),hV(e,s,l,a,c,"F",h,p)}function QV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=aa(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=aa(n.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=aa(n.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=aa(n.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(aa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>VI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function XV(t){return MV[t]}function YV(t){return jV[t]}function JV(t){return FV[t]}function oa(t){return{fieldPath:t.canonicalString()}}function aa(t){return qt.fromServerFormat(t.fieldPath)}function LI(t){return t instanceof Tt?function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(n.field),op:YV(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(s=>LI(s));return r.length===1?r[0]:{compositeFilter:{op:JV(n.op),filters:r}}}(t):Ae()}function ZV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,s,a=Re.min(),l=Re.min(),c=Wt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.ht=e}}function tL(t){const e=GV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.ln=new rL}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(is.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class rL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(rt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ta(0)}static Qn(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class iL{constructor(e){this.Gn=e,this.buffer=new xt(xE),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ma(n)}await this.Yn(3e5)})}}class oL{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Eh.oe);const r=new iL(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(PE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ia()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function aL(t,e){return new oL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&tu(r.mutation,s,cr.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Hl();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=di();const l=eu(),c=function(){return eu()}();return n.forEach((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof lo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),tu(g.mutation,p,g.mutation.getFieldMask(),Pt.now())):l.set(p.key,cr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new uL(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=eu();let s=new ct((l,c)=>l-c),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||cr.empty();g=c.applyToLocalView(p,g),r.set(h,g);const _=(s.get(c.batchId)||Oe()).add(h);s=s.insert(c.batchId,_)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,_=wI();g.forEach(E=>{if(!a.has(E)){const I=AI(n.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):J.resolve(Qs());let c=-1,h=a;return l.next(p=>J.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Oe())).next(g=>({batchId:c,changes:_I(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=Hl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Hl();return this.indexManager.getCollectionParents(e,a).next(c=>J.forEach(c,h=>{const p=function(_,E){return new Fa(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,en.newInvalidDocument(g)))});let c=Hl();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&tu(g.mutation,p,cr.empty(),Pt.now()),Ch(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Dr(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:tL(s.bundledQuery),readTime:Dr(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.overlays=new ct(_e.comparator),this.dr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return J.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Tt(e,n,a)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Qs(),a=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ct((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Qs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Qs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return J.resolve(c)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new bV(n,r));let a=this.dr.get(n);a===void 0&&(a=Oe(),this.dr.set(n,a)),this.dr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.Er=new xt(Lt.Ar),this.Rr=new xt(Lt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Lt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new _e(new rt([])),r=new Lt(n,e),s=new Lt(n,e+1),a=[];return this.Rr.forEachInRange([r,s],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new _e(new rt([])),r=new Lt(n,e),s=new Lt(n,e+1);let a=Oe();return this.Rr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Lt(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return _e.comparator(e.key,n.key)||Le(e.br,n.br)}static Vr(e,n){return Le(e.br,n.br)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new xt(Lt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kV(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.vr=this.vr.add(new Lt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],l=>{const c=this.Cr(l.br);a.push(c)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Le);return n.forEach(s=>{const a=new Lt(s,0),l=new Lt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),J.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new Lt(new _e(a),0);let c=new xt(Le);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(h.br)),!0)},l),J.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){We(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return J.forEach(n.mutations,s=>{const a=new Lt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Lt(n,0),s=this.vr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.Nr=e,this.docs=function(){return new ct(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():en.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=di();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||HO(qO(g),r)<=0||(s.has(g.key)||Ch(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ae()}Br(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gL(this)}getSize(e){return J.resolve(this.size)}}class gL extends lL{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.persistence=e,this.Lr=new ao(n=>Ng(n),Og),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bg,this.targetCount=0,this.Qr=Ta.qn()}forEachTarget(e,n){return this.Lr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Eh(0),this.Ur=!1,this.Ur=!0,this.Wr=new fL,this.referenceDelegate=e(this),this.Gr=new yL(this),this.indexManager=new nL,this.remoteDocumentCache=function(s){return new mL(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new eL(n),this.jr=new dL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new pL(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new vL(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,n){return J.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class vL extends KO{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Zr=new Bg,this.Xr=null}static ei(e){return new zg(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,r=>{const s=_e.fromPath(r);return this.ni(e,s).next(a=>{a||n.removeEntry(s,Re.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jd{constructor(e,n){this.persistence=e,this.ri=new ao(r=>XO(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=aL(this,n)}static ei(e,n){return new Jd(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,l=>this.ir(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Re.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rd(e.data.value)),n}ir(e,n,r){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=Oe(),s=Oe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $g(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Lk()?8:GO(rn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Xi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new _L;return this.ts(e,n,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,n,l,c.size)})}).next(()=>a.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(ia()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(ia()<=Ne.DEBUG&&ce("QueryEngine","Query:",sa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(ia()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):J.resolve())}Xi(e,n){if(vE(n))return J.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Am(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Oe(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(n,c);return this.ss(n,p,l,h.readTime)?this.Xi(e,Am(n,null,"F")):this.os(e,p,n,h)}))})))}es(e,n,r,s){return vE(n)||s.isEqual(Re.min())?J.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(n,a);return this.ss(n,l,r,s)?J.resolve(null):(ia()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sa(n)),this.os(e,l,n,$O(s,-1)).next(c=>c))})}rs(e,n){let r=new xt(yI(e));return n.forEach((s,a)=>{Ch(e,a)&&(r=r.add(a))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,n,r){return ia()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",sa(n)),this.Zi.getDocumentsMatchingQuery(e,n,is.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new ct(Le),this.cs=new ao(a=>Ng(a),Og),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cL(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function TL(t,e,n,r){return new EL(t,e,n,r)}async function FI(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=Oe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function SL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const _=p.batch,E=_.keys();let I=J.resolve();return E.forEach(C=>{I=I.next(()=>g.getEntry(h,C)).next(x=>{const A=p.docVersions.get(C);We(A!==null),x.version.compareTo(A)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Oe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function UI(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function IL(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const c=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;c.push(n.Gr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(a,g.addedDocuments,_)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Wt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(_,I),function(x,A,b){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(E,I,g)&&c.push(n.Gr.updateTargetData(a,I))});let h=di(),p=Oe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(CL(a,l,e.documentUpdates).next(g=>{h=g.Is,p=g.ds})),!r.isEqual(Re.min())){const g=n.Gr.getLastRemoteSnapshotVersion(a).next(_=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return J.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.us=s,a))}function CL(t,e,n){let r=Oe(),s=Oe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=di();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Re.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ce("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:l,ds:s}})}function AL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):n.Gr.allocateTargetId(r).next(l=>(s=new Gi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function bm(t,e,n){const r=Pe(t),s=r.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ja(l))throw l;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function kE(t,e,n){const r=Pe(t);let s=Re.min(),a=Oe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=Pe(h),E=_.cs.get(g);return E!==void 0?J.resolve(_.us.get(E)):_.Gr.getTargetData(p,g)}(r,l,kr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?s:Re.min(),n?a:Oe())).next(c=>(PL(r,pV(e),c),{documents:c,Es:a})))}function PL(t,e,n){let r=t.ls.get(e)||Re.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ls.set(e,r)}class bE{constructor(){this.activeTargetIds=wV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xL{constructor(){this._o=new bE,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new bE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd=null;function Fp(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class NL extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(n,r,s,a,l){const c=Fp(),h=this.No(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(n,h,p,s).then(g=>(ce("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw va("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",h,"request:",s),g})}ko(n,r,s,a,l,c){return this.Oo(n,r,s,a,l)}Bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),s&&s.headers.forEach((a,l)=>n[l]=a)}No(n,r){const s=bL[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,s){const a=Fp();return new Promise((l,c)=>{const h=new ZS;h.setWithCredentials(!0),h.listenOnce(eI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ad.NO_ERROR:const g=h.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Ad.TIMEOUT:ce(Yt,`RPC '${e}' ${a} timed out`),c(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const _=h.getStatus();if(ce(Yt,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const C=function(A){const b=A.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(b)>=0?b:ee.UNKNOWN}(I.status);c(new fe(C,I.message))}else c(new fe(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ce(Yt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ce(Yt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)})}qo(e,n,r){const s=Fp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=rI(),c=nI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");ce(Yt,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=l.createWebChannel(g,h);let E=!1,I=!1;const C=new DL({Eo:A=>{I?ce(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(E||(ce(Yt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ce(Yt,`RPC '${e}' stream ${s} sending:`,A),_.send(A))},Ao:()=>_.close()}),x=(A,b,j)=>{A.listen(b,L=>{try{j(L)}catch(Q){setTimeout(()=>{throw Q},0)}})};return x(_,ql.EventType.OPEN,()=>{I||(ce(Yt,`RPC '${e}' stream ${s} transport opened.`),C.So())}),x(_,ql.EventType.CLOSE,()=>{I||(I=!0,ce(Yt,`RPC '${e}' stream ${s} transport closed`),C.Do())}),x(_,ql.EventType.ERROR,A=>{I||(I=!0,va(Yt,`RPC '${e}' stream ${s} transport errored:`,A),C.Do(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),x(_,ql.EventType.MESSAGE,A=>{var b;if(!I){const j=A.data[0];We(!!j);const L=j,Q=(L==null?void 0:L.error)||((b=L[0])===null||b===void 0?void 0:b.error);if(Q){ce(Yt,`RPC '${e}' stream ${s} received error:`,Q);const z=Q.status;let re=function(k){const M=Et[k];if(M!==void 0)return PI(M)}(z),D=Q.message;re===void 0&&(re=ee.INTERNAL,D="Unknown error status: "+z+" with message "+Q.message),I=!0,C.Do(new fe(re,D)),_.close()}else ce(Yt,`RPC '${e}' stream ${s} received:`,j),C.vo(j)}}),x(c,tI.STAT_EVENT,A=>{A.stat===wm.PROXY?ce(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===wm.NOPROXY&&ce(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new UV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,s,a,l,c,h){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new BI(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OL extends zI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=$V(this.serializer,e),r=function(a){if(!("targetChange"in a))return Re.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?Dr(l.readTime):Re.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=km(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=Im(h)?{documents:WV(a,h)}:{query:KV(a,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bI(a,l.resumeToken);const p=Rm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){c.readTime=Yd(a,l.snapshotVersion.toTimestamp());const p=Rm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=QV(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.c_(n)}}class VL extends zI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=HV(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=km(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qV(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,Pm(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())})}ko(e,n,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Pm(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ee.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class ML{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ci(n),this.C_=!1):ce("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{uo(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Pe(h);p.k_.add(4),await Mu(p),p.K_.set("Unknown"),p.k_.delete(4),await kh(p)}(this))})}),this.K_=new ML(r,s)}}async function kh(t){if(uo(t))for(const e of t.q_)await e(!0)}async function Mu(t){for(const e of t.q_)await e(!1)}function $I(t,e){const n=Pe(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Kg(n)?Wg(n):Ua(n).s_()&&Hg(n,e))}function qg(t,e){const n=Pe(t),r=Ua(n);n.L_.delete(e),r.s_()&&qI(n,e),n.L_.size===0&&(r.s_()?r.a_():uo(n)&&n.K_.set("Unknown"))}function Hg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).V_(e)}function qI(t,e){t.U_.xe(e),Ua(t).m_(e)}function Wg(t){t.U_=new LV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.K_.F_()}function Kg(t){return uo(t)&&!Ua(t).i_()&&t.L_.size>0}function uo(t){return Pe(t).k_.size===0}function HI(t){t.U_=void 0}async function FL(t){t.K_.set("Online")}async function UL(t){t.L_.forEach((e,n)=>{Hg(t,e)})}async function BL(t,e){HI(t),Kg(t)?(t.K_.O_(e),Wg(t)):t.K_.set("Unknown")}async function zL(t,e,n){if(t.K_.set("Online"),e instanceof kI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.L_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.L_.delete(c),s.U_.removeTarget(c))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zd(t,r)}else if(e instanceof kd?t.U_.$e(e):e instanceof xI?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Re.min()))try{const r=await UI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.L_.get(h);if(!g)return;a.L_.set(h,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),qI(a,h);const _=new Gi(g.target,h,p,g.sequenceNumber);Hg(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Zd(t,r)}}async function Zd(t,e,n){if(!ja(e))throw e;t.k_.add(1),await Mu(t),t.K_.set("Offline"),n||(n=()=>UI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await kh(t)})}function WI(t,e){return e().catch(n=>Zd(t,n,e))}async function bh(t){const e=Pe(t),n=ls(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;$L(e);)try{const s=await AL(e.localStore,r);if(s===null){e.B_.length===0&&n.a_();break}r=s.batchId,qL(e,s)}catch(s){await Zd(e,s)}KI(e)&&GI(e)}function $L(t){return uo(t)&&t.B_.length<10}function qL(t,e){t.B_.push(e);const n=ls(t);n.s_()&&n.f_&&n.g_(e.mutations)}function KI(t){return uo(t)&&!ls(t).i_()&&t.B_.length>0}function GI(t){ls(t).start()}async function HL(t){ls(t).w_()}async function WL(t){const e=ls(t);for(const n of t.B_)e.g_(n.mutations)}async function KL(t,e,n){const r=t.B_.shift(),s=jg.from(r,e,n);await WI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bh(t)}async function GL(t,e){e&&ls(t).f_&&await async function(r,s){if(function(l){return NV(l)&&l!==ee.ABORTED}(s.code)){const a=r.B_.shift();ls(r).__(),await WI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await bh(r)}}(t,e),KI(t)&&GI(t)}async function NE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=uo(n);n.k_.add(3),await Mu(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await kh(n)}async function QL(t,e){const n=Pe(t);e?(n.k_.delete(2),await kh(n)):e||(n.k_.add(2),await Mu(n),n.K_.set("Unknown"))}function Ua(t){return t.W_||(t.W_=function(n,r,s){const a=Pe(n);return a.b_(),new OL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Ro:FL.bind(null,t),mo:UL.bind(null,t),po:BL.bind(null,t),R_:zL.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Kg(t)?Wg(t):t.K_.set("Unknown")):(await t.W_.stop(),HI(t))})),t.W_}function ls(t){return t.G_||(t.G_=function(n,r,s){const a=Pe(n);return a.b_(),new VL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:HL.bind(null,t),po:GL.bind(null,t),p_:WL.bind(null,t),y_:KL.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await bh(t)):(await t.G_.stop(),t.B_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new Gg(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(t,e){if(ci("AsyncQueue",`${e}: ${t}`),ja(t))return new fe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Hl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.z_=new ct(_e.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,s,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Sa(e,n,ga.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class YL{constructor(){this.queries=VE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=Pe(n),a=s.queries;s.queries=VE(),a.forEach((l,c)=>{for(const h of c.J_)h.onError(r)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function VE(){return new ao(t=>gI(t),Ih)}async function QI(t,e){const n=Pe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new XL,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await n.onListen(s,!0);break;case 1:a.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Qg(l,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&Xg(n)}async function XI(t,e){const n=Pe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JL(t,e){const n=Pe(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.J_)c.ta(s)&&(r=!0);l.H_=s}}r&&Xg(n)}function ZL(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(n);r.queries.delete(e)}function Xg(t){t.X_.forEach(e=>{e.next()})}var Dm,LE;(LE=Dm||(Dm={})).na="default",LE.Cache="cache";class YI{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.key=e}}class ZI{constructor(e){this.key=e}}class e2{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=yI(e),this.ma=new ga(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new OE,s=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),I=Ch(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;E&&I?E.data.isEqual(I.data)?C!==x&&(r.track({type:3,doc:I}),A=!0):this.ya(E,I)||(r.track({type:2,doc:I}),A=!0,(h&&this.Va(I,h)>0||p&&this.Va(I,p)<0)&&(c=!0)):!E&&I?(r.track({type:0,doc:I}),A=!0):E&&!I&&(r.track({type:1,doc:E}),A=!0,(h||p)&&(c=!0)),A&&(I?(l=l.add(I),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(I,C){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return x(I)-x(C)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(r),s=s!=null&&s;const c=n&&!s?this.Sa():[],h=this.Ra.size===0&&this.current&&!s?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new Sa(this.query,e.ma,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new OE,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new ZI(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new JI(r))}),n}va(e){this.Ea=e.Es,this.Ra=Oe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Sa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class t2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n2{constructor(e){this.key=e,this.Fa=!1}}class r2{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new ao(c=>gI(c),Ih),this.Oa=new Map,this.Na=new Set,this.Ba=new ct(_e.comparator),this.La=new Map,this.ka=new Bg,this.qa={},this.Qa=new Map,this.Ka=Ta.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function i2(t,e,n=!0){const r=sC(t);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await eC(r,e,n,!0),s}async function s2(t,e){const n=sC(t);await eC(n,e,!0,!1)}async function eC(t,e,n,r){const s=await RL(t.localStore,kr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await o2(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&$I(t.remoteStore,s),c}async function o2(t,e,n,r,s){t.Ua=(_,E,I)=>async function(x,A,b,j){let L=A.view.ga(b);L.ss&&(L=await kE(x.localStore,A.query,!1).then(({documents:D})=>A.view.ga(D,L)));const Q=j&&j.targetChanges.get(A.targetId),z=j&&j.targetMismatches.get(A.targetId)!=null,re=A.view.applyChanges(L,x.isPrimaryClient,Q,z);return jE(x,A.targetId,re.ba),re.snapshot}(t,_,E,I);const a=await kE(t.localStore,e,!0),l=new e2(e,a.Es),c=l.ga(a.documents),h=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,h);jE(t,n,p.ba);const g=new t2(e,n,l);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function a2(t,e,n){const r=Pe(t),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(l=>!Ih(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&qg(r.remoteStore,s.targetId),Nm(r,s.targetId)}).catch(Ma)):(Nm(r,s.targetId),await bm(r.localStore,s.targetId,!0))}async function l2(t,e){const n=Pe(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qg(n.remoteStore,r.targetId))}async function u2(t,e,n){const r=g2(t);try{const s=await function(l,c){const h=Pe(l),p=Pt.now(),g=c.reduce((I,C)=>I.add(C.key),Oe());let _,E;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=di(),x=Oe();return h.hs.getEntries(I,g).next(A=>{C=A,C.forEach((b,j)=>{j.isValidDocument()||(x=x.add(b))})}).next(()=>h.localDocuments.getOverlayedDocuments(I,C)).next(A=>{_=A;const b=[];for(const j of c){const L=PV(j,_.get(j.key).overlayedDocument);L!=null&&b.push(new lo(j.key,L,lI(L.value.mapValue),br.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,b,c)}).next(A=>{E=A;const b=A.applyToLocalDocumentSet(_,x);return h.documentOverlayCache.saveOverlays(I,A.batchId,b)})}).then(()=>({batchId:E.batchId,changes:_I(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let p=l.qa[l.currentUser.toKey()];p||(p=new ct(Le)),p=p.insert(c,h),l.qa[l.currentUser.toKey()]=p}(r,s.batchId,n),await ju(r,s.changes),await bh(r.remoteStore)}catch(s){const a=Qg(s,"Failed to persist write");n.reject(a)}}async function tC(t,e){const n=Pe(t);try{const r=await IL(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.La.get(a);l&&(We(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Fa=!0:s.modifiedDocuments.size>0?We(l.Fa):s.removedDocuments.size>0&&(We(l.Fa),l.Fa=!1))}),await ju(n,r,e)}catch(r){await Ma(r)}}function ME(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Pe(l);h.onlineState=c;let p=!1;h.queries.forEach((g,_)=>{for(const E of _.J_)E.ea(c)&&(p=!0)}),p&&Xg(h)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c2(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.La.get(e),a=s&&s.key;if(a){let l=new ct(_e.comparator);l=l.insert(a,en.newNoDocument(a,Re.min()));const c=Oe().add(a),h=new Ph(Re.min(),new Map,new ct(Le),l,c);await tC(r,h),r.Ba=r.Ba.remove(a),r.La.delete(e),Yg(r)}else await bm(r.localStore,e,!1).then(()=>Nm(r,e,n)).catch(Ma)}async function d2(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await SL(n.localStore,e);rC(n,r,null),nC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,s)}catch(s){await Ma(s)}}async function h2(t,e,n){const r=Pe(t);try{const s=await function(l,c){const h=Pe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(We(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);rC(r,e,n),nC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,s)}catch(s){await Ma(s)}}function nC(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function rC(t,e,n){const r=Pe(t);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||iC(t,r)})}function iC(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(qg(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),Yg(t))}function jE(t,e,n){for(const r of n)r instanceof JI?(t.ka.addReference(r.key,e),f2(t,r)):r instanceof ZI?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||iC(t,r.key)):Ae()}function f2(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.Na.add(r),Yg(t))}function Yg(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new _e(rt.fromString(e)),r=t.Ka.next();t.La.set(r,new n2(n)),t.Ba=t.Ba.insert(n,r),$I(t.remoteStore,new Gi(kr(Vg(n.path)),r,"TargetPurposeLimboResolution",Eh.oe))}}async function ju(t,e,n){const r=Pe(t),s=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{l.push(r.Ua(h,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=$g.zi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(s),await async function(h,p){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,E=>J.forEach(E.Wi,I=>g.persistence.referenceDelegate.addReference(_,E.targetId,I)).next(()=>J.forEach(E.Gi,I=>g.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))}catch(_){if(!ja(_))throw _;ce("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=g.us.get(E),C=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(C);g.us=g.us.insert(E,x)}}}(r.localStore,a))}async function p2(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await FI(n.localStore,e);n.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new fe(ee.CANCELLED,l))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.Ts)}}function m2(t,e){const n=Pe(t),r=n.La.get(e);if(r&&r.Fa)return Oe().add(r.key);{let s=Oe();const a=n.Oa.get(e);if(!a)return s;for(const l of a){const c=n.xa.get(l);s=s.unionWith(c.view.fa)}return s}}function sC(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c2.bind(null,e),e.Ma.R_=JL.bind(null,e.eventManager),e.Ma.Wa=ZL.bind(null,e.eventManager),e}function g2(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h2.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return TL(this.persistence,new wL,e.initialUser,this.serializer)}ja(e){return new jI(zg.ei,this.serializer)}za(e){return new xL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class y2 extends eh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){We(this.persistence.referenceDelegate instanceof Jd);const r=this.persistence.referenceDelegate.garbageCollector;return new sL(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new jI(r=>Jd.ei(r,n),this.serializer)}}class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ME(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p2.bind(null,this.syncEngine),await QL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YL}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(a){return new NL(a)}(e.databaseInfo);return function(a,l,c,h){return new LL(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new jL(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return DE.p()?new DE:new kL}())}createSyncEngine(e,n){return function(s,a,l,c,h,p,g){const _=new r2(s,a,l,c,h,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Pe(s);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Mu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=sI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await FI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _2(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>NE(e.remoteStore,s)),t._onlineComponents=e}async function _2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await Bp(t,new eh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Bp(t,new y2(void 0));return t._offlineComponents}async function aC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await FE(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await FE(t,new Om))),t._onlineComponents}function w2(t){return aC(t).then(e=>e.syncEngine)}async function Vm(t){const e=await aC(t),n=e.eventManager;return n.onListen=i2.bind(null,e.syncEngine),n.onUnlisten=a2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l2.bind(null,e.syncEngine),n}function E2(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new oC({next:E=>{g.eu(),l.enqueueAndForget(()=>XI(a,_)),E.fromCache&&h.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new YI(c,g,{includeMetadataChanges:!0,ua:!0});return QI(a,_)}(await Vm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e,n){if(!n)throw new fe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T2(t,e,n,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BE(t){if(!_e.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zE(t){if(_e.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OO;switch(r.type){case"firstParty":return new jO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UE.get(n);r&&(ce("ComponentProvider","Removing Datastore"),UE.delete(n),r.terminate())}(this),Promise.resolve()}}function S2(t,e,n,r={}){var s;const a=(t=es(t,Nh))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Zt.MOCK_USER;else{c=xk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Zt(p)}t._authCredentials=new VO(new iI(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class ts extends fs{constructor(e,n,r){super(e,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new _e(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function zp(t,e,...n){if(t=Ht(t),uC("collection","path",e),t instanceof Nh){const r=rt.fromString(e,...n);return zE(r),new ts(t,null,r)}{if(!(t instanceof xn||t instanceof ts))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return zE(r),new ts(t.firestore,null,r)}}function I2(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=sI.newId()),uC("doc","path",e),t instanceof Nh){const r=rt.fromString(e,...n);return BE(r),new xn(t,null,new _e(r))}{if(!(t instanceof xn||t instanceof ts))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return BE(r),new xn(t.firestore,t instanceof ts?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new BI(this,"async_queue_retry"),this.fu=()=>{const r=Up();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Zi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ja(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ci("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=Gg.createAndSchedule(this,e,n,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}function HE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ia extends Nh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function C2(t,e){const n=typeof t=="object"?t:iS(),r=typeof t=="string"?t:"(default)",s=yg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Rk("firestore");a&&S2(s,...a)}return s}function Jg(t){if(t._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A2(t),t._firestoreClient}function A2(t){var e,n,r;const s=t._freezeSettings(),a=function(c,h,p,g){return new ZO(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,lC(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new v2(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(Wt.fromBase64String(e))}catch(n){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ca(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=/^__.*__$/;class P2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}function cC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class ry{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return th(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(cC(this.Mu)&&R2.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class x2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}$u(e,n,r,s=!1){return new ry({Mu:e,methodName:n,Ku:r,path:qt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dC(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new x2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k2(t,e,n,r,s,a={}){const l=t.$u(a.merge||a.mergeFields?2:0,e,n,s);pC("Data must be an object, but it was:",l,r);const c=hC(r,l);let h,p;if(a.merge)h=new cr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=D2(e,_,n);if(!l.contains(E))throw new fe(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);O2(g,E)||g.push(E)}h=new cr(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new P2(new $n(c),h,p)}class iy extends ey{_toFieldTransform(e){return new IV(e.path,new mu)}isEqual(e){return e instanceof iy}}function b2(t,e,n,r=!1){return sy(n,t.$u(r?4:3,e))}function sy(t,e){if(fC(t=Ht(t)))return pC("Unsupported field value:",e,t),hC(t,e);if(t instanceof ey)return function(r,s){if(!cC(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let h=sy(c,s.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:Yd(s.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(s.serializer,a)}}if(r instanceof ty)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ca)return{bytesValue:bI(s.serializer,r._byteString)};if(r instanceof xn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ug(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ny)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return Lg(c.serializer,h)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Dh(r)}`)}(t,e)}function hC(t,e){const n={};return oI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,s)=>{const a=sy(s,e.Ou(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function fC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof ty||t instanceof Ca||t instanceof xn||t instanceof ey||t instanceof ny)}function pC(t,e,n){if(!fC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Dh(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function D2(t,e,n){if((e=Ht(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return mC(t,e);throw th("Field path arguments must be of type string or ",t,!1,void 0,n)}const N2=new RegExp("[~\\*/\\[\\]]");function mC(t,e,n){if(e.search(N2)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zg(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function th(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new fe(ee.INVALID_ARGUMENT,c+t+h)}function O2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V2 extends gC{data(){return super.data()}}function Oh(t,e){return typeof e=="string"?mC(t,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class vC extends oy{}function WE(t,e,...n){let r=[];e instanceof oy&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof ay).length,c=a.filter(h=>h instanceof Vh).length;if(l>1||l>0&&c>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Vh extends vC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vh(e,n,r)}_apply(e){const n=this._parse(e);return _C(e._query,n),new fs(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=dC(e.firestore);return function(a,l,c,h,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){GE(_,g);const I=[];for(const C of _)I.push(KE(h,a,C));E={arrayValue:{values:I}}}else E=KE(h,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||GE(_,g),E=b2(c,l,_,g==="in"||g==="not-in");return Tt.create(p,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function L2(t,e,n){const r=e,s=Oh("where",t);return Vh._create(s,r,n)}class ay extends oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ay(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)_C(l,h),l=Cm(l,h)}(e._query,n),new fs(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends vC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ly(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(a,l)}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Fa(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function M2(t,e="asc"){const n=e,r=Oh("orderBy",t);return ly._create(r,n)}function KE(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mI(e)&&n.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hE(t,new _e(r))}if(n instanceof xn)return hE(t,n._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function GE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _C(t,e){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class j2{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>gt(l.doubleValue));return new ny(a)}convertGeoPoint(e){return new ty(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);We(MI(r));const s=new hu(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(n)||ci(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wC extends gC{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bd extends wC{data(e={}){return super.data(e)}}class EC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Kl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bd(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new bd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Kl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new bd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Kl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:U2(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function U2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class uy extends j2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function B2(t){t=es(t,fs);const e=es(t.firestore,Ia),n=Jg(e),r=new uy(e);return yC(t._query),E2(n,t._query).then(s=>new EC(e,r,t,s))}function z2(t){return TC(es(t.firestore,Ia),[new Mg(t._key,br.none())])}function $2(t,e){const n=es(t.firestore,Ia),r=I2(t),s=F2(t.converter,e);return TC(n,[k2(dC(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}function q2(t,...e){var n,r,s;t=Ht(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||HE(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(HE(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let h,p,g;if(t instanceof xn)p=es(t.firestore,Ia),g=Vg(t._key.path),h={next:_=>{e[l]&&e[l](H2(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=es(t,fs);p=es(_.firestore,Ia),g=_._query;const E=new uy(p);h={next:I=>{e[l]&&e[l](new EC(p,E,_,I))},error:e[l+1],complete:e[l+2]},yC(t._query)}return function(E,I,C,x){const A=new oC(x),b=new YI(I,A,C);return E.asyncQueue.enqueueAndForget(async()=>QI(await Vm(E),b)),()=>{A.eu(),E.asyncQueue.enqueueAndForget(async()=>XI(await Vm(E),b))}}(Jg(p),g,c,h)}function TC(t,e){return function(r,s){const a=new Zi;return r.asyncQueue.enqueueAndForget(async()=>u2(await w2(r),s,a)),a.promise}(Jg(t),e)}function H2(t,e,n){const r=n.docs.get(e._key),s=new uy(t);return new wC(t,s,e._key,r,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}function W2(){return new iy("serverTimestamp")}(function(e,n=!0){(function(s){La=s})(Oa),ya(new to("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ia(new LO(r.getProvider("auth-internal")),new UO(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Yi(oE,"4.7.6",e),Yi(oE,"4.7.6","esm2017")})();var K2="firebase",G2="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(K2,G2,"app");const Q2={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},SC=rS(Q2);wh(SC);const $p=C2(SC);function IC({show:t,onClose:e,onConfirm:n}){return t?S.jsx("div",{className:"modal-overlay",children:S.jsxs("div",{className:"modal-content",children:[S.jsx("h2",{children:"Choose Your Identity"}),S.jsx("p",{children:"Do you want to chat anonymously or use your name?"}),S.jsxs("div",{className:"modal-buttons",children:[S.jsx("button",{onClick:()=>n("anonymous"),children:"Secret "}),S.jsx("button",{onClick:()=>n("named"),children:"Say My Name "})]})]})}):null}IC.propTypes={show:he.bool.isRequired,onClose:he.func.isRequired,onConfirm:he.func.isRequired};function X2(){const{SpCode:t,user:e}=rs(),[n,r]=O.useState([]),[s,a]=O.useState(""),[l,c]=O.useState(null),[h,p]=O.useState(!0);O.useEffect(()=>{if(!t)return;const I=zp($p,`spaces/${t}/messages`),C=WE(I,M2("timestamp","asc")),x=q2(C,A=>{r(A.docs.map(b=>({id:b.id,...b.data()})))});return()=>x()},[t]);const g=async I=>{if(I.preventDefault(),!s.trim())return;const C=new Date;C.setDate(C.getDate()+7);const x=l==="anonymous"?"Anonymous":(e==null?void 0:e.displayName)||"Anonymous",A=l==="anonymous"?"anonymous":(e==null?void 0:e.uid)||"Unknown";try{await $2(zp($p,`spaces/${t}/messages`),{text:s,sender:x,senderId:A,timestamp:W2(),expiresAt:C}),a("")}catch(b){console.error("Error sending message:",b)}},_=async()=>{const I=zp($p,`spaces/${t}/messages`),C=new Date;C.setDate(C.getDate()-7);const x=WE(I,L2("expiresAt","<",C));(await B2(x)).forEach(async b=>{await z2(b.ref)}),alert("Messages older than 7 days have been deleted.")},E=I=>{c(I),p(!1)};return S.jsxs("div",{className:"chat-container",children:[S.jsx(IC,{show:h,onClose:()=>p(!1),onConfirm:E}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h2",{children:"Chat Room"}),S.jsx("button",{className:"delete-btn",onClick:_,children:"Delete Old Messages"})]}),S.jsx("div",{className:"chat-messages",children:n.map(I=>S.jsxs("div",{className:`chat-message ${I.senderId===(e==null?void 0:e.uid)||I.senderId==="anonymous"?"own-message":""}`,children:[S.jsx("strong",{children:I.sender}),": ",I.text]},I.id))}),S.jsxs("form",{onSubmit:g,className:"chat-input-form",children:[S.jsx("input",{type:"text",placeholder:"Type a message...",value:s,onChange:I=>a(I.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Send"})]})]})}function Y2(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,a]=O.useState(""),[l,c]=O.useState(""),[h,p]=O.useState(""),[g,_]=O.useState("In Progress"),{SpCode:E}=pi(),I=Wn(),C=async x=>{x.preventDefault();const A={SpCode:E,projectCode:t,name:n,status:g,description:s,teamLead:l,members:h.split(",").map(b=>b.trim())};try{await Ke.post(`/api/space/${E}/projects/create`,A),I(`/space/${E}`)}catch(b){console.error("Error creating project:",b)}};return S.jsxs("div",{children:[S.jsx("h1",{children:"Create Project"}),S.jsx("div",{className:"form-container",children:S.jsxs("form",{onSubmit:C,children:[S.jsx("label",{children:"Project Code:"}),S.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),required:!0}),S.jsx("label",{children:"Name:"}),S.jsx("input",{type:"text",value:n,onChange:x=>r(x.target.value),required:!0}),S.jsx("label",{children:"Description:"}),S.jsx("textarea",{value:s,onChange:x=>a(x.target.value),required:!0}),S.jsx("label",{children:"Team Lead:"}),S.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),required:!0}),S.jsx("label",{children:"Members (comma separated):"}),S.jsx("input",{type:"text",value:h,onChange:x=>p(x.target.value)}),S.jsx("label",{children:"Status:"}),S.jsxs("select",{value:g,onChange:x=>_(x.target.value),required:!0,children:[S.jsx("option",{value:"",children:"Select Status"}),S.jsx("option",{value:"Not Started",children:"Not Started"}),S.jsx("option",{value:"In Progress",children:"In Progress"}),S.jsx("option",{value:"Completed",children:"Completed"}),S.jsx("option",{value:"On Hold",children:"On Hold"})]}),S.jsx("button",{type:"submit",children:"Create Project"})]})})]})}function J2(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,a]=O.useState(""),[l,c]=O.useState(""),[h,p]=O.useState("In Progress"),{SpCode:g,projectCode:_}=pi(),E=Wn(),I="https://azign-backend.onrender.com";O.useEffect(()=>{(async()=>{try{const b=(await Ke.get(`${I}/api/space/${g}/projects/${_}`)).data;e(b.name),r(b.description),a(b.teamLead),c(b.members.join(", "))}catch(A){console.error("Error fetching project:",A)}})()},[g,_]);const C=async x=>{x.preventDefault();const A={name:t,description:n,teamLead:s,status:h,members:l.split(",").map(b=>b.trim())};try{await Ke.put(`${I}/api/space/${g}/projects/${_}/update`,A),E(`/space/${g}`)}catch(b){console.error("Error updating project:",b)}};return S.jsxs("div",{children:[S.jsx("h1",{children:"Update Project"}),S.jsx("div",{className:"form-container",children:S.jsxs("form",{onSubmit:C,children:[S.jsx("label",{children:"Name:"}),S.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),required:!0}),S.jsx("label",{children:"Description:"}),S.jsx("textarea",{value:n,onChange:x=>r(x.target.value),required:!0}),S.jsx("label",{children:"Team Lead:"}),S.jsx("input",{type:"text",value:s,onChange:x=>a(x.target.value),required:!0}),S.jsx("label",{children:"Members (comma separated):"}),S.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value)}),S.jsx("label",{children:"Status:"}),S.jsxs("select",{value:h,onChange:x=>p(x.target.value),required:!0,children:[S.jsx("option",{value:"Not Started",children:"Not Started"}),S.jsx("option",{value:"In Progress",children:"In Progress"}),S.jsx("option",{value:"Completed",children:"Completed"}),S.jsx("option",{value:"On Hold",children:"On Hold"})]}),S.jsx("button",{type:"submit",children:"Update Project"})]})})]})}function Z2(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,a]=O.useState(""),[l,c]=O.useState("To Do"),[h,p]=O.useState(""),[g,_]=O.useState("Low"),[E,I]=O.useState(""),[C,x]=O.useState(""),[A,b]=O.useState(""),{SpCode:j}=pi(),L=Wn(),Q=async z=>{var R,k,M;z.preventDefault();const re=new Date(A).toISOString(),D={SpCode:j,taskId:t,projectId:n,title:s,status:l,assignedTo:h,priority:g,assignedBy:E,description:C,deadline:re};try{const U=await Ke.post(`/api/space/${j}/tasks/create`,D);console.log("Response:",U.data),L(`/space/${j}`)}catch(U){console.error("Error creating task:",((R=U.response)==null?void 0:R.data)||U.message),alert(`Error creating task: ${((M=(k=U.response)==null?void 0:k.data)==null?void 0:M.error)||U.message}`)}};return S.jsxs("div",{children:[S.jsx("h1",{children:"Create Task"}),S.jsx("div",{className:"form-container",children:S.jsxs("form",{onSubmit:Q,children:[S.jsx("label",{children:"Task ID:"}),S.jsx("input",{type:"text",value:t,onChange:z=>e(z.target.value),required:!0}),S.jsx("label",{children:"Project ID:"}),S.jsx("input",{type:"text",value:n,onChange:z=>r(z.target.value),required:!0}),S.jsx("label",{children:"Title:"}),S.jsx("input",{type:"text",value:s,onChange:z=>a(z.target.value),required:!0}),S.jsx("label",{children:"Status:"}),S.jsxs("select",{value:l,onChange:z=>c(z.target.value),required:!0,children:[S.jsx("option",{value:"To Do",children:"To Do"}),S.jsx("option",{value:"In Progress",children:"In Progress"}),S.jsx("option",{value:"Completed",children:"Completed"}),S.jsx("option",{value:"Pending",children:"Pending"})]}),S.jsx("label",{children:"Assigned To:"}),S.jsx("input",{type:"text",value:h,onChange:z=>p(z.target.value),required:!0}),S.jsx("label",{children:"Priority:"}),S.jsxs("select",{value:g,onChange:z=>_(z.target.value),required:!0,children:[S.jsx("option",{value:"Low",children:"Low"}),S.jsx("option",{value:"Medium",children:"Medium"}),S.jsx("option",{value:"High",children:"High"})]}),S.jsx("label",{children:"Assigned By:"}),S.jsx("input",{type:"text",value:E,onChange:z=>I(z.target.value),required:!0}),S.jsx("label",{children:"Description:"}),S.jsx("textarea",{value:C,onChange:z=>x(z.target.value),required:!0}),S.jsx("label",{children:"Deadline:"}),S.jsx("input",{type:"date",value:A,onChange:z=>b(z.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Create Task"})]})})]})}function eM(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,a]=O.useState(""),[l,c]=O.useState(""),[h,p]=O.useState(""),[g,_]=O.useState(""),[E,I]=O.useState(""),{SpCode:C,taskId:x}=pi(),A=Wn(),b="https://azign-backend.onrender.com";O.useEffect(()=>{(async()=>{try{const z=(await Ke.get(`${b}/api/space/${C}/tasks/${x}`)).data;e(z.title),r(z.status),a(z.assignedTo),c(z.priority),p(z.assignedBy),_(z.description),I(z.deadline.split("T")[0])}catch(Q){console.error("Error fetching task:",Q)}})()},[C,x]);const j=async L=>{L.preventDefault();const Q={title:t,status:n,assignedTo:s,priority:l,assignedBy:h,description:g,deadline:E};try{await Ke.put(`/api/space/${C}/tasks/${x}/update`,Q),A(`/space/${C}`)}catch(z){console.error("Error updating task:",z)}};return S.jsxs("div",{children:[S.jsx("h1",{children:"Update Task"}),S.jsx("div",{className:"form-container",children:S.jsxs("form",{onSubmit:j,children:[S.jsx("label",{children:"Title:"}),S.jsx("input",{type:"text",value:t,onChange:L=>e(L.target.value),required:!0}),S.jsx("label",{children:"Status:"}),S.jsxs("select",{value:n,onChange:L=>r(L.target.value),required:!0,children:[S.jsx("option",{value:"To Do",children:"To Do"}),S.jsx("option",{value:"In Progress",children:"In Progress"}),S.jsx("option",{value:"Completed",children:"Completed"}),S.jsx("option",{value:"Pending",children:"Pending"})]}),S.jsx("label",{children:"Assigned To:"}),S.jsx("input",{type:"text",value:s,onChange:L=>a(L.target.value),required:!0}),S.jsx("label",{children:"Priority:"}),S.jsxs("select",{value:l,onChange:L=>c(L.target.value),required:!0,children:[S.jsx("option",{value:"Low",children:"Low"}),S.jsx("option",{value:"Medium",children:"Medium"}),S.jsx("option",{value:"High",children:"High"})]}),S.jsx("label",{children:"Assigned By:"}),S.jsx("input",{type:"text",value:h,onChange:L=>p(L.target.value),required:!0}),S.jsx("label",{children:"Description:"}),S.jsx("textarea",{value:g,onChange:L=>_(L.target.value),required:!0}),S.jsx("label",{children:"Deadline:"}),S.jsx("input",{type:"date",value:E,onChange:L=>I(L.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Update Task"})]})})]})}function CC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=CC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Js(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=CC(t))&&(r&&(r+=" "),r+=e);return r}function tM(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}tM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Fu=t=>typeof t=="number"&&!isNaN(t),so=t=>typeof t=="string",hi=t=>typeof t=="function",nM=t=>so(t)||Fu(t),Lm=t=>so(t)||hi(t)?t:null,rM=(t,e)=>t===!1||Fu(t)&&t>0?t:e,Mm=t=>O.isValidElement(t)||so(t)||hi(t)||Fu(t);function iM(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function sM({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:c,done:h,nodeRef:p,isIn:g,playToast:_}){let E=n?`${t}--${l}`:t,I=n?`${e}--${l}`:e,C=O.useRef(0);return O.useLayoutEffect(()=>{let x=p.current,A=E.split(" "),b=j=>{j.target===p.current&&(_(),x.removeEventListener("animationend",b),x.removeEventListener("animationcancel",b),C.current===0&&j.type!=="animationcancel"&&x.classList.remove(...A))};x.classList.add(...A),x.addEventListener("animationend",b),x.addEventListener("animationcancel",b)},[]),O.useEffect(()=>{let x=p.current,A=()=>{x.removeEventListener("animationend",A),r?iM(x,h,s):h()};g||(c?A():(C.current=1,x.className+=` ${I}`,x.addEventListener("animationend",A)))},[g]),ze.createElement(ze.Fragment,null,a)}}function QE(t,e){return{content:AC(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function AC(t,e,n=!1){return O.isValidElement(t)&&!so(t.type)?O.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):hi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function oM({closeToast:t,theme:e,ariaLabel:n="close"}){return ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aM({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:a,controlledProgress:l,progress:c,rtl:h,isIn:p,theme:g}){let _=s||l&&c===0,E={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(E.transform=`scaleX(${c})`);let I=Js("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),C=hi(a)?a({rtl:h,type:r,defaultClassName:I}):Js(I,a),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{p&&n()}};return ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),ze.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:C,style:E,...x}))}var lM=1,RC=()=>`${lM++}`;function uM(t,e,n){let r=1,s=0,a=[],l=[],c=e,h=new Map,p=new Set,g=j=>(p.add(j),()=>p.delete(j)),_=()=>{l=Array.from(h.values()),p.forEach(j=>j())},E=({containerId:j,toastId:L,updateId:Q})=>{let z=j?j!==t:t!==1,re=h.has(L)&&Q==null;return z||re},I=(j,L)=>{h.forEach(Q=>{var z;(L==null||L===Q.props.toastId)&&((z=Q.toggle)==null||z.call(Q,j))})},C=j=>{var L,Q;(Q=(L=j.props)==null?void 0:L.onClose)==null||Q.call(L,j.removalReason),j.isActive=!1},x=j=>{if(j==null)h.forEach(C);else{let L=h.get(j);L&&C(L)}_()},A=()=>{s-=a.length,a=[]},b=j=>{var L,Q;let{toastId:z,updateId:re}=j.props,D=re==null;j.staleId&&h.delete(j.staleId),j.isActive=!0,h.set(z,j),_(),n(QE(j,D?"added":"updated")),D&&((Q=(L=j.props).onOpen)==null||Q.call(L))};return{id:t,props:c,observe:g,toggle:I,removeToast:x,toasts:h,clearQueue:A,buildToast:(j,L)=>{if(E(L))return;let{toastId:Q,updateId:z,data:re,staleId:D,delay:R}=L,k=z==null;k&&s++;let M={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(L).filter(([$,V])=>V!=null)),toastId:Q,updateId:z,data:re,isIn:!1,className:Lm(L.className||c.toastClassName),progressClassName:Lm(L.progressClassName||c.progressClassName),autoClose:L.isLoading?!1:rM(L.autoClose,c.autoClose),closeToast($){h.get(Q).removalReason=$,x(Q)},deleteToast(){let $=h.get(Q);if($!=null){if(n(QE($,"removed")),h.delete(Q),s--,s<0&&(s=0),a.length>0){b(a.shift());return}_()}}};M.closeButton=c.closeButton,L.closeButton===!1||Mm(L.closeButton)?M.closeButton=L.closeButton:L.closeButton===!0&&(M.closeButton=Mm(c.closeButton)?c.closeButton:!0);let U={content:j,props:M,staleId:D};c.limit&&c.limit>0&&s>c.limit&&k?a.push(U):Fu(R)?setTimeout(()=>{b(U)},R):b(U)},setProps(j){c=j},setToggle:(j,L)=>{let Q=h.get(j);Q&&(Q.toggle=L)},isToastActive:j=>{var L;return(L=h.get(j))==null?void 0:L.isActive},getSnapshot:()=>l}}var un=new Map,vu=[],jm=new Set,cM=t=>jm.forEach(e=>e(t)),PC=()=>un.size>0;function dM(){vu.forEach(t=>kC(t.content,t.options)),vu=[]}var hM=(t,{containerId:e})=>{var n;return(n=un.get(e||1))==null?void 0:n.toasts.get(t)};function xC(t,e){var n;if(e)return!!((n=un.get(e))!=null&&n.isToastActive(t));let r=!1;return un.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function fM(t){if(!PC()){vu=vu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||nM(t))un.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=un.get(t.containerId);e?e.removeToast(t.id):un.forEach(n=>{n.removeToast(t.id)})}}var pM=(t={})=>{un.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function kC(t,e){Mm(t)&&(PC()||vu.push({content:t,options:e}),un.forEach(n=>{n.buildToast(t,e)}))}function mM(t){var e;(e=un.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function bC(t,e){un.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function gM(t){let e=t.containerId||1;return{subscribe(n){let r=uM(e,t,cM);un.set(e,r);let s=r.observe(n);return dM(),()=>{s(),un.delete(e)}},setProps(n){var r;(r=un.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=un.get(e))==null?void 0:n.getSnapshot()}}}function yM(t){return jm.add(t),()=>{jm.delete(t)}}function vM(t){return t&&(so(t.toastId)||Fu(t.toastId))?t.toastId:RC()}function Uu(t,e){return kC(t,e),e.toastId}function Lh(t,e){return{...e,type:e&&e.type||t,toastId:vM(e)}}function Mh(t){return(e,n)=>Uu(e,Lh(t,n))}function He(t,e){return Uu(t,Lh("default",e))}He.loading=(t,e)=>Uu(t,Lh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _M(t,{pending:e,error:n,success:r},s){let a;e&&(a=so(e)?He.loading(e,s):He.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,g,_)=>{if(g==null){He.dismiss(a);return}let E={type:p,...l,...s,data:_},I=so(g)?{render:g}:g;return a?He.update(a,{...E,...I}):He(I.render,{...E,...I}),_},h=hi(t)?t():t;return h.then(p=>c("success",r,p)).catch(p=>c("error",n,p)),h}He.promise=_M;He.success=Mh("success");He.info=Mh("info");He.error=Mh("error");He.warning=Mh("warning");He.warn=He.warning;He.dark=(t,e)=>Uu(t,Lh("default",{theme:"dark",...e}));function wM(t){fM(t)}He.dismiss=wM;He.clearWaitingQueue=pM;He.isActive=xC;He.update=(t,e={})=>{let n=hM(t,e);if(n){let{props:r,content:s}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:RC()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,Uu(l,a)}};He.done=t=>{He.update(t,{progress:1})};He.onChange=yM;He.play=t=>bC(!0,t);He.pause=t=>bC(!1,t);function EM(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=O.useRef(gM(t)).current;s(t);let a=(e=O.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let h=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;h.has(g)||h.set(g,[]),h.get(g).push(p)}),Array.from(h,p=>c(p[0],p[1]))}return{getToastToRender:l,isToastActive:xC,count:a==null?void 0:a.length}}function TM(t){let[e,n]=O.useState(!1),[r,s]=O.useState(!1),a=O.useRef(null),l=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:p,onClick:g,closeOnClick:_}=t;mM({id:t.toastId,containerId:t.containerId,fn:n}),O.useEffect(()=>{if(t.pauseOnFocusLoss)return E(),()=>{I()}},[t.pauseOnFocusLoss]);function E(){document.hasFocus()||b(),window.addEventListener("focus",A),window.addEventListener("blur",b)}function I(){window.removeEventListener("focus",A),window.removeEventListener("blur",b)}function C(D){if(t.draggable===!0||t.draggable===D.pointerType){j();let R=a.current;l.canCloseOnClick=!0,l.canDrag=!0,R.style.transition="none",t.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=R.offsetWidth*(t.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=R.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function x(D){let{top:R,bottom:k,left:M,right:U}=a.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=M&&D.clientX<=U&&D.clientY>=R&&D.clientY<=k?b():A()}function A(){n(!0)}function b(){n(!1)}function j(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",z)}function L(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",z)}function Q(D){let R=a.current;if(l.canDrag&&R){l.didMove=!0,e&&b(),t.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let k=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;R.style.transform=`translate3d(${k},0)`,R.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function z(){L();let D=a.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let re={onPointerDown:C,onPointerUp:x};return c&&h&&(re.onMouseEnter=b,t.stacked||(re.onMouseLeave=A)),_&&(re.onClick=D=>{g&&g(D),l.canCloseOnClick&&p(!0)}),{playToast:A,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:re}}var SM=typeof window<"u"?O.useLayoutEffect:O.useEffect,jh=({theme:t,type:e,isLoading:n,...r})=>ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function IM(t){return ze.createElement(jh,{...t},ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CM(t){return ze.createElement(jh,{...t},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function AM(t){return ze.createElement(jh,{...t},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function RM(t){return ze.createElement(jh,{...t},ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function PM(){return ze.createElement("div",{className:"Toastify__spinner"})}var Fm={info:CM,warning:IM,success:AM,error:RM,spinner:PM},xM=t=>t in Fm;function kM({theme:t,type:e,isLoading:n,icon:r}){let s=null,a={theme:t,type:e};return r===!1||(hi(r)?s=r({...a,isLoading:n}):O.isValidElement(r)?s=O.cloneElement(r,a):n?s=Fm.spinner():xM(e)&&(s=Fm[e](a))),s}var bM=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:a}=TM(t),{closeButton:l,children:c,autoClose:h,onClick:p,type:g,hideProgressBar:_,closeToast:E,transition:I,position:C,className:x,style:A,progressClassName:b,updateId:j,role:L,progress:Q,rtl:z,toastId:re,deleteToast:D,isIn:R,isLoading:k,closeOnClick:M,theme:U,ariaLabel:$}=t,V=Js("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":M}),Xe=hi(x)?x({rtl:z,position:C,type:g,defaultClassName:V}):Js(V,x),yt=kM(t),vt=!!Q||!h,Se={closeToast:E,type:g,theme:U},se=null;return l===!1||(hi(l)?se=l(Se):O.isValidElement(l)?se=O.cloneElement(l,Se):se=oM(Se)),ze.createElement(I,{isIn:R,done:D,position:C,preventExitTransition:n,nodeRef:r,playToast:a},ze.createElement("div",{id:re,tabIndex:0,onClick:p,"data-in":R,className:Xe,...s,style:A,ref:r,...R&&{role:L,"aria-label":$}},yt!=null&&ze.createElement("div",{className:Js("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},yt),AC(c,t,!e),se,!t.customProgressBar&&ze.createElement(aM,{...j&&!vt?{key:`p-${j}`}:{},rtl:z,theme:U,delay:h,isRunning:e,isIn:R,closeToast:E,hide:_,type:g,className:b,controlledProgress:vt,progress:Q||0})))},DM=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),NM=sM(DM("bounce",!0)),OM={position:"top-right",transition:NM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function DC(t){let e={...OM,...t},n=t.stacked,[r,s]=O.useState(!0),a=O.useRef(null),{getToastToRender:l,isToastActive:c,count:h}=EM(e),{className:p,style:g,rtl:_,containerId:E,hotKeys:I}=e;function C(A){let b=Js("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":_});return hi(p)?p({position:A,rtl:_,defaultClassName:b}):Js(b,Lm(p))}function x(){n&&(s(!0),He.play())}return SM(()=>{var A;if(n){let b=a.current.querySelectorAll('[data-in="true"]'),j=12,L=(A=e.position)==null?void 0:A.includes("top"),Q=0,z=0;Array.from(b).reverse().forEach((re,D)=>{let R=re;R.classList.add("Toastify__toast--stacked"),D>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=L?"top":"bot");let k=Q*(r?.2:1)+(r?0:j*D);R.style.setProperty("--y",`${L?k:k*-1}px`),R.style.setProperty("--g",`${j}`),R.style.setProperty("--s",`${1-(r?z:0)}`),Q+=R.offsetHeight,z+=.025})}},[r,h,n]),O.useEffect(()=>{function A(b){var j;let L=a.current;I(b)&&((j=L.querySelector('[tabIndex="0"]'))==null||j.focus(),s(!1),He.pause()),b.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(s(!0),He.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[I]),ze.createElement("section",{ref:a,className:"Toastify",id:E,onMouseEnter:()=>{n&&(s(!1),He.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((A,b)=>{let j=b.length?{...g}:{...g,pointerEvents:"none"};return ze.createElement("div",{tabIndex:-1,className:C(A),"data-stacked":n,style:j,key:`c-${A}`},b.map(({content:L,props:Q})=>ze.createElement(bM,{...Q,stacked:n,collapseAll:x,isIn:c(Q.toastId,Q.containerId),key:`t-${Q.key}`},L)))}))}function VM(){const[t,e]=O.useState(""),{SpCode:n,projectCode:r}=pi(),s=Wn(),a="https://azign-backend.onrender.com",l=async c=>{c.preventDefault();const h={comment:t};try{await Ke.post(`${a}/api/space/${n}/projects/${r}/comments`,h),He.success("Comment added successfully!"),s(`/space/${n}/projects/${r}`)}catch(p){console.error("Error adding comment to project:",p),He.error("Error adding comment to project!")}};return S.jsxs("div",{children:[S.jsx("h1",{children:"Add Comment to Project"}),S.jsx("div",{className:"form-container",children:S.jsxs("form",{onSubmit:l,children:[S.jsx("label",{children:"Comment:"}),S.jsx("textarea",{value:t,onChange:c=>e(c.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Add Comment"})]})}),S.jsx(DC,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}function LM(){const{userName:t}=rs(),[e,n]=O.useState(""),{SpCode:r,taskId:s}=pi(),a=Wn(),[l,c]=O.useState(!1),h="https://azign-backend.onrender.com",p=async g=>{g.preventDefault(),c(!0);const _={author:t,text:e};try{await Ke.post(`${h}/api/space/${r}/tasks/${s}/comments`,_),He.success("Comment added successfully!"),a(`/space/${r}/tasks/${s}`)}catch(E){console.error("Error adding comment to task:",E),He.error("Error adding comment to task!")}finally{c(!1)}};return S.jsxs("div",{children:[S.jsx("h1",{children:"Add Comment to Task"}),S.jsx("div",{className:"form-container",children:S.jsxs("form",{onSubmit:p,children:[S.jsx("label",{children:"Author:"}),S.jsx("input",{type:"text",value:t,readOnly:!0})," ",S.jsx("label",{children:"Comment:"}),S.jsx("textarea",{value:e,onChange:g=>n(g.target.value),required:!0}),S.jsx("button",{type:"submit",disabled:l,children:l?"Submitting...":"Add Comment"})]})}),S.jsx(DC,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}const NC=O.createContext({});function MM(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const cy=O.createContext(null),OC=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jM(t=!0){const e=O.useContext(cy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{t&&s(a)},[t]);const l=O.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const dy=typeof window<"u",FM=dy?O.useLayoutEffect:O.useEffect,kn=t=>t;let Um=kn;function hy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Aa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},oi=t=>t*1e3,ai=t=>t/1e3,UM={skipAnimations:!1,useManualTiming:!1};function BM(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(h.schedule(p),t()),p(l)}const h={schedule:(p,g=!1,_=!1)=>{const I=_&&r?e:n;return g&&a.add(p),I.has(p)||I.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,h.process(p))}};return h}const pd=["read","resolveKeyframes","update","preRender","render","postRender"],zM=40;function VC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=pd.reduce((b,j)=>(b[j]=BM(a),b),{}),{read:c,resolveKeyframes:h,update:p,preRender:g,render:_,postRender:E}=l,I=()=>{const b=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,zM),1),s.timestamp=b,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(I))},C=()=>{n=!0,r=!0,s.isProcessing||t(I)};return{schedule:pd.reduce((b,j)=>{const L=l[j];return b[j]=(Q,z=!1,re=!1)=>(n||C(),L.schedule(Q,z,re)),b},{}),cancel:b=>{for(let j=0;j<pd.length;j++)l[pd[j]].cancel(b)},state:s,steps:l}}const{schedule:et,cancel:us,state:zt,steps:qp}=VC(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),LC=O.createContext({strict:!1}),XE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ra={};for(const t in XE)Ra[t]={isEnabled:e=>XE[t].some(n=>!!e[n])};function $M(t){for(const e in t)Ra[e]={...Ra[e],...t[e]}}const qM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qM.has(t)}let MC=t=>!nh(t);function HM(t){t&&(MC=e=>e.startsWith("on")?!nh(e):t(e))}try{HM(require("@emotion/is-prop-valid").default)}catch{}function WM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(MC(s)||n===!0&&nh(s)||!e&&!nh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function KM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Fh=O.createContext({});function Uh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _u(t){return typeof t=="string"||Array.isArray(t)}const fy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],py=["initial",...fy];function Bh(t){return Uh(t.animate)||py.some(e=>_u(t[e]))}function jC(t){return!!(Bh(t)||t.variants)}function GM(t,e){if(Bh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_u(n)?n:void 0,animate:_u(r)?r:void 0}}return t.inherit!==!1?e:{}}function QM(t){const{initial:e,animate:n}=GM(t,O.useContext(Fh));return O.useMemo(()=>({initial:e,animate:n}),[YE(e),YE(n)])}function YE(t){return Array.isArray(t)?t.join(" "):t}const XM=Symbol.for("motionComponentSymbol");function la(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YM(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):la(n)&&(n.current=r))},[e])}const my=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JM="framerAppearId",FC="data-"+my(JM),{schedule:gy,cancel:m3}=VC(queueMicrotask,!1),UC=O.createContext({});function ZM(t,e,n,r,s){var a,l;const{visualElement:c}=O.useContext(Fh),h=O.useContext(LC),p=O.useContext(cy),g=O.useContext(OC).reducedMotion,_=O.useRef(null);r=r||h.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,I=O.useContext(UC);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&ej(_.current,n,s,I);const C=O.useRef(!1);O.useInsertionEffect(()=>{E&&C.current&&E.update(n,p)});const x=n[FC],A=O.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,x)));return FM(()=>{E&&(C.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),gy.render(E.render),A.current&&E.animationState&&E.animationState.animateChanges())}),O.useEffect(()=>{E&&(!A.current&&E.animationState&&E.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,x)}),A.current=!1))}),E}function ej(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BC(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&la(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function BC(t){if(t)return t.options.allowProjection!==!1?t.projection:BC(t.parent)}function tj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&$M(t);function c(p,g){let _;const E={...O.useContext(OC),...p,layoutId:nj(p)},{isStatic:I}=E,C=QM(p),x=r(p,I);if(!I&&dy){rj();const A=ij(E);_=A.MeasureLayout,C.visualElement=ZM(s,x,E,e,A.ProjectionNode)}return S.jsxs(Fh.Provider,{value:C,children:[_&&C.visualElement?S.jsx(_,{visualElement:C.visualElement,...E}):null,n(s,p,YM(x,C.visualElement,g),x,I,C.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const h=O.forwardRef(c);return h[XM]=s,h}function nj({layoutId:t}){const e=O.useContext(NC).id;return e&&t!==void 0?e+"-"+t:t}function rj(t,e){O.useContext(LC).strict}function ij(t){const{drag:e,layout:n}=Ra;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const zC=t=>e=>typeof e=="string"&&e.startsWith(t),yy=zC("--"),sj=zC("var(--"),vy=t=>sj(t)?oj.test(t.split("/*")[0].trim()):!1,oj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wu={};function aj(t){for(const e in t)wu[e]=t[e],yy(e)&&(wu[e].isCSSVariable=!0)}const Ba=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(Ba);function $C(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wu[t]||t==="opacity")}const nn=t=>!!(t&&t.getVelocity),qC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fi=(t,e,n)=>n>e?e:n<t?t:n,za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eu={...za,transform:t=>fi(0,1,t)},md={...za,default:1},Bu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qi=Bu("deg"),Nr=Bu("%"),Te=Bu("px"),lj=Bu("vh"),uj=Bu("vw"),JE={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},cj={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},dj={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:md,scaleX:md,scaleY:md,scaleZ:md,skew:qi,skewX:qi,skewY:qi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Eu,originX:JE,originY:JE,originZ:Te},ZE={...za,transform:Math.round},_y={...cj,...dj,zIndex:ZE,size:Te,fillOpacity:Eu,strokeOpacity:Eu,numOctaves:ZE},hj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fj=Ba.length;function pj(t,e,n){let r="",s=!0;for(let a=0;a<fj;a++){const l=Ba[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=qC(c,_y[l]);if(!h){s=!1;const g=hj[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function wy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(co.has(h)){l=!0;continue}else if(yy(h)){s[h]=p;continue}else{const g=qC(p,_y[h]);h.startsWith("origin")?(c=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=pj(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}const Ey=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HC(t,e,n){for(const r in e)!nn(e[r])&&!$C(r,n)&&(t[r]=e[r])}function mj({transformTemplate:t},e){return O.useMemo(()=>{const n=Ey();return wy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gj(t,e){const n=t.style||{},r={};return HC(r,n,t),Object.assign(r,mj(t,e)),r}function yj(t,e){const n={},r=gj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const vj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ty(t){return typeof t!="string"||t.includes("-")?!1:!!(vj.indexOf(t)>-1||/[A-Z]/u.test(t))}const _j={offset:"stroke-dashoffset",array:"stroke-dasharray"},wj={offset:"strokeDashoffset",array:"strokeDasharray"};function Ej(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?_j:wj;t[a.offset]=Te.transform(-r);const l=Te.transform(e),c=Te.transform(n);t[a.array]=`${l} ${c}`}function eT(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function Tj(t,e,n){const r=eT(e,t.x,t.width),s=eT(n,t.y,t.height);return`${r} ${s}`}function Sy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},g,_){if(wy(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:I,dimensions:C}=t;E.transform&&(C&&(I.transform=E.transform),delete E.transform),C&&(s!==void 0||a!==void 0||I.transform)&&(I.transformOrigin=Tj(C,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&Ej(E,l,c,h,!1)}const WC=()=>({...Ey(),attrs:{}}),Iy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sj(t,e,n,r){const s=O.useMemo(()=>{const a=WC();return Sy(a,e,Iy(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};HC(a,t.style,t),s.style={...a,...s.style}}return s}function Ij(t=!1){return(n,r,s,{latestValues:a},l)=>{const h=(Ty(n)?Sj:yj)(r,a,l,n),p=WM(r,typeof n=="string",t),g=n!==O.Fragment?{...p,...h,ref:s}:{},{children:_}=r,E=O.useMemo(()=>nn(_)?_.get():_,[_]);return O.createElement(n,{...g,children:E})}}function tT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Cy(t,e,n,r){if(typeof e=="function"){const[s,a]=tT(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=tT(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Bm=t=>Array.isArray(t),Cj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Aj=t=>Bm(t)?t[t.length-1]||0:t;function Dd(t){const e=nn(t)?t.get():t;return Cj(e)?e.toValue():e}function Rj({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:Pj(r,s,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const KC=t=>(e,n)=>{const r=O.useContext(Fh),s=O.useContext(cy),a=()=>Rj(t,e,r,s);return n?a():MM(a)};function Pj(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Dd(a[E]);let{initial:l,animate:c}=t;const h=Bh(t),p=jC(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!Uh(_)){const E=Array.isArray(_)?_:[_];for(let I=0;I<E.length;I++){const C=Cy(t,E[I]);if(C){const{transitionEnd:x,transition:A,...b}=C;for(const j in b){let L=b[j];if(Array.isArray(L)){const Q=g?L.length-1:0;L=L[Q]}L!==null&&(s[j]=L)}for(const j in x)s[j]=x[j]}}}return s}function Ay(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(nn(s[l])||e.style&&nn(e.style[l])||$C(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const xj={useVisualState:KC({scrapeMotionValuesFromProps:Ay,createRenderState:Ey})};function GC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function QC(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const XC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YC(t,e,n,r){QC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(XC.has(s)?s:my(s),e.attrs[s])}function JC(t,e,n){const r=Ay(t,e,n);for(const s in t)if(nn(t[s])||nn(e[s])){const a=Ba.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const nT=["x","y","width","height","cx","cy","r"],kj={useVisualState:KC({scrapeMotionValuesFromProps:JC,createRenderState:WC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in s)if(co.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<nT.length;c++){const h=nT[c];t[h]!==e[h]&&(l=!0)}l&&et.read(()=>{GC(n,r),et.render(()=>{Sy(r,s,Iy(n.tagName),t.transformTemplate),YC(n,r)})})}})};function bj(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Ty(r)?kj:xj,preloadedFeatures:t,useRender:Ij(s),createVisualElement:e,Component:r};return tj(l)}}function zh(t,e,n){const r=t.getProps();return Cy(r,e,n!==void 0?n:r.custom,t)}const Dj=hy(()=>window.ScrollTimeline!==void 0);class Nj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Dj()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Oj extends Nj{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ry(t,e){return t?t[e]||t.default||t:void 0}const zm=2e4;function ZC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zm;)e+=n,r=t.next(e);return e>=zm?1/0:e}function Py(t){return typeof t=="function"}function rT(t,e){t.timeline=e,t.onfinish=null}const xy=t=>Array.isArray(t)&&typeof t[0]=="number",Vj={linearEasing:void 0};function Lj(t,e){const n=hy(t);return()=>{var r;return(r=Vj[e])!==null&&r!==void 0?r:n()}}const rh=Lj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Aa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function tA(t){return!!(typeof t=="function"&&rh()||!t||typeof t=="string"&&(t in $m||rh())||xy(t)||Array.isArray(t)&&t.every(tA))}const Gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$m={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gl([0,.65,.55,1]),circOut:Gl([.55,0,1,.45]),backIn:Gl([.31,.01,.66,-.59]),backOut:Gl([.33,1.53,.69,.99])};function nA(t,e){if(t)return typeof t=="function"&&rh()?eA(t,e):xy(t)?Gl(t):Array.isArray(t)?t.map(n=>nA(n,e)||$m.easeOut):$m[t]}const lr={x:!1,y:!1};function rA(){return lr.x||lr.y}function Mj(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function iA(t,e){const n=Mj(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function iT(t){return!(t.pointerType==="touch"||rA())}function jj(t,e,n={}){const[r,s,a]=iA(t,n),l=c=>{if(!iT(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const g=_=>{iT(_)&&(p(_),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const sA=(t,e)=>e?t===e?!0:sA(t,e.parentElement):!1,ky=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Fj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Uj(t){return Fj.has(t.tagName)||t.tabIndex!==-1}const Ql=new WeakSet;function sT(t){return e=>{e.key==="Enter"&&t(e)}}function Hp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sT(()=>{if(Ql.has(n))return;Hp(n,"down");const s=sT(()=>{Hp(n,"up")}),a=()=>Hp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function oT(t){return ky(t)&&!rA()}function zj(t,e,n={}){const[r,s,a]=iA(t,n),l=c=>{const h=c.currentTarget;if(!oT(c)||Ql.has(h))return;Ql.add(h);const p=e(h,c),g=(I,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!oT(I)||!Ql.has(h))&&(Ql.delete(h),typeof p=="function"&&p(I,{success:C}))},_=I=>{g(I,n.useGlobalTarget||sA(h,I.target))},E=I=>{g(I,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(c=>{!Uj(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",p=>Bj(p,s),s)}),a}function $j(t){return t==="x"||t==="y"?lr[t]?null:(lr[t]=!0,()=>{lr[t]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}const oA=new Set(["width","height","top","left","right","bottom",...Ba]);let Nd;function qj(){Nd=void 0}const Or={now:()=>(Nd===void 0&&Or.set(zt.isProcessing||UM.useManualTiming?zt.timestamp:performance.now()),Nd),set:t=>{Nd=t,queueMicrotask(qj)}};function by(t,e){t.indexOf(e)===-1&&t.push(e)}function Dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ny{constructor(){this.subscriptions=[]}add(e){return by(this.subscriptions,e),()=>Dy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aA(t,e){return e?t*(1e3/e):0}const aT=30,Hj=t=>!isNaN(parseFloat(t));class Wj{constructor(e,n={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Or.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ny);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aT);return aA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(t,e){return new Wj(t,e)}function Kj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tu(n))}function Gj(t,e){const n=zh(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=Aj(a[l]);Kj(t,l,c)}}function Qj(t){return!!(nn(t)&&t.add)}function qm(t,e){const n=t.getValue("willChange");if(Qj(n))return n.add(e)}function lA(t){return t.props[FC]}const uA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Xj=1e-7,Yj=12;function Jj(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=uA(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>Xj&&++c<Yj);return l}function zu(t,e,n,r){if(t===e&&n===r)return kn;const s=a=>Jj(a,0,1,t,n);return a=>a===0||a===1?a:uA(s(a),e,r)}const cA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dA=t=>e=>1-t(1-e),hA=zu(.33,1.53,.69,.99),Oy=dA(hA),fA=cA(Oy),pA=t=>(t*=2)<1?.5*Oy(t):.5*(2-Math.pow(2,-10*(t-1))),Vy=t=>1-Math.sin(Math.acos(t)),mA=dA(Vy),gA=cA(Vy),yA=t=>/^0[^.\s]+$/u.test(t);function Zj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yA(t):!0}const nu=t=>Math.round(t*1e5)/1e5,Ly=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eF(t){return t==null}const tF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(t,e)=>n=>!!(typeof n=="string"&&tF.test(n)&&n.startsWith(t)||e&&!eF(n)&&Object.prototype.hasOwnProperty.call(n,e)),vA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Ly);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},nF=t=>fi(0,255,t),Wp={...za,transform:t=>Math.round(nF(t))},Xs={test:My("rgb","red"),parse:vA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wp.transform(t)+", "+Wp.transform(e)+", "+Wp.transform(n)+", "+nu(Eu.transform(r))+")"};function rF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hm={test:My("#"),parse:rF,transform:Xs.transform},ua={test:My("hsl","hue"),parse:vA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(nu(e))+", "+Nr.transform(nu(n))+", "+nu(Eu.transform(r))+")"},Jt={test:t=>Xs.test(t)||Hm.test(t)||ua.test(t),parse:t=>Xs.test(t)?Xs.parse(t):ua.test(t)?ua.parse(t):Hm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xs.transform(t):ua.transform(t)},iF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ly))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(iF))===null||n===void 0?void 0:n.length)||0)>0}const _A="number",wA="color",oF="var",aF="var(",lT="${}",lF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(lF,h=>(Jt.test(h)?(r.color.push(a),s.push(wA),n.push(Jt.parse(h))):h.startsWith(aF)?(r.var.push(a),s.push(oF),n.push(h)):(r.number.push(a),s.push(_A),n.push(parseFloat(h))),++a,lT)).split(lT);return{values:n,split:c,indexes:r,types:s}}function EA(t){return Su(t).values}function TA(t){const{split:e,types:n}=Su(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===_A?a+=nu(s[l]):c===wA?a+=Jt.transform(s[l]):a+=s[l]}return a}}const uF=t=>typeof t=="number"?0:t;function cF(t){const e=EA(t);return TA(t)(e.map(uF))}const cs={test:sF,parse:EA,createTransformer:TA,getAnimatableNone:cF},dF=new Set(["brightness","contrast","saturate","opacity"]);function hF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ly)||[];if(!r)return t;const s=n.replace(r,"");let a=dF.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const fF=/\b([a-z-]*)\(.*?\)/gu,Wm={...cs,getAnimatableNone:t=>{const e=t.match(fF);return e?e.map(hF).join(" "):t}},pF={..._y,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Wm,WebkitFilter:Wm},jy=t=>pF[t];function SA(t,e){let n=jy(t);return n!==Wm&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mF=new Set(["auto","none","0"]);function gF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!mF.has(a)&&Su(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=SA(n,s)}const uT=t=>t===za||t===Te,cT=(t,e)=>parseFloat(t.split(", ")[e]),dT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return cT(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?cT(a[1],t):0}},yF=new Set(["x","y","z"]),vF=Ba.filter(t=>!yF.has(t));function _F(t){const e=[];return vF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dT(4,13),y:dT(5,14)};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Zs=new Set;let Km=!1,Gm=!1;function IA(){if(Gm){const t=Array.from(Zs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=_F(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gm=!1,Km=!1,Zs.forEach(t=>t.complete()),Zs.clear()}function CA(){Zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gm=!0)})}function wF(){CA(),IA()}class Fy{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zs.add(this),Km||(Km=!0,et.read(CA),et.resolveKeyframes(IA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),EF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TF(t){const e=EF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function RA(t,e,n=1){const[r,s]=TF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return AA(l)?parseFloat(l):l}return vy(s)?RA(s,e,n+1):s}const PA=t=>e=>e.test(t),SF={test:t=>t==="auto",parse:t=>t},xA=[za,Te,Nr,qi,uj,lj,SF],hT=t=>xA.find(PA(t));class kA extends Fy{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),vy(p))){const g=RA(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!oA.has(r)||e.length!==2)return;const[s,a]=e,l=hT(s),c=hT(a);if(l!==c)if(uT(l)&&uT(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Zj(e[s])&&r.push(s);r.length&&gF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Pa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const fT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function IF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=fT(s,e),c=fT(a,e);return!l||!c?!1:IF(t)||(n==="spring"||Py(n))&&r}const AF=t=>t!==null;function $h(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(AF),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const RF=40;class bA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Or.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wF(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Or.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!CF(e,r,s,a))if(l)this.options.duration=0;else{h&&h($h(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(t,e,n)=>t+(e-t)*n;function Kp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;s=Kp(h,c,t+1/3),a=Kp(h,c,t),l=Kp(h,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function ih(t,e){return n=>n>0?e:t}const Gp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},xF=[Hm,Xs,ua],kF=t=>xF.find(e=>e.test(t));function pT(t){const e=kF(t);if(!e)return!1;let n=e.parse(t);return e===ua&&(n=PF(n)),n}const mT=(t,e)=>{const n=pT(t),r=pT(e);if(!n||!r)return ih(t,e);const s={...n};return a=>(s.red=Gp(n.red,r.red,a),s.green=Gp(n.green,r.green,a),s.blue=Gp(n.blue,r.blue,a),s.alpha=ut(n.alpha,r.alpha,a),Xs.transform(s))},bF=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(bF),Qm=new Set(["none","hidden"]);function DF(t,e){return Qm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function NF(t,e){return n=>ut(t,e,n)}function Uy(t){return typeof t=="number"?NF:typeof t=="string"?vy(t)?ih:Jt.test(t)?mT:LF:Array.isArray(t)?DA:typeof t=="object"?Jt.test(t)?mT:OF:ih}function DA(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Uy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function OF(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Uy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function VF(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,s[l]++}return r}const LF=(t,e)=>{const n=cs.createTransformer(e),r=Su(t),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Qm.has(t)&&!s.values.length||Qm.has(e)&&!r.values.length?DF(t,e):$u(DA(VF(r,s),s.values),n):ih(t,e)};function NA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ut(t,e,n):Uy(t)(t,e)}const MF=5;function OA(t,e,n){const r=Math.max(e-MF,0);return aA(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gT=.001;function jF({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let s,a,l=1-e;l=fi(ht.minDamping,ht.maxDamping,l),t=fi(ht.minDuration,ht.maxDuration,ai(t)),l<1?(s=p=>{const g=p*l,_=g*t,E=g-n,I=Xm(p,l),C=Math.exp(-_);return gT-E/I*C},a=p=>{const _=p*l*t,E=_*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-_),x=Xm(Math.pow(p,2),l);return(-s(p)+gT>0?-1:1)*((E-I)*C)/x}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,h=UF(s,a,c);if(t=oi(t),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const FF=12;function UF(t,e,n){let r=n;for(let s=1;s<FF;s++)r=r-t(r)/e(r);return r}function Xm(t,e){return t*Math.sqrt(1-e*e)}const BF=["duration","bounce"],zF=["stiffness","damping","mass"];function yT(t,e){return e.some(n=>t[n]!==void 0)}function $F(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!yT(t,zF)&&yT(t,BF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*fi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:a}}else{const n=jF(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function VA(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:I}=$F({...n,velocity:-ai(n.velocity||0)}),C=E||0,x=p/(2*Math.sqrt(h*g)),A=l-a,b=ai(Math.sqrt(h/g)),j=Math.abs(A)<5;r||(r=j?ht.restSpeed.granular:ht.restSpeed.default),s||(s=j?ht.restDelta.granular:ht.restDelta.default);let L;if(x<1){const z=Xm(b,x);L=re=>{const D=Math.exp(-x*b*re);return l-D*((C+x*b*A)/z*Math.sin(z*re)+A*Math.cos(z*re))}}else if(x===1)L=z=>l-Math.exp(-b*z)*(A+(C+b*A)*z);else{const z=b*Math.sqrt(x*x-1);L=re=>{const D=Math.exp(-x*b*re),R=Math.min(z*re,300);return l-D*((C+x*b*A)*Math.sinh(R)+z*A*Math.cosh(R))/z}}const Q={calculatedDuration:I&&_||null,next:z=>{const re=L(z);if(I)c.done=z>=_;else{let D=0;x<1&&(D=z===0?oi(C):OA(L,z,re));const R=Math.abs(D)<=r,k=Math.abs(l-re)<=s;c.done=R&&k}return c.value=c.done?l:re,c},toString:()=>{const z=Math.min(ZC(Q),zm),re=eA(D=>Q.next(z*D).value,z,30);return z+"ms "+re}};return Q}function vT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},I=R=>c!==void 0&&R<c||h!==void 0&&R>h,C=R=>c===void 0?h:h===void 0||Math.abs(c-R)<Math.abs(h-R)?c:h;let x=n*e;const A=_+x,b=l===void 0?A:l(A);b!==A&&(x=b-_);const j=R=>-x*Math.exp(-R/r),L=R=>b+j(R),Q=R=>{const k=j(R),M=L(R);E.done=Math.abs(k)<=p,E.value=E.done?b:M};let z,re;const D=R=>{I(E.value)&&(z=R,re=VA({keyframes:[E.value,C(E.value)],velocity:OA(L,R,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:R=>{let k=!1;return!re&&z===void 0&&(k=!0,Q(R),D(R)),z!==void 0&&R>=z?re.next(R-z):(!k&&Q(R),E)}}}const qF=zu(.42,0,1,1),HF=zu(0,0,.58,1),LA=zu(.42,0,.58,1),WF=t=>Array.isArray(t)&&typeof t[0]!="number",_T={linear:kn,easeIn:qF,easeInOut:LA,easeOut:HF,circIn:Vy,circInOut:gA,circOut:mA,backIn:Oy,backInOut:fA,backOut:hA,anticipate:pA},wT=t=>{if(xy(t)){Um(t.length===4);const[e,n,r,s]=t;return zu(e,n,r,s)}else if(typeof t=="string")return Um(_T[t]!==void 0),_T[t];return t};function KF(t,e,n){const r=[],s=n||NA,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||kn:e;c=$u(h,c)}r.push(c)}return r}function GF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Um(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=KF(e,r,s),h=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(h>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=Aa(t[_],t[_+1],g);return c[_](E)};return n?g=>p(fi(t[0],t[a-1],g)):p}function QF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Aa(0,e,r);t.push(ut(n,1,s))}}function XF(t){const e=[0];return QF(e,t.length-1),e}function YF(t,e){return t.map(n=>n*e)}function JF(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function sh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=WF(r)?r.map(wT):wT(r),a={done:!1,value:e[0]},l=YF(n&&n.length===e.length?n:XF(e),t),c=GF(l,e,{ease:Array.isArray(s)?s:JF(e,s)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const ZF=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>us(e),now:()=>zt.isProcessing?zt.timestamp:Or.now()}},e4={decay:vT,inertia:vT,tween:sh,keyframes:sh,spring:VA},t4=t=>t/100;class By extends bA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||Fy,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(a,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Py(n)?n:e4[n]||sh;let h,p;c!==sh&&typeof e[0]!="number"&&(h=$u(t4,NA(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=ZC(g));const{calculatedDuration:_}=g,E=_+s,I=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:E,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:I,repeatType:C,repeatDelay:x,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-E*(this.speed>=0?1:-1),j=this.speed>=0?b<0:b>g;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,Q=a;if(I){const R=Math.min(this.currentTime,g)/_;let k=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&k--,k=Math.min(k,I+1),!!(k%2)&&(C==="reverse"?(M=1-M,x&&(M-=x/_)):C==="mirror"&&(Q=l)),L=fi(0,1,M)*_}const z=j?{done:!1,value:h[0]}:Q.next(L);c&&(z.value=c(z.value));let{done:re}=z;!j&&p!==null&&(re=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return D&&s!==void 0&&(z.value=$h(h,this.options,s)),A&&A(z.value),D&&this.finish(),z}get duration(){const{resolved:e}=this;return e?ai(e.calculatedDuration):0}get time(){return ai(this.currentTime)}set time(e){e=oi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const n4=new Set(["opacity","clipPath","filter","transform"]);function r4(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=nA(c,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const i4=hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oh=10,s4=2e4;function o4(t){return Py(t.type)||t.type==="spring"||!tA(t.ease)}function a4(t,e){const n=new By({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<s4;)r=n.sample(a),s.push(r.value),a+=oh;return{times:void 0,keyframes:s,duration:a-oh,ease:"linear"}}const MA={anticipate:pA,backInOut:fA,circInOut:gA};function l4(t){return t in MA}class ET extends bA{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new kA(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&rh()&&l4(a)&&(a=MA[a]),o4(this.options)){const{onComplete:_,onUpdate:E,motionValue:I,element:C,...x}=this.options,A=a4(e,x);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,s=A.times,a=A.ease,l="keyframes"}const g=r4(c.owner.current,h,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(rT(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;c.set($h(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ai(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ai(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=oi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kn;const{animation:r}=n;rT(r,e)}return kn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...I}=this.options,C=new By({...I,keyframes:r,duration:s,type:a,ease:l,times:c,isGenerator:!0}),x=oi(this.time);p.setWithVelocity(C.sample(x-oh).value,C.sample(x).value,oh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return i4()&&r&&n4.has(r)&&!h&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const u4={type:"spring",stiffness:500,damping:25,restSpeed:10},c4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d4={type:"keyframes",duration:.8},h4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f4=(t,{keyframes:e})=>e.length>2?d4:co.has(t)?t.startsWith("scale")?c4(e[1]):u4:h4;function p4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const zy=(t,e,n,r={},s,a)=>l=>{const c=Ry(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-oi(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:E=>{e.set(E),c.onUpdate&&c.onUpdate(E)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};p4(c)||(g={...g,...f4(t,g)}),g.duration&&(g.duration=oi(g.duration)),g.repeatDelay&&(g.repeatDelay=oi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=$h(g.keyframes,c);if(E!==void 0)return et.update(()=>{g.onUpdate(E),g.onComplete()}),new Oj([])}return!a&&ET.supports(g)?new ET(g):new By(g)};function m4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in h){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),I=h[_];if(I===void 0||g&&m4(g,_))continue;const C={delay:n,...Ry(l||{},_)};let x=!1;if(window.MotionHandoffAnimation){const b=lA(t);if(b){const j=window.MotionHandoffAnimation(b,_,et);j!==null&&(C.startTime=j,x=!0)}}qm(t,_),E.start(zy(_,E,I,t.shouldReduceMotion&&oA.has(_)?{type:!1}:C,t,x));const A=E.animation;A&&p.push(A)}return c&&Promise.all(p).then(()=>{et.update(()=>{c&&Gj(t,c)})}),p}function Ym(t,e,n={}){var r;const s=zh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(jA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return g4(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function g4(t,e,n=0,r=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(y4).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Ym(p,e,{...a,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function y4(t,e){return t.sortNodePosition(e)}function v4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Ym(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Ym(t,e,n);else{const s=typeof e=="function"?zh(t,e,n.custom):e;r=Promise.all(jA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const _4=py.length;function UA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_4;n++){const r=py[n],s=t.props[r];(_u(s)||s===!1)&&(e[r]=s)}return e}const w4=[...fy].reverse(),E4=fy.length;function T4(t){return e=>Promise.all(e.map(({animation:n,options:r})=>v4(t,n,r)))}function S4(t){let e=T4(t),n=TT(),r=!0;const s=h=>(p,g)=>{var _;const E=zh(t,g,h==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:I,transitionEnd:C,...x}=E;p={...p,...x,...C}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=UA(t.parent)||{},_=[],E=new Set;let I={},C=1/0;for(let A=0;A<E4;A++){const b=w4[A],j=n[b],L=p[b]!==void 0?p[b]:g[b],Q=_u(L),z=b===h?j.isActive:null;z===!1&&(C=A);let re=L===g[b]&&L!==p[b]&&Q;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),j.protectedKeys={...I},!j.isActive&&z===null||!L&&!j.prevProp||Uh(L)||typeof L=="boolean")continue;const D=I4(j.prevProp,L);let R=D||b===h&&j.isActive&&!re&&Q||A>C&&Q,k=!1;const M=Array.isArray(L)?L:[L];let U=M.reduce(s(b),{});z===!1&&(U={});const{prevResolvedValues:$={}}=j,V={...$,...U},Xe=Se=>{R=!0,E.has(Se)&&(k=!0,E.delete(Se)),j.needsAnimating[Se]=!0;const se=t.getValue(Se);se&&(se.liveStyle=!1)};for(const Se in V){const se=U[Se],ye=$[Se];if(I.hasOwnProperty(Se))continue;let le=!1;Bm(se)&&Bm(ye)?le=!FA(se,ye):le=se!==ye,le?se!=null?Xe(Se):E.add(Se):se!==void 0&&E.has(Se)?Xe(Se):j.protectedKeys[Se]=!0}j.prevProp=L,j.prevResolvedValues=U,j.isActive&&(I={...I,...U}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(re&&D)||k)&&_.push(...M.map(Se=>({animation:Se,options:{type:b}})))}if(E.size){const A={};E.forEach(b=>{const j=t.getBaseTarget(b),L=t.getValue(b);L&&(L.liveStyle=!0),A[b]=j??null}),_.push({animation:A})}let x=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(_):Promise.resolve()}function c(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var I;return(I=E.animationState)===null||I===void 0?void 0:I.setActive(h,p)}),n[h].isActive=p;const _=l(h);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=TT(),r=!0}}}function I4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FA(e,t):!1}function $s(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TT(){return{animate:$s(!0),whileInView:$s(),whileHover:$s(),whileTap:$s(),whileDrag:$s(),whileFocus:$s(),exit:$s()}}class ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class C4 extends ps{constructor(e){super(e),e.animationState||(e.animationState=S4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let A4=0;class R4 extends ps{constructor(){super(...arguments),this.id=A4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const P4={animation:{Feature:C4},exit:{Feature:R4}};function Iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qu(t){return{point:{x:t.pageX,y:t.pageY}}}const x4=t=>e=>ky(e)&&t(e,qu(e));function ru(t,e,n,r){return Iu(t,e,x4(n),r)}const ST=(t,e)=>Math.abs(t-e);function k4(t,e){const n=ST(t.x,e.x),r=ST(t.y,e.y);return Math.sqrt(n**2+r**2)}class BA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=k4(_.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:C}=_,{timestamp:x}=zt;this.history.push({...C,timestamp:x});const{onStart:A,onMove:b}=this.handlers;E||(A&&A(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Qp(E,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:I,onSessionEnd:C,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Xp(_.type==="pointercancel"?this.lastMoveEventInfo:Qp(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,A),C&&C(_,A)},!ky(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=qu(e),c=Qp(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=zt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Xp(c,this.history)),this.removeListeners=$u(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function Qp(t,e){return e?{point:e(t.point)}:t}function IT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:IT(t,zA(e)),offset:IT(t,b4(e)),velocity:D4(e,.1)}}function b4(t){return t[0]}function zA(t){return t[t.length-1]}function D4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=zA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>oi(e)));)n--;if(!r)return{x:0,y:0};const a=ai(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const $A=1e-4,N4=1-$A,O4=1+$A,qA=.01,V4=0-qA,L4=0+qA;function cn(t){return t.max-t.min}function M4(t,e,n){return Math.abs(t-e)<=n}function CT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=cn(n)/cn(e),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=N4&&t.scale<=O4||isNaN(t.scale))&&(t.scale=1),(t.translate>=V4&&t.translate<=L4||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,r){CT(t.x,e.x,n.x,r?r.originX:void 0),CT(t.y,e.y,n.y,r?r.originY:void 0)}function AT(t,e,n){t.min=n.min+e.min,t.max=t.min+cn(e)}function j4(t,e,n){AT(t.x,e.x,n.x),AT(t.y,e.y,n.y)}function RT(t,e,n){t.min=e.min-n.min,t.max=t.min+cn(e)}function su(t,e,n){RT(t.x,e.x,n.x),RT(t.y,e.y,n.y)}function F4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function PT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function U4(t,{top:e,left:n,bottom:r,right:s}){return{x:PT(t.x,n,s),y:PT(t.y,e,r)}}function xT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function B4(t,e){return{x:xT(t.x,e.x),y:xT(t.y,e.y)}}function z4(t,e){let n=.5;const r=cn(t),s=cn(e);return s>r?n=Aa(e.min,e.max-r,t.min):r>s&&(n=Aa(t.min,t.max-s,e.min)),fi(0,1,n)}function $4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jm=.35;function q4(t=Jm){return t===!1?t=0:t===!0&&(t=Jm),{x:kT(t,"left","right"),y:kT(t,"top","bottom")}}function kT(t,e,n){return{min:bT(t,e),max:bT(t,n)}}function bT(t,e){return typeof t=="number"?t:t[e]||0}const DT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:DT(),y:DT()}),NT=()=>({min:0,max:0}),mt=()=>({x:NT(),y:NT()});function zn(t){return[t("x"),t("y")]}function HA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function H4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yp(t){return t===void 0||t===1}function Zm({scale:t,scaleX:e,scaleY:n}){return!Yp(t)||!Yp(e)||!Yp(n)}function Hs(t){return Zm(t)||WA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WA(t){return OT(t.x)||OT(t.y)}function OT(t){return t&&t!=="0%"}function ah(t,e,n){const r=t-n,s=e*r;return n+s}function VT(t,e,n,r,s){return s!==void 0&&(t=ah(t,s,r)),ah(t,n,r)+e}function eg(t,e=0,n=1,r,s){t.min=VT(t.min,e,n,r,s),t.max=VT(t.max,e,n,r,s)}function KA(t,{x:e,y:n}){eg(t.x,e.translate,e.scale,e.originPoint),eg(t.y,n.translate,n.scale,n.originPoint)}const LT=.999999999999,MT=1.0000000000001;function K4(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ha(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,KA(t,l)),r&&Hs(a.latestValues)&&ha(t,a.latestValues))}e.x<MT&&e.x>LT&&(e.x=1),e.y<MT&&e.y>LT&&(e.y=1)}function da(t,e){t.min=t.min+e,t.max=t.max+e}function jT(t,e,n,r,s=.5){const a=ut(t.min,t.max,s);eg(t,e,n,a,r)}function ha(t,e){jT(t.x,e.x,e.scaleX,e.scale,e.originX),jT(t.y,e.y,e.scaleY,e.scale,e.originY)}function GA(t,e){return HA(W4(t.getBoundingClientRect(),e))}function G4(t,e,n){const r=GA(t,n),{scroll:s}=e;return s&&(da(r.x,s.offset.x),da(r.y,s.offset.y)),r}const QA=({current:t})=>t?t.ownerDocument.defaultView:null,Q4=new WeakMap;class X4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qu(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:I,onDragStart:C}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$j(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(A=>{let b=this.getAxisMotionValue(A).get()||0;if(Nr.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const L=j.layout.layoutBox[A];L&&(b=cn(L)*(parseFloat(b)/100))}}this.originPoint[A]=b}),C&&et.postRender(()=>C(g,_)),qm(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:C,onDrag:x}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:A}=_;if(I&&this.currentDirection===null){this.currentDirection=Y4(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,A),this.updateAxis("y",_.point,A),this.visualElement.render(),x&&x(g,_)},c=(g,_)=>this.stop(g,_),h=()=>zn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new BA(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:QA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!gd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=F4(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&la(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=U4(s.layoutBox,n):this.constraints=!1,this.elastic=q4(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=$4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!la(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=G4(r,s.root,this.visualElement.getTransformPagePoint());let l=B4(s.layout.layoutBox,a);if(n){const c=n(H4(l));this.hasMutatedConstraints=!!c,c&&(l=HA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=zn(g=>{if(!gd(g,n,this.currentDirection))return;let _=h[g]||{};l&&(_={min:0,max:0});const E=s?200:1e6,I=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return qm(this.visualElement,e),r.start(zy(e,r,0,n,this.visualElement,!1))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zn(n=>{const{drag:r}=this.getProps();if(!gd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-ut(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!la(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=z4({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(l=>{if(!gd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(ut(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;Q4.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();la(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const l=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(zn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=h[g].translate,_.set(_.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Jm,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function gd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Y4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J4 extends ps{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new X4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const FT=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class Z4 extends ps{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new BA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FT(e),onStart:FT(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&et.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Od={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=UT(t,e.target.x),r=UT(t,e.target.y);return`${n}% ${r}%`}},eU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=cs.parse(t);if(s.length>5)return r;const a=cs.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const p=ut(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class tU extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;aj(nU),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Od.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||et.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XA(t){const[e,n]=jM(),r=O.useContext(NC);return S.jsx(tU,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(UC),isPresent:e,safeToRemove:n})}const nU={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:eU};function rU(t,e,n){const r=nn(t)?t:Tu(t);return r.start(zy("",r,e,n)),r.animation}function iU(t){return t instanceof SVGElement&&t.tagName!=="svg"}const sU=(t,e)=>t.depth-e.depth;class oU{constructor(){this.children=[],this.isDirty=!1}add(e){by(this.children,e),this.isDirty=!0}remove(e){Dy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sU),this.isDirty=!1,this.children.forEach(e)}}function aU(t,e){const n=Or.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(us(r),t(a-e))};return et.read(r,!0),()=>us(r)}const YA=["TopLeft","TopRight","BottomLeft","BottomRight"],lU=YA.length,BT=t=>typeof t=="string"?parseFloat(t):t,zT=t=>typeof t=="number"||Te.test(t);function uU(t,e,n,r,s,a){s?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,cU(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,dU(r))):a&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<lU;l++){const c=`border${YA[l]}Radius`;let h=$T(e,c),p=$T(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||zT(h)===zT(p)?(t[c]=Math.max(ut(BT(h),BT(p),r),0),(Nr.test(p)||Nr.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function $T(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cU=JA(0,.5,mA),dU=JA(.5,.95,kn);function JA(t,e,n){return r=>r<t?0:r>e?1:n(Aa(t,e,r))}function qT(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){qT(t.x,e.x),qT(t.y,e.y)}function HT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WT(t,e,n,r,s){return t-=e,t=ah(t,1/n,r),s!==void 0&&(t=ah(t,1/s,r)),t}function hU(t,e=0,n=1,r=.5,s,a=t,l=t){if(Nr.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ut(a.min,a.max,r);t===a&&(c-=e),t.min=WT(t.min,e,n,c,s),t.max=WT(t.max,e,n,c,s)}function KT(t,e,[n,r,s],a,l){hU(t,e[n],e[r],e[s],e.scale,a,l)}const fU=["x","scaleX","originX"],pU=["y","scaleY","originY"];function GT(t,e,n,r){KT(t.x,e,fU,n?n.x:void 0,r?r.x:void 0),KT(t.y,e,pU,n?n.y:void 0,r?r.y:void 0)}function QT(t){return t.translate===0&&t.scale===1}function ZA(t){return QT(t.x)&&QT(t.y)}function XT(t,e){return t.min===e.min&&t.max===e.max}function mU(t,e){return XT(t.x,e.x)&&XT(t.y,e.y)}function YT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eR(t,e){return YT(t.x,e.x)&&YT(t.y,e.y)}function JT(t){return cn(t.x)/cn(t.y)}function ZT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gU{constructor(){this.members=[]}add(e){by(this.members,e),e.scheduleRender()}remove(e){if(Dy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yU(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:I,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const Ws={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xl=typeof window<"u"&&window.MotionDebug!==void 0,Jp=["","X","Y","Z"],vU={visibility:"hidden"},e0=1e3;let _U=0;function Zp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tR(r)}function nR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=_U++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xl&&(Ws.totalNodes=Ws.resolvedTargetDeltas=Ws.recalculatedProjection=0),this.nodes.forEach(TU),this.nodes.forEach(RU),this.nodes.forEach(PU),this.nodes.forEach(SU),Xl&&window.MotionDebug.record(Ws)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new oU)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ny),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iU(l),this.instance=l;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=aU(E,250),Od.hasAnimatedSinceResize&&(Od.hasAnimatedSinceResize=!1,this.nodes.forEach(n0))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:I,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||NU,{onLayoutAnimationStart:A,onLayoutAnimationComplete:b}=g.getProps(),j=!this.targetLayout||!eR(this.targetLayout,C),L=!E&&I;if(this.options.layoutRoot||this.resumeFrom||L||E&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,L);const Q={...Ry(x,"layout"),onPlay:A,onComplete:b};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else E||n0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t0);return}this.isUpdating||this.nodes.forEach(CU),this.isUpdating=!1,this.nodes.forEach(AU),this.nodes.forEach(wU),this.nodes.forEach(EU),this.clearAllSnapshots();const c=Or.now();zt.delta=fi(0,1e3/60,c-zt.timestamp),zt.timestamp=c,zt.isProcessing=!0,qp.update.process(zt),qp.preRender.process(zt),qp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IU),this.sharedNodes.forEach(kU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ZA(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||Hs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),OU(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return mt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(VU))){const{scroll:g}=this.root;g&&(da(h.x,g.offset.x),da(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=mt();if(Bn(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Bn(h,l),da(h.x,_.offset.x),da(h.y,_.offset.y))}return h}applyTransform(l,c=!1){const h=mt();Bn(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ha(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Hs(g.latestValues)&&ha(h,g.latestValues)}return Hs(this.latestValues)&&ha(h,this.latestValues),h}removeTransform(l){const c=mt();Bn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Hs(p.latestValues))continue;Zm(p.latestValues)&&p.updateSnapshot();const g=mt(),_=p.measurePageBox();Bn(g,_),GT(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Hs(this.latestValues)&&GT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),su(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),KA(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),su(this.relativeTargetOrigin,this.target,I.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xl&&Ws.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zm(this.parent.latestValues)||WA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,I=this.treeScale.y;K4(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=mt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HT(this.prevProjectionDelta.x,this.projectionDelta.x),HT(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==I||!ZT(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Xl&&Ws.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},_=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const E=mt(),I=h?h.source:void 0,C=this.layout?this.layout.source:void 0,x=I!==C,A=this.getStack(),b=!A||A.members.length<=1,j=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(DU));this.animationProgress=0;let L;this.mixTargetDelta=Q=>{const z=Q/1e3;r0(_.x,l.x,z),r0(_.y,l.y,z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(su(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bU(this.relativeTarget,this.relativeTargetOrigin,E,z),L&&mU(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=mt()),Bn(L,this.relativeTarget)),x&&(this.animationValues=g,uU(g,p,this.latestValues,z,j,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Od.hasAnimatedSinceResize=!0,this.currentAnimation=rU(0,e0,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:g}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&rR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||mt();const _=cn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const E=cn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+E}Bn(c,h),ha(c,g),iu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new gU),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&Zp("z",l,p,this.animationValues);for(let g=0;g<Jp.length;g++)Zp(`rotate${Jp[g]}`,l,p,this.animationValues),Zp(`skew${Jp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vU;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Dd(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Dd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(x.transform=g?g({},""):"none",this.hasProjected=!1),x}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=yU(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:I,y:C}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${C.origin*100}% 0`,_.animationValues?p.opacity=_===this?(h=(c=E.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const x in wu){if(E[x]===void 0)continue;const{correct:A,applyTo:b,isCSSVariable:j}=wu[x],L=p.transform==="none"?E[x]:A(E[x],_);if(b){const Q=b.length;for(let z=0;z<Q;z++)p[b[z]]=L}else j?this.options.visualElement.renderState.vars[x]=L:p[x]=L}return this.options.layoutId&&(p.pointerEvents=_===this?Dd(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(t0),this.root.sharedNodes.clear()}}}function wU(t){t.updateLayout()}function EU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?zn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],I=cn(E);E.min=r[_].min,E.max=E.min+I}):rR(a,n.layoutBox,r)&&zn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],I=cn(r[_]);E.max=E.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+I)});const c=ca();iu(c,r,n.layoutBox);const h=ca();l?iu(h,t.applyTransform(s,!0),n.measuredBox):iu(h,r,n.layoutBox);const p=!ZA(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:I}=_;if(E&&I){const C=mt();su(C,n.layoutBox,E.layoutBox);const x=mt();su(x,r,I.layoutBox),eR(C,x)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function TU(t){Xl&&Ws.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IU(t){t.clearSnapshot()}function t0(t){t.clearMeasurements()}function CU(t){t.isLayoutDirty=!1}function AU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RU(t){t.resolveTargetDelta()}function PU(t){t.calcProjection()}function xU(t){t.resetSkewAndRotation()}function kU(t){t.removeLeadSnapshot()}function r0(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function i0(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function bU(t,e,n,r){i0(t.x,e.x,n.x,r),i0(t.y,e.y,n.y,r)}function DU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NU={duration:.45,ease:[.4,0,.1,1]},s0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o0=s0("applewebkit/")&&!s0("chrome/")?Math.round:kn;function a0(t){t.min=o0(t.min),t.max=o0(t.max)}function OU(t){a0(t.x),a0(t.y)}function rR(t,e,n){return t==="position"||t==="preserve-aspect"&&!M4(JT(e),JT(n),.2)}function VU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const LU=nR({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),em={current:void 0},iR=nR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!em.current){const t=new LU({});t.mount(window),t.setOptions({layoutScroll:!0}),em.current=t}return em.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MU={pan:{Feature:Z4},drag:{Feature:J4,ProjectionNode:iR,MeasureLayout:XA}};function l0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&et.postRender(()=>a(e,qu(e)))}class jU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=jj(e,(n,r)=>(l0(this.node,r,"Start"),s=>l0(this.node,s,"End"))))}unmount(){}}class FU extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u0(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&et.postRender(()=>a(e,qu(e)))}class UU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=zj(e,(n,r)=>(u0(this.node,r,"Start"),(s,{success:a})=>u0(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tg=new WeakMap,tm=new WeakMap,BU=t=>{const e=tg.get(t.target);e&&e(t)},zU=t=>{t.forEach(BU)};function $U({root:t,...e}){const n=t||document;tm.has(n)||tm.set(n,{});const r=tm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(zU,{root:t,...e})),r[s]}function qU(t,e,n){const r=$U(e);return tg.set(t,n),r.observe(t),()=>{tg.delete(t),r.unobserve(t)}}const HU={some:0,all:1};class WU extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:HU[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(h)};return qU(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KU(e,n))&&this.startObserver()}unmount(){}}function KU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GU={inView:{Feature:WU},tap:{Feature:UU},focus:{Feature:FU},hover:{Feature:jU}},QU={layout:{ProjectionNode:iR,MeasureLayout:XA}},ng={current:null},sR={current:!1};function XU(){if(sR.current=!0,!!dy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ng.current=t.matches;t.addListener(e),e()}else ng.current=!1}const YU=[...xA,Jt,cs],JU=t=>YU.find(PA(t)),ZU=new WeakMap;function e3(t,e,n){for(const r in e){const s=e[r],a=n[r];if(nn(s))t.addValue(r,s);else if(nn(a))t.addValue(r,Tu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Tu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const c0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Or.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,et.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Bh(n),this.isVariantNode=jC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const I in E){const C=E[I];h[I]!==void 0&&nn(C)&&C.set(h[I],!1)}}mount(e){this.current=e,ZU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sR.current||XU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ng.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=co.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ra){const n=Ra[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<c0.length;r++){const s=c0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=e3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(AA(s)||yA(s))?s=parseFloat(s):!JU(s)&&cs.test(n)&&(s=SA(e,n)),this.setBaseTarget(e,nn(s)?s.get():s)),nn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=Cy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!nn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ny),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class oR extends t3{constructor(){super(...arguments),this.KeyframeResolver=kA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n3(t){return window.getComputedStyle(t)}class r3 extends oR{constructor(){super(...arguments),this.type="html",this.renderInstance=QC}readValueFromInstance(e,n){if(co.has(n)){const r=jy(n);return r&&r.default||0}else{const r=n3(e),s=(yy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GA(e,n)}build(e,n,r){wy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ay(e,n,r)}}class i3 extends oR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&GC(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const r=jy(n);return r&&r.default||0}return n=XC.has(n)?n:my(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JC(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&et.postRender(this.updateDimensions)}build(e,n,r){Sy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){YC(e,n,r,s)}mount(e){this.isSVGTag=Iy(e.tagName),super.mount(e)}}const s3=(t,e)=>Ty(t)?new i3(e):new r3(e,{allowProjection:t!==O.Fragment}),o3=bj({...P4,...GU,...MU,...QU},s3),nm=KM(o3);function a3(){return S.jsxs("div",{className:"not-found-container",children:[S.jsx(nm.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1},className:"svg-container",children:S.jsx("svg",{viewBox:"0 0 300 150",className:"error-svg",children:S.jsx("text",{x:"50%",y:"50%",dy:".35em",textAnchor:"middle",children:"404"})})}),S.jsx(nm.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},className:"error-message",children:"Oops! The page you're looking for doesn't exist."}),S.jsx(nm.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:S.jsx(Mt,{to:"/",children:S.jsx("button",{className:"back-home-btn",children:"Go Home"})})})]})}function l3({SpCode:t}){const[e,n]=O.useState("Loading..."),{userName:r}=rs(),s="https://azign-backend.onrender.com";O.useEffect(()=>{if(!t)return;(async()=>{try{const{data:c}=await Ke.get(`${s}/api/space/${t}`);n((c==null?void 0:c.name)||"Unknown Space")}catch(c){console.error("Error fetching space name:",c),n("Unknown Space")}})()},[t]);const a=()=>{const l=new Date().getHours();return l<12?"Good Morning !":l<18?"Good Afternoon !":"Good Evening !"};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"form-container",children:[S.jsxs("h1",{children:[" Welcome to ",e]}),S.jsxs("div",{className:"greeting",children:[S.jsx("strong",{children:a()}),",  ",r]})]})})}function u3(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[s,a]=O.useState(!1),[l,c]=O.useState(!1),[h,p]=O.useState(localStorage.getItem("SpCode")||""),[g,_]=O.useState(!!localStorage.getItem("user")),E="https://azign-backend.onrender.com";return O.useEffect(()=>{if(!h)return;(async()=>{try{const[C,x]=await Promise.all([Ke.get(`${E}/api/space/${h}/projects`,{headers:{SpCode:h}}),Ke.get(`${E}/api/space/${h}/tasks`,{headers:{SpCode:h}})]);e(C.data),r(x.data)}catch(C){console.error("Error fetching data:",C)}})()},[h]),O.useEffect(()=>{_(!!localStorage.getItem("user"))},[]),S.jsx(mO,{children:S.jsxs(Vx,{children:[S.jsx(yO,{}),S.jsx("div",{className:"main-container",children:S.jsxs(dx,{children:[S.jsx(Vt,{path:"/login",element:S.jsx(YS,{setIsAuthenticated:_})}),S.jsx(Vt,{path:"/enter-code",element:S.jsx(NO,{setSpCode:p})}),S.jsx(Vt,{path:"/",element:S.jsx(lx,{to:g?h?`/space/${h}`:"/enter-code":"/login"})}),S.jsxs(Vt,{path:"/space/:SpCode/*",element:S.jsx(c3,{isAuthenticated:g}),children:[S.jsx(Vt,{index:!0,element:S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"space-component",children:S.jsx(l3,{SpCode:h,userName:localStorage.getItem("user")})}),S.jsx("div",{className:"tasks-component",children:S.jsx(qS,{tasks:l?n:n.slice(0,3),toggleShowAll:()=>c(!l),showAll:l,SpCode:h})}),S.jsx("div",{className:"projects-component",children:S.jsx($S,{projects:s?t:t.slice(0,3),toggleShowAll:()=>a(!s),showAll:s,SpCode:h})})]})}),S.jsx(Vt,{path:"projects/:projectCode",element:S.jsx(HS,{projects:t})}),S.jsx(Vt,{path:"tasks/:taskId",element:S.jsx(WS,{tasks:n})}),S.jsx(Vt,{path:"all-projects",element:S.jsx(KS,{projects:t,SpCode:h})}),S.jsx(Vt,{path:"all-tasks",element:S.jsx(GS,{tasks:n,SpCode:h})})]}),S.jsx(Vt,{path:"/space/:SpCode/chat",element:S.jsx(X2,{})}),S.jsx(Vt,{path:"/space/:SpCode/projects/create",element:S.jsx(Y2,{})}),S.jsx(Vt,{path:"/space/:SpCode/projects/:projectCode/update",element:S.jsx(J2,{})}),S.jsx(Vt,{path:"/space/:SpCode/tasks/create",element:S.jsx(Z2,{})}),S.jsx(Vt,{path:"/space/:SpCode/tasks/:taskId/update",element:S.jsx(eM,{})}),S.jsx(Vt,{path:"/space/:SpCode/projects/:projectCode/comments",element:S.jsx(VM,{})}),S.jsx(Vt,{path:"/space/:SpCode/tasks/:taskId/comments/",element:S.jsx(LM,{})}),S.jsx(Vt,{path:"*",element:S.jsx(a3,{})})]})}),S.jsx(d3,{SpCode:h})]})})}function c3({isAuthenticated:t}){const e=Wn(),{SpCode:n}=pi();return O.useEffect(()=>{t?n?localStorage.setItem("SpCode",n):e("/enter-code"):e("/login")},[t,n,e]),t&&n?S.jsx(ux,{}):null}function d3({SpCode:t}){return S.jsxs("div",{className:"navbar",children:[S.jsx(Mt,{to:`/space/${t}`,children:S.jsx("i",{className:"fas fa-home"})}),S.jsx(Mt,{to:`/space/${t}/all-tasks`,children:S.jsx("i",{className:"fas fa-tasks"})}),S.jsx(Mt,{to:`/space/${t}/all-projects`,children:S.jsx("i",{className:"fas fa-cube"})}),S.jsx(Mt,{to:`/space/${t}/chat`,children:S.jsx("i",{className:"fas fa-comments"})})]})}yP.createRoot(document.getElementById("root")).render(S.jsx(O.StrictMode,{children:S.jsx(u3,{})}));
